{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/zh/docs/common/header","result":{"data":{"site":{"siteMetadata":{"title":"S2","githubUrl":"https://github.com/antvis/s2","docs":[{"slug":"api/general","title":{"zh":"基础配置项","en":"Common configuration"},"order":0},{"slug":"api/basic-class","title":{"zh":"基础类","en":"Basic class"},"order":1},{"slug":"api/components","title":{"zh":"组件","en":"Components"},"order":2},{"slug":"manual/basic","title":{"zh":"基础教程","en":"Basic tutorial"},"order":3},{"slug":"manual/basic/sheet-type","title":{"zh":"表形态","en":"Sheet type"},"order":1},{"slug":"manual/advanced","title":{"zh":"进阶教程","en":"Advanced tutorial"},"order":4},{"slug":"manual/advanced/data-process","title":{"zh":"数据流处理","en":"Data Process"},"order":2},{"slug":"manual/advanced/layout","title":{"zh":"布局","en":"Layout"},"order":3},{"slug":"manual/advanced/custom","title":{"zh":"自定义","en":"Custom"},"order":4},{"slug":"manual/advanced/interaction","title":{"zh":"交互","en":"interaction"},"order":5},{"slug":"manual/basic/sort","title":{"zh":"排序","en":"Sort"},"order":6},{"slug":"manual/basic/analysis","title":{"zh":"分析组件","en":"Analyze component"},"order":7},{"slug":"manual/contribution","title":{"zh":"贡献指南","en":"Contributing"},"order":8},{"slug":"manual/faq","title":{"zh":"常见问题","en":"Common problem"},"order":8}]},"pathPrefix":""},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{"id":"headercfgprops","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#headercfgprops","ariaLabel":"headercfgprops permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"HeaderCfgProps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"description","properties":{},"children":[{"type":"text","value":" "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"optional"}]},{"type":"text","value":"  "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"HeaderCfgProps"}]},{"type":"text","value":"   default: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" "}]}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"参数"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"说明"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"类型"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"默认值"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"必选"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"title"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"自定义标题"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React.ReactNode"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"description"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"自定义说明"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React.ReactNode"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"className"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"表头类名"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"style"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"表头样式"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React.CSSProperties"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"extra"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"自定义表头右侧操作区"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"React.ReactNode"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"-"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"advancedSortCfg"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"配置高级排序"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/zh/docs/api/components/advanced-sort"},"children":[{"type":"text","value":"AdvancedSortCfgProps"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{open: false}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"exportCfg"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"配置导出"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/zh/docs/api/components/export"},"children":[{"type":"text","value":"ExportCfgProps"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{open: false}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"switcherCfg"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"配置指标切换"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/zh/docs/api/components/switcher#switchercfgprops"},"children":[{"type":"text","value":"SwitcherCfgProps"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{open: false}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[]}]}]}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/zh/docs/common/header/#headercfgprops\">HeaderCfgProps</a></li>\n</ul>","fields":{"slug":"/zh/docs/common/header","readingTime":{"text":"1 min read","time":39000}},"frontmatter":{"title":"表头","contributors":null},"parent":{"__typename":"File","relativePath":"common/header.zh.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/docs/manual/introduction"},"frontmatter":{"title":"Introduction","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/introduction"},"frontmatter":{"title":"简介","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/base-concept"},"frontmatter":{"title":"基本概念","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/base-concept"},"frontmatter":{"title":"Base Concept","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/sort/basic"},"frontmatter":{"title":"Group Sort","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/sort/basic"},"frontmatter":{"title":"组内排序","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/basic"},"frontmatter":{"title":"Basic Interaction","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/basic"},"frontmatter":{"title":"基础交互","order":0}}},{"node":{"fields":{"slug":"/zh/docs/common/header"},"frontmatter":{"title":"表头","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/general/S2DataConfig"},"frontmatter":{"title":"S2DataConfig","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/general/S2DataConfig"},"frontmatter":{"title":"S2DataConfig","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/components/sheet-component"},"frontmatter":{"title":"SheetComponent","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/components/sheet-component"},"frontmatter":{"title":"表组件","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/getting-started"},"frontmatter":{"title":"Quick Start","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/sort/advanced"},"frontmatter":{"title":"Advanced Sort","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/sort/advanced"},"frontmatter":{"title":"高级排序","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/sheet-type/pivot-mode"},"frontmatter":{"title":"Pivot Mode","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/sheet-type/pivot-mode"},"frontmatter":{"title":"透视表","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/layout/pivot"},"frontmatter":{"title":"Pivot","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/layout/pivot"},"frontmatter":{"title":"透视表","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/layout/table"},"frontmatter":{"title":"Table","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/custom"},"frontmatter":{"title":"Custom Interaction","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/custom"},"frontmatter":{"title":"自定义交互","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-process/pivot"},"frontmatter":{"title":"Pivot","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-process/pivot"},"frontmatter":{"title":"透视表","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/custom/hook"},"frontmatter":{"title":"Customize Hook","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/custom/hook"},"frontmatter":{"title":"自定义 Hook","order":1}}},{"node":{"fields":{"slug":"/en/docs/common/custom/layoutArrange"},"frontmatter":{"title":"layout arrange","order":1}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/layoutArrange"},"frontmatter":{"title":"自定义行列排列顺序","order":1}}},{"node":{"fields":{"slug":"/en/docs/common/custom/layoutHierarchy"},"frontmatter":{"title":"layout hierarchy","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/general/S2Options"},"frontmatter":{"title":"S2Options","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/general/S2Options"},"frontmatter":{"title":"S2Options","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/basic-class/spreadsheet"},"frontmatter":{"title":"SpreadSheet","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/spreadsheet"},"frontmatter":{"title":"SpreadSheet","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/sort/custom"},"frontmatter":{"title":"Custom Sort","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/sort/custom"},"frontmatter":{"title":"自定义排序","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/sheet-type/table-mode"},"frontmatter":{"title":"Table Mode","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/sheet-type/table-mode"},"frontmatter":{"title":"明细表","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/layout/table"},"frontmatter":{"title":"明细表","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/hide-columns"},"frontmatter":{"title":"Hide Columns","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/hide-columns"},"frontmatter":{"title":"隐藏列头","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-process/table"},"frontmatter":{"title":"明细表","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-process/table"},"frontmatter":{"title":"Table","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/custom/category-tree"},"frontmatter":{"title":"Customize Category Tree","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/custom/category-tree"},"frontmatter":{"title":"自定义目录树","order":2}}},{"node":{"fields":{"slug":"/en/docs/common/conditions"},"frontmatter":{"title":"Conditions","order":2}}},{"node":{"fields":{"slug":"/zh/docs/common/conditions"},"frontmatter":{"title":"字段标记","order":2}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/dataCellCallback"},"frontmatter":{"title":"自定义单元格","order":2}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/layoutHierarchy"},"frontmatter":{"title":"自定义层级结构","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/general/S2Theme"},"frontmatter":{"title":"S2Theme","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/general/S2Theme"},"frontmatter":{"title":"S2Theme","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/components/drill-down"},"frontmatter":{"title":"维度下钻","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/components/drill-down"},"frontmatter":{"title":"DrillDown","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/basic-class/interaction"},"frontmatter":{"title":"Interaction","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/interaction"},"frontmatter":{"title":"Interaction","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/link-jump"},"frontmatter":{"title":"链接跳转","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/link-jump"},"frontmatter":{"title":"Link Jump","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/custom/custom-icon"},"frontmatter":{"title":"自定义 Icon","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/custom/custom-icon"},"frontmatter":{"title":"Customize Icon","order":3}}},{"node":{"fields":{"slug":"/zh/docs/common/style"},"frontmatter":{"title":"Style","order":3}}},{"node":{"fields":{"slug":"/en/docs/common/totals"},"frontmatter":{"title":"Totals","order":3}}},{"node":{"fields":{"slug":"/zh/docs/common/totals"},"frontmatter":{"title":"小计总计","order":3}}},{"node":{"fields":{"slug":"/en/docs/common/custom/layoutDataPosition"},"frontmatter":{"title":"layout data position","order":3}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/layoutDataPosition"},"frontmatter":{"title":"自定义单元格","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/graphic"},"frontmatter":{"title":"Graphic style","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/graphic"},"frontmatter":{"title":"绘图属性","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/components/switcher"},"frontmatter":{"title":"维度切换组件","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/components/switcher"},"frontmatter":{"title":"Switcher","order":3}}},{"node":{"fields":{"slug":"/en/docs/api/basic-class/store"},"frontmatter":{"title":"Store","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/store"},"frontmatter":{"title":"Store","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/conditions"},"frontmatter":{"title":"Conditions","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/conditions"},"frontmatter":{"title":"字段标记","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/merge-cell"},"frontmatter":{"title":"Merge Cell","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/merge-cell"},"frontmatter":{"title":"合并单元格","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/custom/cell-align"},"frontmatter":{"title":"Customize Cell Alignment","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/custom/cell-align"},"frontmatter":{"title":"自定义单元格对齐方式","order":4}}},{"node":{"fields":{"slug":"/en/docs/common/style"},"frontmatter":{"title":"Style","order":4}}},{"node":{"fields":{"slug":"/en/docs/common/tooltip"},"frontmatter":{"title":"Tooltip","order":4}}},{"node":{"fields":{"slug":"/zh/docs/common/tooltip"},"frontmatter":{"title":"Tooltip","order":4}}},{"node":{"fields":{"slug":"/en/docs/common/custom/layoutCoordinate"},"frontmatter":{"title":"layout coordinate","order":4}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/layoutCoordinate"},"frontmatter":{"title":"自定义行列坐标","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/components/advanced-sort"},"frontmatter":{"title":"高级排序","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/components/advanced-sort"},"frontmatter":{"title":"Advanced Sort","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/components/header"},"frontmatter":{"title":"表头","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/components/header"},"frontmatter":{"title":"header","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/basic-class/base-cell"},"frontmatter":{"title":"BaseCell","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/base-cell"},"frontmatter":{"title":"BaseCell","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/totals"},"frontmatter":{"title":"Totals","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/totals"},"frontmatter":{"title":"小计总计","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/custom/cell-size"},"frontmatter":{"title":"Customize Cell Size","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/custom/cell-size"},"frontmatter":{"title":"自定义单元格宽高","order":5}}},{"node":{"fields":{"slug":"/zh/docs/common/browser"},"frontmatter":{"title":"浏览器引入","order":5}}},{"node":{"fields":{"slug":"/en/docs/common/browser"},"frontmatter":{"title":"Import in browser","order":5}}},{"node":{"fields":{"slug":"/en/docs/common/custom-tooltip"},"frontmatter":{"title":"Custom Tooltip","order":5}}},{"node":{"fields":{"slug":"/zh/docs/common/custom-tooltip"},"frontmatter":{"title":"自定义 Tooltip","order":5}}},{"node":{"fields":{"slug":"/en/docs/common/interaction"},"frontmatter":{"title":"Interaction","order":5}}},{"node":{"fields":{"slug":"/zh/docs/common/interaction"},"frontmatter":{"title":"交互","order":5}}},{"node":{"fields":{"slug":"/en/docs/common/packages"},"frontmatter":{"title":"Packages","order":5}}},{"node":{"fields":{"slug":"/zh/docs/common/packages"},"frontmatter":{"title":"Packages","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/components/export"},"frontmatter":{"title":"Export","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/components/export"},"frontmatter":{"title":"导出","order":5}}},{"node":{"fields":{"slug":"/en/docs/api/basic-class/base-data-set"},"frontmatter":{"title":"BaseDataSet","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/base-data-set"},"frontmatter":{"title":"BaseDataSet","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/node"},"frontmatter":{"title":"Node","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/theme"},"frontmatter":{"title":"Theme","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/theme"},"frontmatter":{"title":"主题配置","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/performance"},"frontmatter":{"title":"Performance","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/performance"},"frontmatter":{"title":"性能介绍","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/interaction/scroll"},"frontmatter":{"title":"Scroll","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/interaction/scroll"},"frontmatter":{"title":"滚动","order":6}}},{"node":{"fields":{"slug":"/en/docs/common/pagination"},"frontmatter":{"title":"Pagination","order":6}}},{"node":{"fields":{"slug":"/zh/docs/common/pagination"},"frontmatter":{"title":"分页","order":6}}},{"node":{"fields":{"slug":"/en/docs/common/view-meta"},"frontmatter":{"title":"ViewMeta","order":6}}},{"node":{"fields":{"slug":"/zh/docs/common/view-meta"},"frontmatter":{"title":"ViewMeta","order":6}}},{"node":{"fields":{"slug":"/en/docs/common/custom/headerActionIcons"},"frontmatter":{"title":"header action icons","order":6}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/headerActionIcons"},"frontmatter":{"title":"header action icons","order":6}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/base-tooltip"},"frontmatter":{"title":"BaseTooltip","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/contribution"},"frontmatter":{"title":"Contribution","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/contribution"},"frontmatter":{"title":"贡献指南","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/tooltip"},"frontmatter":{"title":"Tooltip","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/tooltip"},"frontmatter":{"title":"Tooltip","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/hd-adapter"},"frontmatter":{"title":"高清适配","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/hd-adapter"},"frontmatter":{"title":"HD Adapter","order":7}}},{"node":{"fields":{"slug":"/en/docs/common/sort-params"},"frontmatter":{"title":"SortParams","order":7}}},{"node":{"fields":{"slug":"/zh/docs/common/sort-params"},"frontmatter":{"title":"SortParams","order":7}}},{"node":{"fields":{"slug":"/en/docs/common/custom/customSvgIcons"},"frontmatter":{"title":"自定义图标","order":7}}},{"node":{"fields":{"slug":"/en/docs/common/custom/cellCallBack"},"frontmatter":{"title":"cell callback","order":7}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/cellCallBack"},"frontmatter":{"title":"cell callback","order":7}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/customSvgIcons"},"frontmatter":{"title":"custom svg icons","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/basic-class/base-facet"},"frontmatter":{"title":"BaseFacet","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/faq"},"frontmatter":{"title":"常见问题","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/faq"},"frontmatter":{"title":"Common problem","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/i18n"},"frontmatter":{"title":"Internationalization","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/i18n"},"frontmatter":{"title":"国际化","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/get-instance"},"frontmatter":{"title":"Get Instance","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/get-instance"},"frontmatter":{"title":"获取表格实例","order":8}}},{"node":{"fields":{"slug":"/en/docs/common/export"},"frontmatter":{"title":"Export","order":8}}},{"node":{"fields":{"slug":"/zh/docs/common/export"},"frontmatter":{"title":"导出","order":8}}},{"node":{"fields":{"slug":"/en/docs/common/custom/customTreeItem"},"frontmatter":{"title":"custom tree item","order":8}}},{"node":{"fields":{"slug":"/zh/docs/common/custom/customTreeItem"},"frontmatter":{"title":"自定义树结构","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/analysis/strategy"},"frontmatter":{"title":"Strategy Sheet","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/analysis/strategy"},"frontmatter":{"title":"趋势分析表组件","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/adaptive"},"frontmatter":{"title":"Table adaptive","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/adaptive"},"frontmatter":{"title":"表格自适应","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/get-cell-data"},"frontmatter":{"title":"获取单元格数据","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/get-cell-data"},"frontmatter":{"title":"Get Cell Data","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/analysis/switcher"},"frontmatter":{"title":"Switcher","order":10}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/analysis/switcher"},"frontmatter":{"title":"维度切换组件","order":10}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/analysis/export"},"frontmatter":{"title":"Export","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/analysis/pagination"},"frontmatter":{"title":"分页","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/analysis/export"},"frontmatter":{"title":"导出","order":11}}},{"node":{"fields":{"slug":"/en/docs/common/custom/dataCellCallback"},"frontmatter":{"title":"data-cell","order":11}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/analysis/pagination"},"frontmatter":{"title":"Pagination","order":12}}},{"node":{"fields":{"slug":"/en/docs/manual/basic/analysis/vue"},"frontmatter":{"title":"Vue 3.0","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/basic/analysis/vue"},"frontmatter":{"title":"Vue 3.0 组件","order":13}}},{"node":{"fields":{"slug":"/zh/docs/common/header-action-icon"},"frontmatter":{"title":"","order":null}}},{"node":{"fields":{"slug":"/en/docs/common/header-action-icon"},"frontmatter":{"title":"","order":null}}},{"node":{"fields":{"slug":"/en/docs/common/header"},"frontmatter":{"title":"","order":null}}}]}},"pageContext":{"examples":[{"relativePath":"theme/default/demo/colorful.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/default/demo/colorful.ts","order":1,"filename":"colorful.ts","title":{"zh":"多彩蓝","en":"Colorful blue"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/rgLkfo4MrT/95b7fbc3-8c6e-442c-9c4b-8bf8b3c3da1d.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.setThemeCfg({ name: 'colorful' });\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.colorful = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({\n      name: 'colorful'\n    });\n    s2.render();\n  });\n});"},{"relativePath":"theme/default/demo/default.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/default/demo/default.ts","order":0,"filename":"default.ts","title":{"zh":"默认","en":"Default"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/nDIO0OG8fv/4ff6613f-fad3-4ea6-9473-0161509f692c.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global._default = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"theme/default/demo/gray.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/default/demo/gray.ts","order":2,"filename":"gray.ts","title":{"zh":"简约灰","en":"Simple Gray"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/4rwGg8Rp3N/cf08d7dd-ab96-446e-ba8d-146de8cb6a64.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.setThemeCfg({ name: 'gray' });\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.gray = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({\n      name: 'gray'\n    });\n    s2.render();\n  });\n});"},{"relativePath":"theme/custom/demo/custom-palette.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/custom/demo/custom-palette.ts","order":1,"filename":"custom-palette.ts","title":{"zh":"自定义色板","en":"Custom palette"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/YxskohI92J/c17971dd-6dd9-4a62-85f8-c69dff908aec.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2Palette = {\n      basicColors: [\n        '#FFFFFF',\n        '#F8F5FE',\n        '#EDE1FD',\n        '#873BF4',\n        '#7232CF',\n        '#7232CF',\n        '#7232CF',\n        '#AB76F7',\n        '#FFFFFF',\n        '#DDC7FC',\n        '#9858F5',\n        '#B98EF8',\n        '#873BF4',\n        '#282B33',\n        '#121826',\n      ],\n\n      // ---------- semantic colors ----------\n      semanticColors: {\n        red: '#FF4D4F',\n        green: '#29A294',\n      },\n    };\n\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.setThemeCfg({ palette: s2Palette });\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customPalette = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2Palette = {\n      basicColors: ['#FFFFFF', '#F8F5FE', '#EDE1FD', '#873BF4', '#7232CF', '#7232CF', '#7232CF', '#AB76F7', '#FFFFFF', '#DDC7FC', '#9858F5', '#B98EF8', '#873BF4', '#282B33', '#121826'],\n      // ---------- semantic colors ----------\n      semanticColors: {\n        red: '#FF4D4F',\n        green: '#29A294'\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({\n      palette: s2Palette\n    });\n    s2.render();\n  });\n});"},{"relativePath":"theme/custom/demo/custom-generate-palette.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/custom/demo/custom-generate-palette.tsx","order":0,"filename":"custom-generate-palette.tsx","title":{"zh":"主题色自动生成色板","en":"Generate palette"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/571bdIS6Q/CleanShot%2525202022-04-02%252520at%25252011.10.20.gif","source":"import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { getPalette, generatePalette, ThemeCfg } from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport { ChromePicker } from 'react-color';\nimport { Button, Popover, Space } from 'antd';\n\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    function App() {\n      const [themeColor, setThemeColor] = useState('#EA1720');\n      const [themeCfg, setThemeCfg] = useState<ThemeCfg>({\n        name: 'colorful',\n      });\n\n      const updatePalette = (newThemeColor) => {\n        // 使用内置的 colorful 色板作为参考色板\n        const palette = getPalette(themeCfg.name);\n        // 使用参考色板 & 主题色值生成新色板\n        const newPalette = generatePalette({\n          ...palette,\n          brandColor: newThemeColor,\n        });\n\n        // 使用新色板设置主题\n        setThemeCfg({\n          name: themeCfg.name,\n          palette: newPalette,\n        });\n      };\n\n      useEffect(() => {\n        updatePalette(themeColor);\n      }, []);\n\n      return (\n        <Space direction=\"vertical\">\n          <Space>\n            <span>当前主题色: {themeColor}</span>\n            <Popover\n              placement=\"bottomRight\"\n              content={\n                <ChromePicker\n                  disableAlpha\n                  color={themeColor}\n                  onChangeComplete={(color) => {\n                    setThemeColor(color.hex);\n                    updatePalette(color.hex);\n                  }}\n                />\n              }\n            >\n              <Button size=\"small\" style={{ marginLeft: 20 }}>\n                主题色调整\n              </Button>\n            </Popover>\n          </Space>\n          <SheetComponent\n            dataCfg={dataCfg}\n            options={s2Options}\n            themeCfg={themeCfg}\n          />\n        </Space>\n      );\n    }\n\n    ReactDOM.render(<App />, document.getElementById('container'));\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2\", \"@antv/s2-react\", \"react-color\", \"antd\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"react-color\"), require(\"antd\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2, global.s2React, global.reactColor, global.antd, global.styleMin);\n    global.customGeneratePalette = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2, _s2React, _reactColor, _antd, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n\n    function App() {\n      var _useState = (0, _react.useState)('#EA1720'),\n          _useState2 = _slicedToArray(_useState, 2),\n          themeColor = _useState2[0],\n          setThemeColor = _useState2[1];\n\n      var _useState3 = (0, _react.useState)({\n        name: 'colorful'\n      }),\n          _useState4 = _slicedToArray(_useState3, 2),\n          themeCfg = _useState4[0],\n          setThemeCfg = _useState4[1];\n\n      var updatePalette = function updatePalette(newThemeColor) {\n        // 使用内置的 colorful 色板作为参考色板\n        var palette = (0, _s2.getPalette)(themeCfg.name); // 使用参考色板 & 主题色值生成新色板\n\n        var newPalette = (0, _s2.generatePalette)({ ...palette,\n          brandColor: newThemeColor\n        }); // 使用新色板设置主题\n\n        setThemeCfg({\n          name: themeCfg.name,\n          palette: newPalette\n        });\n      };\n\n      (0, _react.useEffect)(function () {\n        updatePalette(themeColor);\n      }, []);\n      return /*#__PURE__*/_react.default.createElement(_antd.Space, {\n        direction: \"vertical\"\n      }, /*#__PURE__*/_react.default.createElement(_antd.Space, null, /*#__PURE__*/_react.default.createElement(\"span\", null, \"\\u5F53\\u524D\\u4E3B\\u9898\\u8272: \", themeColor), /*#__PURE__*/_react.default.createElement(_antd.Popover, {\n        placement: \"bottomRight\",\n        content: /*#__PURE__*/_react.default.createElement(_reactColor.ChromePicker, {\n          disableAlpha: true,\n          color: themeColor,\n          onChangeComplete: function onChangeComplete(color) {\n            setThemeColor(color.hex);\n            updatePalette(color.hex);\n          }\n        })\n      }, /*#__PURE__*/_react.default.createElement(_antd.Button, {\n        size: \"small\",\n        style: {\n          marginLeft: 20\n        }\n      }, \"\\u4E3B\\u9898\\u8272\\u8C03\\u6574\"))), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        dataCfg: dataCfg,\n        options: s2Options,\n        themeCfg: themeCfg\n      }));\n    }\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n  });\n});"},{"relativePath":"theme/custom/demo/custom-schema.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/custom/demo/custom-schema.ts","order":3,"filename":"custom-schema.ts","title":{"zh":"自定义 schema","en":"Custom schema"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/xEL8hrZJUo/c1a79590-aeaf-484c-98c9-99980ab627ef.png","source":"import { TableSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const BORDER_COLOR = 'rgb(39, 44, 65)';\n    const BACK_COLOR = 'rgb(67, 72, 91)';\n    const HEADER_BACK_COLOR = '#353c59';\n    const CELL_ACTIVE_BACK_COLOR = '#434c6c';\n\n    const customTheme = {\n      background: {\n        color: HEADER_BACK_COLOR,\n      },\n      cornerCell: {\n        cell: {\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8,\n          },\n          backgroundColor: HEADER_BACK_COLOR,\n        },\n        text: {\n          fill: '#fff',\n        },\n        bolderText: {\n          fill: '#fff',\n          opacity: 0.4,\n        },\n      },\n      splitLine: {\n        horizontalBorderColor: BORDER_COLOR,\n        horizontalBorderColorOpacity: 1,\n        horizontalBorderWidth: 2,\n        verticalBorderColor: BORDER_COLOR,\n        verticalBorderColorOpacity: 1,\n        verticalBorderWidth: 2,\n        showRightShadow: true,\n        shadowWidth: 10,\n        shadowColors: {\n          left: 'rgba(0,0,0,0.1)',\n          right: 'rgba(0,0,0,0)',\n        },\n      },\n      rowCell: {\n        text: {\n          fill: '#fff',\n          opacity: 0.4,\n          fontSize: 15,\n          fontWeight: 'bold',\n        },\n        cell: {\n          backgroundColor: HEADER_BACK_COLOR,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8,\n          },\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n            },\n            selected: {\n              backgroundColor: 'rgb(63, 69, 97)',\n            },\n          },\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 1,\n        },\n      },\n      colCell: {\n        cell: {\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 2,\n          horizontalBorderWidth: 2,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8,\n          },\n          backgroundColor: HEADER_BACK_COLOR,\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n            },\n            selected: {\n              backgroundColor: 'rgb(63, 69, 97)',\n            },\n          },\n        },\n        text: {\n          fill: '#fff',\n        },\n        bolderText: {\n          fill: '#fff',\n          opacity: 0.4,\n        },\n      },\n      dataCell: {\n        icon: {\n          size: 14,\n          margin: {\n            left: 10,\n          },\n        },\n        cell: {\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n            },\n            hoverFocus: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n              borderColor: 'blue',\n            },\n            selected: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n            },\n            unselected: {\n              backgroundOpacity: 1,\n              opacity: 1,\n            },\n            prepareSelect: {\n              borderColor: CELL_ACTIVE_BACK_COLOR,\n            },\n          },\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 2,\n          horizontalBorderWidth: 2,\n          padding: {\n            top: 0,\n            right: 8,\n            bottom: 2,\n            left: 0,\n          },\n          backgroundColorOpacity: 0.9,\n          backgroundColor: BACK_COLOR,\n        },\n        text: {\n          fill: '#fff',\n        },\n      },\n    };\n\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.setThemeCfg({ theme: customTheme });\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customSchema = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var BORDER_COLOR = 'rgb(39, 44, 65)';\n    var BACK_COLOR = 'rgb(67, 72, 91)';\n    var HEADER_BACK_COLOR = '#353c59';\n    var CELL_ACTIVE_BACK_COLOR = '#434c6c';\n    var customTheme = {\n      background: {\n        color: HEADER_BACK_COLOR\n      },\n      cornerCell: {\n        cell: {\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8\n          },\n          backgroundColor: HEADER_BACK_COLOR\n        },\n        text: {\n          fill: '#fff'\n        },\n        bolderText: {\n          fill: '#fff',\n          opacity: 0.4\n        }\n      },\n      splitLine: {\n        horizontalBorderColor: BORDER_COLOR,\n        horizontalBorderColorOpacity: 1,\n        horizontalBorderWidth: 2,\n        verticalBorderColor: BORDER_COLOR,\n        verticalBorderColorOpacity: 1,\n        verticalBorderWidth: 2,\n        showRightShadow: true,\n        shadowWidth: 10,\n        shadowColors: {\n          left: 'rgba(0,0,0,0.1)',\n          right: 'rgba(0,0,0,0)'\n        }\n      },\n      rowCell: {\n        text: {\n          fill: '#fff',\n          opacity: 0.4,\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        cell: {\n          backgroundColor: HEADER_BACK_COLOR,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8\n          },\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1\n            },\n            selected: {\n              backgroundColor: 'rgb(63, 69, 97)'\n            }\n          },\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 1\n        }\n      },\n      colCell: {\n        cell: {\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 2,\n          horizontalBorderWidth: 2,\n          padding: {\n            top: 12,\n            right: 8,\n            bottom: 12,\n            left: 8\n          },\n          backgroundColor: HEADER_BACK_COLOR,\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1\n            },\n            selected: {\n              backgroundColor: 'rgb(63, 69, 97)'\n            }\n          }\n        },\n        text: {\n          fill: '#fff'\n        },\n        bolderText: {\n          fill: '#fff',\n          opacity: 0.4\n        }\n      },\n      dataCell: {\n        icon: {\n          size: 14,\n          margin: {\n            left: 10\n          }\n        },\n        cell: {\n          interactionState: {\n            hover: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1\n            },\n            hoverFocus: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1,\n              borderColor: 'blue'\n            },\n            selected: {\n              backgroundColor: CELL_ACTIVE_BACK_COLOR,\n              backgroundOpacity: 1\n            },\n            unselected: {\n              backgroundOpacity: 1,\n              opacity: 1\n            },\n            prepareSelect: {\n              borderColor: CELL_ACTIVE_BACK_COLOR\n            }\n          },\n          horizontalBorderColor: BORDER_COLOR,\n          verticalBorderColor: BORDER_COLOR,\n          verticalBorderWidth: 2,\n          horizontalBorderWidth: 2,\n          padding: {\n            top: 0,\n            right: 8,\n            bottom: 2,\n            left: 0\n          },\n          backgroundColorOpacity: 0.9,\n          backgroundColor: BACK_COLOR\n        },\n        text: {\n          fill: '#fff'\n        }\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({\n      theme: customTheme\n    });\n    s2.render();\n  });\n});"},{"relativePath":"theme/custom/demo/custom-manual-palette.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/theme/custom/demo/custom-manual-palette.tsx","order":2,"filename":"custom-manual-palette.tsx","title":{"zh":"自助色板调色","en":"Manual palette"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/o2XSQLjiC/CleanShot%2525202022-04-02%252520at%25252015.35.37.gif","source":"import React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport { getPalette } from '@antv/s2';\nimport { SketchPicker } from 'react-color';\nimport { Row, Space, Input, Button, message, Popover, Table } from 'antd';\nimport copy from 'copy-to-clipboard';\n\nimport 'antd/es/table/style/index.css';\nimport 'antd/es/space/style/index.css';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst s2Options = {\n  width: 500,\n  height: 300,\n  conditions: {\n    interval: [\n      {\n        field: 'number',\n        mapping: () => ({}),\n      },\n    ],\n  },\n  interaction: {\n    linkFields: ['city'],\n  },\n};\n\nconst STORE_KEY = 'S2_TEST_PALETTE';\n\n/** 色板颜色说明 */\nconst paletteDesc = [\n  '角头字体、列头字体',\n  '行头背景、数据格背景(斑马纹)',\n  '行头&数据格交互(hover、选中、十字)',\n  '角头背景、列头背景',\n  '列头交互(hover、选中)',\n  '刷选遮罩',\n  '行头 link',\n  'mini bar、resize 交互(参考线等)',\n  '数据格背景(非斑马纹)、整体表底色(建议白色)',\n  '行头边框、数据格边框',\n  '角头边框、列头边框',\n  '竖向大分割线',\n  '横向大分割线',\n  '数据格字体',\n  '行头字体、数据格交互色(hover)',\n];\n\nfunction getInitPalette() {\n  try {\n    return JSON.parse(localStorage.getItem(STORE_KEY) || '');\n  } catch (err) {}\n  return getPalette('colorful');\n}\n\nconst savePalette = _.debounce(function (palette) {\n  localStorage.setItem(STORE_KEY, JSON.stringify(palette));\n  console.log('saved');\n}, 1000);\n\nfunction useDataCfg() {\n  const [dataCfg, setDataCfg] = useState(null);\n\n  useEffect(() => {\n    fetch(\n      'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n    )\n      .then((res) => res.json())\n      .then((res) => setDataCfg(res));\n  }, []);\n\n  return dataCfg;\n}\n\nfunction ColorTable({ palette, onChange }) {\n  const columns = [\n    {\n      title: '#',\n      render(r, v, idx) {\n        return idx + 1;\n      },\n    },\n    {\n      title: '色值',\n      dataIndex: 'color',\n    },\n    {\n      title: '点击调整',\n      dataIndex: 'color',\n      render(val, _, idx) {\n        return (\n          <Popover\n            trigger=\"click\"\n            content={\n              <SketchPicker\n                disableAlpha\n                presetColors={[]}\n                color={val}\n                onChangeComplete={(evt) => {\n                  const nextBasicColors = [...palette.basicColors];\n                  nextBasicColors.splice(idx, 1, evt.hex);\n                  onChange({\n                    ...palette,\n                    basicColors: nextBasicColors,\n                  });\n                }}\n              />\n            }\n          >\n            <Row justify=\"center\">\n              <div\n                style={{\n                  width: 30,\n                  height: 30,\n                  boxShadow: `0 0 8px rgba(0, 0, 0, 0.2)`,\n                  cursor: 'pointer',\n                  backgroundColor: val,\n                }}\n              />\n            </Row>\n          </Popover>\n        );\n      },\n    },\n    {\n      title: '说明',\n      dataIndex: 'desc',\n    },\n  ];\n\n  const dataSource = palette.basicColors.map((color, idx) => ({\n    color,\n    desc: paletteDesc[idx],\n  }));\n\n  return (\n    <Table\n      size=\"small\"\n      rowKey=\"desc\"\n      bordered\n      columns={columns}\n      pagination={false}\n      dataSource={dataSource}\n    />\n  );\n}\n\nfunction App() {\n  const dataCfg = useDataCfg();\n  const [palette, setPalette] = useState(getInitPalette());\n  const [config, setConfig] = useState('');\n\n  useEffect(() => {\n    savePalette(palette);\n  }, [palette]);\n\n  if (!dataCfg) {\n    return null;\n  }\n\n  return (\n    <Space direction=\"vertical\">\n      <SheetComponent\n        dataCfg={dataCfg}\n        options={s2Options}\n        themeCfg={{ palette }}\n      />\n      <Space>\n        <Button\n          size=\"small\"\n          type=\"primary\"\n          onClick={() => {\n            copy(JSON.stringify(palette));\n            message.success('复制成功');\n          }}\n        >\n          复制当前色板配置\n        </Button>\n        <Button\n          size=\"small\"\n          danger\n          onClick={() => {\n            setPalette(getPalette('colorful'));\n          }}\n        >\n          重置为默认色板配置\n        </Button>\n      </Space>\n      <Space>\n        <Input\n          size=\"small\"\n          placeholder=\"粘贴色板 JSON 配置\"\n          onChange={(evt) => setConfig(evt.target.value)}\n          style={{\n            width: 180,\n          }}\n          value={config}\n        />\n        <Button\n          size=\"small\"\n          disabled={!config}\n          onClick={() => {\n            try {\n              const cfgObj = JSON.parse(config);\n              if (!_.isObjectLike(cfgObj)) {\n                message.error('加载错误');\n                return;\n              }\n              setPalette(cfgObj);\n              setConfig('');\n              message.success('加载成功');\n            } catch (err) {\n              message.error('加载错误');\n            }\n          }}\n        >\n          设置色板配置\n        </Button>\n      </Space>\n      <ColorTable palette={palette} onChange={setPalette} />\n    </Space>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById('container'));\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"lodash\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2\", \"react-color\", \"antd\", \"copy-to-clipboard\", \"antd/es/table/style/index.css\", \"antd/es/space/style/index.css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"lodash\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2\"), require(\"react-color\"), require(\"antd\"), require(\"copy-to-clipboard\"), require(\"antd/es/table/style/index.css\"), require(\"antd/es/space/style/index.css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.lodash, global.reactDom, global.s2React, global.s2, global.reactColor, global.antd, global.copyToClipboard, global.index, global.index, global.styleMin);\n    global.customManualPalette = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _lodash, _reactDom, _s2React, _s2, _reactColor, _antd, _copyToClipboard, _index, _index2, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _lodash = _interopRequireDefault(_lodash);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _copyToClipboard = _interopRequireDefault(_copyToClipboard);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  var s2Options = {\n    width: 500,\n    height: 300,\n    conditions: {\n      interval: [{\n        field: 'number',\n        mapping: function mapping() {\n          return {};\n        }\n      }]\n    },\n    interaction: {\n      linkFields: ['city']\n    }\n  };\n  var STORE_KEY = 'S2_TEST_PALETTE';\n  /** 色板颜色说明 */\n\n  var paletteDesc = ['角头字体、列头字体', '行头背景、数据格背景(斑马纹)', '行头&数据格交互(hover、选中、十字)', '角头背景、列头背景', '列头交互(hover、选中)', '刷选遮罩', '行头 link', 'mini bar、resize 交互(参考线等)', '数据格背景(非斑马纹)、整体表底色(建议白色)', '行头边框、数据格边框', '角头边框、列头边框', '竖向大分割线', '横向大分割线', '数据格字体', '行头字体、数据格交互色(hover)'];\n\n  function getInitPalette() {\n    try {\n      return JSON.parse(localStorage.getItem(STORE_KEY) || '');\n    } catch (err) {}\n\n    return (0, _s2.getPalette)('colorful');\n  }\n\n  var savePalette = _lodash.default.debounce(function (palette) {\n    localStorage.setItem(STORE_KEY, JSON.stringify(palette));\n    console.log('saved');\n  }, 1000);\n\n  function useDataCfg() {\n    var _useState = (0, _react.useState)(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        dataCfg = _useState2[0],\n        setDataCfg = _useState2[1];\n\n    (0, _react.useEffect)(function () {\n      fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        return setDataCfg(res);\n      });\n    }, []);\n    return dataCfg;\n  }\n\n  function ColorTable(_ref) {\n    var palette = _ref.palette,\n        onChange = _ref.onChange;\n    var columns = [{\n      title: '#',\n      render: function render(r, v, idx) {\n        return idx + 1;\n      }\n    }, {\n      title: '色值',\n      dataIndex: 'color'\n    }, {\n      title: '点击调整',\n      dataIndex: 'color',\n      render: function render(val, _, idx) {\n        return /*#__PURE__*/_react.default.createElement(_antd.Popover, {\n          trigger: \"click\",\n          content: /*#__PURE__*/_react.default.createElement(_reactColor.SketchPicker, {\n            disableAlpha: true,\n            presetColors: [],\n            color: val,\n            onChangeComplete: function onChangeComplete(evt) {\n              var nextBasicColors = _toConsumableArray(palette.basicColors);\n\n              nextBasicColors.splice(idx, 1, evt.hex);\n              onChange({ ...palette,\n                basicColors: nextBasicColors\n              });\n            }\n          })\n        }, /*#__PURE__*/_react.default.createElement(_antd.Row, {\n          justify: \"center\"\n        }, /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: {\n            width: 30,\n            height: 30,\n            boxShadow: \"0 0 8px rgba(0, 0, 0, 0.2)\",\n            cursor: 'pointer',\n            backgroundColor: val\n          }\n        })));\n      }\n    }, {\n      title: '说明',\n      dataIndex: 'desc'\n    }];\n    var dataSource = palette.basicColors.map(function (color, idx) {\n      return {\n        color: color,\n        desc: paletteDesc[idx]\n      };\n    });\n    return /*#__PURE__*/_react.default.createElement(_antd.Table, {\n      size: \"small\",\n      rowKey: \"desc\",\n      bordered: true,\n      columns: columns,\n      pagination: false,\n      dataSource: dataSource\n    });\n  }\n\n  function App() {\n    var dataCfg = useDataCfg();\n\n    var _useState3 = (0, _react.useState)(getInitPalette()),\n        _useState4 = _slicedToArray(_useState3, 2),\n        palette = _useState4[0],\n        setPalette = _useState4[1];\n\n    var _useState5 = (0, _react.useState)(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        config = _useState6[0],\n        setConfig = _useState6[1];\n\n    (0, _react.useEffect)(function () {\n      savePalette(palette);\n    }, [palette]);\n\n    if (!dataCfg) {\n      return null;\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_antd.Space, {\n      direction: \"vertical\"\n    }, /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      themeCfg: {\n        palette: palette\n      }\n    }), /*#__PURE__*/_react.default.createElement(_antd.Space, null, /*#__PURE__*/_react.default.createElement(_antd.Button, {\n      size: \"small\",\n      type: \"primary\",\n      onClick: function onClick() {\n        (0, _copyToClipboard.default)(JSON.stringify(palette));\n\n        _antd.message.success('复制成功');\n      }\n    }, \"\\u590D\\u5236\\u5F53\\u524D\\u8272\\u677F\\u914D\\u7F6E\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n      size: \"small\",\n      danger: true,\n      onClick: function onClick() {\n        setPalette((0, _s2.getPalette)('colorful'));\n      }\n    }, \"\\u91CD\\u7F6E\\u4E3A\\u9ED8\\u8BA4\\u8272\\u677F\\u914D\\u7F6E\")), /*#__PURE__*/_react.default.createElement(_antd.Space, null, /*#__PURE__*/_react.default.createElement(_antd.Input, {\n      size: \"small\",\n      placeholder: \"\\u7C98\\u8D34\\u8272\\u677F JSON \\u914D\\u7F6E\",\n      onChange: function onChange(evt) {\n        return setConfig(evt.target.value);\n      },\n      style: {\n        width: 180\n      },\n      value: config\n    }), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n      size: \"small\",\n      disabled: !config,\n      onClick: function onClick() {\n        try {\n          var cfgObj = JSON.parse(config);\n\n          if (!_lodash.default.isObjectLike(cfgObj)) {\n            _antd.message.error('加载错误');\n\n            return;\n          }\n\n          setPalette(cfgObj);\n          setConfig('');\n\n          _antd.message.success('加载成功');\n        } catch (err) {\n          _antd.message.error('加载错误');\n        }\n      }\n    }, \"\\u8BBE\\u7F6E\\u8272\\u677F\\u914D\\u7F6E\")), /*#__PURE__*/_react.default.createElement(ColorTable, {\n      palette: palette,\n      onChange: setPalette\n    }));\n  }\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n});"},{"relativePath":"react-component/tooltip/demo/basic.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/basic.tsx","order":0,"filename":"basic.tsx","title":{"zh":"基本展示","en":"Basic Show"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/UuEx0wndW7/efa70cc6-5106-4d81-9957-25c99b4fad32.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        row: {\n          showTooltip: false,\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.basic = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        row: {\n          showTooltip: false\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/tooltip/demo/custom-click-show-tooltip.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-click-show-tooltip.tsx","order":6,"filename":"custom-click-show-tooltip.tsx","title":{"zh":"自定义点击显示 Tooltip","en":"Custom Click Show Tooltip"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/kpvnavJgo0/tooltip.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        row: {\n          showTooltip: false,\n        },\n      },\n    };\n\n    const CustomTooltip = () => <div>demo</div>;\n\n    const onColCellClick = (value) => {\n      if (!value?.viewMeta) {\n        return;\n      }\n      const { spreadsheet, id } = value.viewMeta;\n      if (id === 'root[&]家具') {\n        const position = {\n          x: value.event.clientX,\n          y: value.event.clientY,\n        };\n        spreadsheet.tooltip.show({\n          position,\n          content: <CustomTooltip />,\n        });\n      } else {\n        spreadsheet.hideTooltip();\n      }\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n        onColCellClick={onColCellClick}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.customClickShowTooltip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        row: {\n          showTooltip: false\n        }\n      }\n    };\n\n    var CustomTooltip = function CustomTooltip() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, \"demo\");\n    };\n\n    var onColCellClick = function onColCellClick(value) {\n      if (!(value !== null && value !== void 0 && value.viewMeta)) {\n        return;\n      }\n\n      var _value$viewMeta = value.viewMeta,\n          spreadsheet = _value$viewMeta.spreadsheet,\n          id = _value$viewMeta.id;\n\n      if (id === 'root[&]家具') {\n        var position = {\n          x: value.event.clientX,\n          y: value.event.clientY\n        };\n        spreadsheet.tooltip.show({\n          position: position,\n          content: /*#__PURE__*/_react.default.createElement(CustomTooltip, null)\n        });\n      } else {\n        spreadsheet.hideTooltip();\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options,\n      onColCellClick: onColCellClick\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/tooltip/demo/custom-content.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-content.tsx","order":3,"filename":"custom-content.tsx","title":{"zh":"自定义 Tooltip 内容","en":"Custom Tooltip Content"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/j1fkyyIDdh/939fb3ed-b1c7-48a4-a329-bd1d64ddcb9c.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const CustomTooltip = (\n      <div className=\"tooltip-custom-component\">content</div>\n    );\n    const RowTooltip = (\n      <div className=\"tooltip-custom-component\">rowTooltip</div>\n    );\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        content: CustomTooltip,\n        row: {\n          content: RowTooltip,\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .tooltip-custom-component {\n    padding: 12px;\n    height: 50px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.customContent = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var CustomTooltip = /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"tooltip-custom-component\"\n    }, \"content\");\n\n    var RowTooltip = /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"tooltip-custom-component\"\n    }, \"rowTooltip\");\n\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        content: CustomTooltip,\n        row: {\n          content: RowTooltip\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .tooltip-custom-component {\\n    padding: 12px;\\n    height: 50px;\\n  }\\n\");\n});"},{"relativePath":"react-component/tooltip/demo/custom-description.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-description.tsx","order":8,"filename":"custom-description.tsx","title":{"zh":"Tooltip 中显示字段描述","en":"Custom Field Description"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/Z8%24cg%24so%24/Kapture%2525202022-07-07%252520at%25252017.28.31.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const dataCfg = {\n      meta: [\n        {\n          field: 'price',\n          name: '价格',\n          description: '价格说明。。',\n        },\n        {\n          field: 'province',\n          name: '省份',\n          description: '省份说明。。',\n        },\n        {\n          field: 'city',\n          name: '城市',\n          description: '城市说明。。',\n        },\n        {\n          field: 'type',\n          name: '类别',\n          description: '类别说明。。',\n        },\n      ],\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n        valueInCols: true,\n      },\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.customDescription = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var dataCfg = {\n      meta: [{\n        field: 'price',\n        name: '价格',\n        description: '价格说明。。'\n      }, {\n        field: 'province',\n        name: '省份',\n        description: '省份说明。。'\n      }, {\n        field: 'city',\n        name: '城市',\n        description: '城市说明。。'\n      }, {\n        field: 'type',\n        name: '类别',\n        description: '类别说明。。'\n      }],\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n        valueInCols: true\n      },\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/tooltip/demo/custom-hover-show-tooltip.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-hover-show-tooltip.tsx","order":7,"filename":"custom-hover-show-tooltip.tsx","title":{"zh":"自定义悬停显示 Tooltip","en":"Custom Hover Show Tooltip"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/c%24ICO1qvb/Kapture%2525202021-12-03%252520at%25252016.30.11.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        // 禁用默认的悬停聚焦效果, 防止出现默认的 tooltip (hover 在数值单元格 800ms 后, 会显示 tooltip)\n        hoverFocus: false,\n      },\n    };\n\n    const CustomColCellTooltip = () => <div>col cell tooltip</div>;\n    const CustomRowCellTooltip = () => <div>row cell tooltip</div>;\n    const CustomDataCellTooltip = () => <div>data cell tooltip</div>;\n\n    const onColCellHover = ({ event, viewMeta }) => {\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY,\n        },\n        content: <CustomColCellTooltip />,\n      });\n    };\n\n    const onRowCellHover = ({ event, viewMeta }) => {\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY,\n        },\n        content: <CustomRowCellTooltip />,\n      });\n    };\n\n    const onDataCellHover = ({ event, viewMeta }) => {\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY,\n        },\n        content: <CustomDataCellTooltip />,\n      });\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n        onColCellHover={onColCellHover}\n        onRowCellHover={onRowCellHover}\n        onDataCellHover={onDataCellHover}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.customHoverShowTooltip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        // 禁用默认的悬停聚焦效果, 防止出现默认的 tooltip (hover 在数值单元格 800ms 后, 会显示 tooltip)\n        hoverFocus: false\n      }\n    };\n\n    var CustomColCellTooltip = function CustomColCellTooltip() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, \"col cell tooltip\");\n    };\n\n    var CustomRowCellTooltip = function CustomRowCellTooltip() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, \"row cell tooltip\");\n    };\n\n    var CustomDataCellTooltip = function CustomDataCellTooltip() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, \"data cell tooltip\");\n    };\n\n    var onColCellHover = function onColCellHover(_ref) {\n      var event = _ref.event,\n          viewMeta = _ref.viewMeta;\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        content: /*#__PURE__*/_react.default.createElement(CustomColCellTooltip, null)\n      });\n    };\n\n    var onRowCellHover = function onRowCellHover(_ref2) {\n      var event = _ref2.event,\n          viewMeta = _ref2.viewMeta;\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        content: /*#__PURE__*/_react.default.createElement(CustomRowCellTooltip, null)\n      });\n    };\n\n    var onDataCellHover = function onDataCellHover(_ref3) {\n      var event = _ref3.event,\n          viewMeta = _ref3.viewMeta;\n      viewMeta.spreadsheet.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        content: /*#__PURE__*/_react.default.createElement(CustomDataCellTooltip, null)\n      });\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options,\n      onColCellHover: onColCellHover,\n      onRowCellHover: onRowCellHover,\n      onDataCellHover: onDataCellHover\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/tooltip/demo/custom-tooltip.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-tooltip.tsx","order":4,"filename":"custom-tooltip.tsx","title":{"zh":"自定义 Tooltip","en":"Custom Tooltip"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/j1fkyyIDdh/939fb3ed-b1c7-48a4-a329-bd1d64ddcb9c.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BaseTooltip } from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst MyCustomTooltipContent = () => (\n  <div className=\"tooltip-custom-component\">我是自定义 tooltip 内容</div>\n);\n\nclass CustomTooltip extends BaseTooltip {\n  constructor(spreadsheet) {\n    super(spreadsheet);\n  }\n\n  renderContent() {\n    ReactDOM.render(<MyCustomTooltipContent />, this.container);\n  }\n\n  show(options) {\n    super.show(options);\n    console.log('options: ', options);\n  }\n\n  destroy() {\n    console.log('tooltip destroy');\n\n    super.destroy();\n    if (this.container) {\n      ReactDOM.unmountComponentAtNode(this.container);\n    }\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        renderTooltip: (spreadsheet) => new CustomTooltip(spreadsheet),\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .tooltip-custom-component {\n    padding: 12px;\n    height: 50px;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2, global.s2React, global.insertCss, global.styleMin);\n    global.customTooltip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var MyCustomTooltipContent = function MyCustomTooltipContent() {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"tooltip-custom-component\"\n    }, \"\\u6211\\u662F\\u81EA\\u5B9A\\u4E49 tooltip \\u5185\\u5BB9\");\n  };\n\n  var CustomTooltip = /*#__PURE__*/function (_BaseTooltip) {\n    _inherits(CustomTooltip, _BaseTooltip);\n\n    var _super = _createSuper(CustomTooltip);\n\n    function CustomTooltip(spreadsheet) {\n      _classCallCheck(this, CustomTooltip);\n\n      return _super.call(this, spreadsheet);\n    }\n\n    _createClass(CustomTooltip, [{\n      key: \"renderContent\",\n      value: function renderContent() {\n        _reactDom.default.render( /*#__PURE__*/_react.default.createElement(MyCustomTooltipContent, null), this.container);\n      }\n    }, {\n      key: \"show\",\n      value: function show(options) {\n        _get(_getPrototypeOf(CustomTooltip.prototype), \"show\", this).call(this, options);\n\n        console.log('options: ', options);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        console.log('tooltip destroy');\n\n        _get(_getPrototypeOf(CustomTooltip.prototype), \"destroy\", this).call(this);\n\n        if (this.container) {\n          _reactDom.default.unmountComponentAtNode(this.container);\n        }\n      }\n    }]);\n\n    return CustomTooltip;\n  }(_s.BaseTooltip);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n        renderTooltip: function renderTooltip(spreadsheet) {\n          return new CustomTooltip(spreadsheet);\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .tooltip-custom-component {\\n    padding: 12px;\\n    height: 50px;\\n  }\\n\");\n});"},{"relativePath":"react-component/tooltip/demo/custom-operation.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-operation.tsx","order":2,"filename":"custom-operation.tsx","title":{"zh":"自定义操作项","en":"Custom Operation"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/le1o4zCn9/d5fd21d4-95bb-448e-9c10-92a1dd4495ae.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          menus: [\n            {\n              key: 'custom-a',\n              text: '操作1',\n              icon: 'Trend',\n              onClick: (cell) => {\n                console.log('操作1点击', cell);\n              },\n              children: [\n                {\n                  key: 'custom-a-a',\n                  text: '操作 1-1',\n                  icon: 'Trend',\n                  onClick: () => {\n                    console.log('操作 1-1 点击');\n                  },\n                },\n              ],\n            },\n            {\n              key: 'custom-b',\n              text: '操作2',\n              icon: 'EyeOutlined',\n              onClick: () => {\n                console.log('操作2点击');\n              },\n            },\n            {\n              key: 'custom-c',\n              text: '操作3',\n              icon: 'EyeOutlined',\n              visible: false,\n              onClick: () => {\n                console.log('操作3点击');\n              },\n            },\n            {\n              key: 'custom-c',\n              text: '操作4',\n              icon: 'EyeOutlined',\n              visible: (cell) => {\n                // 叶子节点才显示\n                const meta = cell.getMeta();\n                return meta.isLeaf;\n              },\n              onClick: () => {\n                console.log('操作4点击');\n              },\n            },\n          ],\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.customOperation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          menus: [{\n            key: 'custom-a',\n            text: '操作1',\n            icon: 'Trend',\n            onClick: function onClick(cell) {\n              console.log('操作1点击', cell);\n            },\n            children: [{\n              key: 'custom-a-a',\n              text: '操作 1-1',\n              icon: 'Trend',\n              onClick: function onClick() {\n                console.log('操作 1-1 点击');\n              }\n            }]\n          }, {\n            key: 'custom-b',\n            text: '操作2',\n            icon: 'EyeOutlined',\n            onClick: function onClick() {\n              console.log('操作2点击');\n            }\n          }, {\n            key: 'custom-c',\n            text: '操作3',\n            icon: 'EyeOutlined',\n            visible: false,\n            onClick: function onClick() {\n              console.log('操作3点击');\n            }\n          }, {\n            key: 'custom-c',\n            text: '操作4',\n            icon: 'EyeOutlined',\n            visible: function visible(cell) {\n              // 叶子节点才显示\n              var meta = cell.getMeta();\n              return meta.isLeaf;\n            },\n            onClick: function onClick() {\n              console.log('操作4点击');\n            }\n          }]\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/tooltip/demo/custom-show-tooltip.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/custom-show-tooltip.tsx","order":5,"filename":"custom-show-tooltip.tsx","title":{"zh":"重写展示方法","en":"Custom Show Tooltip"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/sSx1H%24pJOs/6305fe29-5640-4d4d-b1ef-577cc6a32eb3.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={dataCfg}\n        options={s2Options}\n        getSpreadSheet={(instance) => {\n          instance.showTooltip = (tooltipOptions) => {\n            const { position, data = {}, options } = tooltipOptions;\n            const name = `${data.name} - 测试`; // 只有单元格中文案被省略才显示\n            const infos = '按住 Shift 多选或框选，查看多个数据点';\n            const tips = '说明：这是个说明';\n            const customSummaries = (data.summaries || []).map((item) => {\n              return { ...item, name: `${item.name} - 测试` };\n            });\n            const { cols = [], rows = [] } = data.headInfo || {};\n            const customCols = cols.map((item) => {\n              return { ...item, value: `${item.value} - 测试` };\n            });\n            const customDetails = (data.details || []).map((item) => {\n              return {\n                name: `${item.name} - 测试`,\n                value: `${item.value} - w`,\n              };\n            });\n            const customOperator = {\n              onClick: ({ key }) => {\n                console.log('任意菜单项点击', key);\n              },\n              menus: [\n                {\n                  id: 'trend',\n                  icon: 'trend',\n                  text: '趋势',\n                  onClick: () => {\n                    console.log('当前菜单项点击');\n                  },\n                },\n              ],\n            };\n            const customOptions = {\n              ...tooltipOptions,\n              position: { x: position.x + 1, y: position.y + 1 },\n              data: {\n                ...data,\n                name: data.name ? name : '',\n                infos,\n                tips,\n                summaries: customSummaries,\n                headInfo: { rows, cols: customCols },\n                details: customDetails,\n              },\n              options: {\n                ...options,\n                operator: customOperator,\n              },\n            };\n            instance.tooltip.show(customOptions);\n          };\n        }}\n      />,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .tooltip-custom-component {\n    padding: 12px;\n    height: 50px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.customShowTooltip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      getSpreadSheet: function getSpreadSheet(instance) {\n        instance.showTooltip = function (tooltipOptions) {\n          var position = tooltipOptions.position,\n              _tooltipOptions$data = tooltipOptions.data,\n              data = _tooltipOptions$data === void 0 ? {} : _tooltipOptions$data,\n              options = tooltipOptions.options;\n          var name = \"\".concat(data.name, \" - \\u6D4B\\u8BD5\"); // 只有单元格中文案被省略才显示\n\n          var infos = '按住 Shift 多选或框选，查看多个数据点';\n          var tips = '说明：这是个说明';\n          var customSummaries = (data.summaries || []).map(function (item) {\n            return { ...item,\n              name: \"\".concat(item.name, \" - \\u6D4B\\u8BD5\")\n            };\n          });\n\n          var _ref = data.headInfo || {},\n              _ref$cols = _ref.cols,\n              cols = _ref$cols === void 0 ? [] : _ref$cols,\n              _ref$rows = _ref.rows,\n              rows = _ref$rows === void 0 ? [] : _ref$rows;\n\n          var customCols = cols.map(function (item) {\n            return { ...item,\n              value: \"\".concat(item.value, \" - \\u6D4B\\u8BD5\")\n            };\n          });\n          var customDetails = (data.details || []).map(function (item) {\n            return {\n              name: \"\".concat(item.name, \" - \\u6D4B\\u8BD5\"),\n              value: \"\".concat(item.value, \" - w\")\n            };\n          });\n          var customOperator = {\n            onClick: function onClick(_ref2) {\n              var key = _ref2.key;\n              console.log('任意菜单项点击', key);\n            },\n            menus: [{\n              id: 'trend',\n              icon: 'trend',\n              text: '趋势',\n              onClick: function onClick() {\n                console.log('当前菜单项点击');\n              }\n            }]\n          };\n          var customOptions = { ...tooltipOptions,\n            position: {\n              x: position.x + 1,\n              y: position.y + 1\n            },\n            data: { ...data,\n              name: data.name ? name : '',\n              infos: infos,\n              tips: tips,\n              summaries: customSummaries,\n              headInfo: {\n                rows: rows,\n                cols: customCols\n              },\n              details: customDetails\n            },\n            options: { ...options,\n              operator: customOperator\n            }\n          };\n          instance.tooltip.show(customOptions);\n        };\n      }\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .tooltip-custom-component {\\n    padding: 12px;\\n    height: 50px;\\n  }\\n\");\n});"},{"relativePath":"react-component/tooltip/demo/operation.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/tooltip/demo/operation.tsx","order":1,"filename":"operation.tsx","title":{"zh":"操作项","en":"Operation"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/HRIacdrQje/4455252e-bed7-4265-8fee-90ed85a6ae11.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          trend: true,\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={dataCfg}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.operation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          trend: true\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/switcher/demo/pivot-header.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/switcher/demo/pivot-header.tsx","order":1,"filename":"pivot-header.tsx","title":{"zh":"维度切换头部组件","en":"Switcher header component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/aBR%26EXlQb/2021-12-02%25252015.19.58.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const fields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'cost'],\n    };\n\n    const SwitcherDemo = () => {\n      return (\n        <div>\n          <SheetComponent\n            sheetType={'pivot'}\n            adaptive={false}\n            dataCfg={{ data, fields }}\n            options={s2Options}\n            header={{ switcherCfg: { open: true } }}\n          />\n        </div>\n      );\n    };\n\n    ReactDOM.render(<SwitcherDemo />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-switcher-item.checkable-item {\n    align-items: center;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.pivotHeader = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var fields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'cost']\n    };\n\n    var SwitcherDemo = function SwitcherDemo() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        sheetType: 'pivot',\n        adaptive: false,\n        dataCfg: {\n          data: data,\n          fields: fields\n        },\n        options: s2Options,\n        header: {\n          switcherCfg: {\n            open: true\n          }\n        }\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(SwitcherDemo, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-switcher-item.checkable-item {\\n    align-items: center;\\n  }\\n\");\n});"},{"relativePath":"react-component/switcher/demo/pivot-with-children.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/switcher/demo/pivot-with-children.tsx","order":3,"filename":"pivot-with-children.tsx","title":{"zh":"透视表子维度切换","en":"Switcher with children in pivot sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/EMriYgmG5/2021-11-16%25252022.20.42.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent, Switcher } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/0c913e28-7806-41b2-a046-df3c1586712c.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const defaultFields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'price-ac', 'price-rc', 'cost', 'cost-ac', 'cost-rc'],\n    };\n\n    const defaultSwitcherFields = {\n      rows: {\n        items: [{ id: 'province' }, { id: 'city' }],\n      },\n      columns: {\n        items: [{ id: 'type' }],\n      },\n      values: {\n        expandable: true,\n        selectable: true,\n        items: [\n          { id: 'price', children: [{ id: 'price-ac' }, { id: 'price-rc' }] },\n          { id: 'cost', children: [{ id: 'cost-ac' }, { id: 'cost-rc' }] },\n        ],\n      },\n    };\n\n    // 生成 switcher 所需要的 fields 结构\n    function generateSwitcherFields(updatedResult) {\n      const values = updatedResult.values.items.reduce((result, item) => {\n        if (defaultSwitcherFields.values.items.find((i) => i.id === item.id)) {\n          result.push(item);\n        } else {\n          const parent = result[result.length - 1];\n          parent.children = parent.children ? parent.children : [];\n          parent.children.push(item);\n        }\n        return result;\n      }, []);\n\n      return {\n        rows: { items: updatedResult.rows.items },\n        columns: { items: updatedResult.columns.items },\n        values: {\n          selectable: true,\n          expandable: true,\n          items: values,\n        },\n      };\n    }\n\n    // 生成 dataCfg fields 结构\n    function generateFields(updatedResult) {\n      return {\n        rows: updatedResult.rows.items.map((i) => i.id),\n        columns: updatedResult.columns.items.map((i) => i.id),\n        values: updatedResult.values.items\n          .filter(\n            (i) =>\n              !updatedResult.values.hideItems.find((hide) => hide.id === i.id),\n          )\n          .map((i) => i.id),\n      };\n    }\n\n    const SwitcherDemo = () => {\n      const [fields, setFields] = useState(defaultFields);\n      const [switcherFields, setSwitcherFields] = useState(\n        defaultSwitcherFields,\n      );\n\n      const onSubmit = (result) => {\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n      };\n\n      return (\n        <div>\n          <Switcher {...switcherFields} onSubmit={onSubmit} />\n          <SheetComponent\n            sheetType={'pivot'}\n            adaptive={false}\n            dataCfg={{ data, fields }}\n            options={s2Options}\n          />\n        </div>\n      );\n    };\n\n    ReactDOM.render(<SwitcherDemo />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-switcher-item.checkable-item {\n    align-items: center;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.pivotWithChildren = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/0c913e28-7806-41b2-a046-df3c1586712c.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var defaultFields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'price-ac', 'price-rc', 'cost', 'cost-ac', 'cost-rc']\n    };\n    var defaultSwitcherFields = {\n      rows: {\n        items: [{\n          id: 'province'\n        }, {\n          id: 'city'\n        }]\n      },\n      columns: {\n        items: [{\n          id: 'type'\n        }]\n      },\n      values: {\n        expandable: true,\n        selectable: true,\n        items: [{\n          id: 'price',\n          children: [{\n            id: 'price-ac'\n          }, {\n            id: 'price-rc'\n          }]\n        }, {\n          id: 'cost',\n          children: [{\n            id: 'cost-ac'\n          }, {\n            id: 'cost-rc'\n          }]\n        }]\n      }\n    }; // 生成 switcher 所需要的 fields 结构\n\n    function generateSwitcherFields(updatedResult) {\n      var values = updatedResult.values.items.reduce(function (result, item) {\n        if (defaultSwitcherFields.values.items.find(function (i) {\n          return i.id === item.id;\n        })) {\n          result.push(item);\n        } else {\n          var parent = result[result.length - 1];\n          parent.children = parent.children ? parent.children : [];\n          parent.children.push(item);\n        }\n\n        return result;\n      }, []);\n      return {\n        rows: {\n          items: updatedResult.rows.items\n        },\n        columns: {\n          items: updatedResult.columns.items\n        },\n        values: {\n          selectable: true,\n          expandable: true,\n          items: values\n        }\n      };\n    } // 生成 dataCfg fields 结构\n\n\n    function generateFields(updatedResult) {\n      return {\n        rows: updatedResult.rows.items.map(function (i) {\n          return i.id;\n        }),\n        columns: updatedResult.columns.items.map(function (i) {\n          return i.id;\n        }),\n        values: updatedResult.values.items.filter(function (i) {\n          return !updatedResult.values.hideItems.find(function (hide) {\n            return hide.id === i.id;\n          });\n        }).map(function (i) {\n          return i.id;\n        })\n      };\n    }\n\n    var SwitcherDemo = function SwitcherDemo() {\n      var _useState = (0, _react.useState)(defaultFields),\n          _useState2 = _slicedToArray(_useState, 2),\n          fields = _useState2[0],\n          setFields = _useState2[1];\n\n      var _useState3 = (0, _react.useState)(defaultSwitcherFields),\n          _useState4 = _slicedToArray(_useState3, 2),\n          switcherFields = _useState4[0],\n          setSwitcherFields = _useState4[1];\n\n      var onSubmit = function onSubmit(result) {\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n      };\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_s2React.Switcher, _extends({}, switcherFields, {\n        onSubmit: onSubmit\n      })), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        sheetType: 'pivot',\n        adaptive: false,\n        dataCfg: {\n          data: data,\n          fields: fields\n        },\n        options: s2Options\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(SwitcherDemo, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-switcher-item.checkable-item {\\n    align-items: center;\\n  }\\n\");\n});"},{"relativePath":"react-component/switcher/demo/pivot.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/switcher/demo/pivot.tsx","order":2,"filename":"pivot.tsx","title":{"zh":"透视表维度切换","en":"Switcher in pivot sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/WaJLe8CSf/2021-11-16%25252022.19.04.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent, Switcher } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const defaultFields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'cost'],\n    };\n\n    const defaultSwitcherFields = {\n      rows: {\n        items: [{ id: 'province' }, { id: 'city' }],\n      },\n      columns: {\n        items: [{ id: 'type' }],\n      },\n      values: {\n        selectable: true,\n        items: [{ id: 'price' }, { id: 'cost' }],\n      },\n    };\n\n    // 生成 switcher 所需要的 fields 结构\n    function generateSwitcherFields(updatedResult) {\n      return {\n        rows: { items: updatedResult.rows.items },\n        columns: { items: updatedResult.columns.items },\n        values: {\n          selectable: true,\n          items: updatedResult.values.items,\n        },\n      };\n    }\n\n    // 生成 dataCfg fields 结构\n    function generateFields(updatedResult) {\n      return {\n        rows: updatedResult.rows.items.map((i) => i.id),\n        columns: updatedResult.columns.items.map((i) => i.id),\n        values: updatedResult.values.items\n          .filter(\n            (i) =>\n              !updatedResult.values.hideItems.find((hide) => hide.id === i.id),\n          )\n          .map((i) => i.id),\n      };\n    }\n\n    const SwitcherDemo = () => {\n      const [fields, setFields] = useState(defaultFields);\n      const [switcherFields, setSwitcherFields] = useState(\n        defaultSwitcherFields,\n      );\n\n      const onSubmit = (result) => {\n        console.log('result:', result);\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n      };\n\n      return (\n        <div>\n          <Switcher {...switcherFields} onSubmit={onSubmit} />\n          <SheetComponent\n            sheetType={'pivot'}\n            adaptive={false}\n            dataCfg={{ data, fields }}\n            options={s2Options}\n          />\n        </div>\n      );\n    };\n\n    ReactDOM.render(<SwitcherDemo />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-switcher-item.checkable-item {\n    align-items: center;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.pivot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var defaultFields = {\n      rows: ['province', 'city'],\n      columns: ['type'],\n      values: ['price', 'cost']\n    };\n    var defaultSwitcherFields = {\n      rows: {\n        items: [{\n          id: 'province'\n        }, {\n          id: 'city'\n        }]\n      },\n      columns: {\n        items: [{\n          id: 'type'\n        }]\n      },\n      values: {\n        selectable: true,\n        items: [{\n          id: 'price'\n        }, {\n          id: 'cost'\n        }]\n      }\n    }; // 生成 switcher 所需要的 fields 结构\n\n    function generateSwitcherFields(updatedResult) {\n      return {\n        rows: {\n          items: updatedResult.rows.items\n        },\n        columns: {\n          items: updatedResult.columns.items\n        },\n        values: {\n          selectable: true,\n          items: updatedResult.values.items\n        }\n      };\n    } // 生成 dataCfg fields 结构\n\n\n    function generateFields(updatedResult) {\n      return {\n        rows: updatedResult.rows.items.map(function (i) {\n          return i.id;\n        }),\n        columns: updatedResult.columns.items.map(function (i) {\n          return i.id;\n        }),\n        values: updatedResult.values.items.filter(function (i) {\n          return !updatedResult.values.hideItems.find(function (hide) {\n            return hide.id === i.id;\n          });\n        }).map(function (i) {\n          return i.id;\n        })\n      };\n    }\n\n    var SwitcherDemo = function SwitcherDemo() {\n      var _useState = (0, _react.useState)(defaultFields),\n          _useState2 = _slicedToArray(_useState, 2),\n          fields = _useState2[0],\n          setFields = _useState2[1];\n\n      var _useState3 = (0, _react.useState)(defaultSwitcherFields),\n          _useState4 = _slicedToArray(_useState3, 2),\n          switcherFields = _useState4[0],\n          setSwitcherFields = _useState4[1];\n\n      var onSubmit = function onSubmit(result) {\n        console.log('result:', result);\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n      };\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_s2React.Switcher, _extends({}, switcherFields, {\n        onSubmit: onSubmit\n      })), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        sheetType: 'pivot',\n        adaptive: false,\n        dataCfg: {\n          data: data,\n          fields: fields\n        },\n        options: s2Options\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(SwitcherDemo, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-switcher-item.checkable-item {\\n    align-items: center;\\n  }\\n\");\n});"},{"relativePath":"react-component/switcher/demo/pure-switcher.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/switcher/demo/pure-switcher.tsx","order":0,"filename":"pure-switcher.tsx","title":{"zh":"维度切换组件","en":"Switcher component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/tiVXaKTKB/2021-11-16%25252022.18.52.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Switcher } from '@antv/s2-react';\n\nconst switcherFields = {\n  rows: {\n    items: [{ id: 'province' }, { id: 'city' }],\n    allowEmpty: false,\n  },\n  columns: {\n    items: [{ id: 'type' }],\n  },\n  values: {\n    selectable: true,\n    items: [{ id: 'price' }, { id: 'cost' }],\n  },\n};\n\nconst onSubmit = (result) => {\n  console.log('result:', result);\n};\n\nReactDOM.render(\n  <Switcher {...switcherFields} onSubmit={onSubmit} />,\n  document.getElementById('container'),\n);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React);\n    global.pureSwitcher = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n  var switcherFields = {\n    rows: {\n      items: [{\n        id: 'province'\n      }, {\n        id: 'city'\n      }],\n      allowEmpty: false\n    },\n    columns: {\n      items: [{\n        id: 'type'\n      }]\n    },\n    values: {\n      selectable: true,\n      items: [{\n        id: 'price'\n      }, {\n        id: 'cost'\n      }]\n    }\n  };\n\n  var onSubmit = function onSubmit(result) {\n    console.log('result:', result);\n  };\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.Switcher, _extends({}, switcherFields, {\n    onSubmit: onSubmit\n  })), document.getElementById('container'));\n});"},{"relativePath":"react-component/switcher/demo/table.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/switcher/demo/table.tsx","order":4,"filename":"table.tsx","title":{"zh":"明细表维度切换","en":"Switcher in table sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/%24Z5M%26Kfq9%26/switcher.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent, Switcher } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    // 明细表只需要 columns 字段\n    const defaultFields = {\n      columns: ['province', 'city', 'type', 'sub_type', 'number'],\n    };\n\n    const defaultSwitcherFields = {\n      columns: {\n        selectable: true,\n        items: [\n          { id: 'province' },\n          { id: 'city' },\n          { id: 'type' },\n          { id: 'sub_type' },\n          { id: 'number' },\n        ],\n      },\n    };\n\n    // 生成 switcher 所需要的 fields 结构\n    function generateSwitcherFields(updatedResult) {\n      return {\n        columns: {\n          selectable: true,\n          items: updatedResult.columns.items,\n        },\n      };\n    }\n\n    // 生成 dataCfg fields 结构\n    function generateFields(updatedResult) {\n      return {\n        columns: updatedResult.columns.items.map((i) => i.id),\n      };\n    }\n\n    const SwitcherDemo = () => {\n      const [fields, setFields] = useState(defaultFields);\n      const [hiddenColumnFields, setHiddenColumnFields] = useState([]);\n      const [switcherFields, setSwitcherFields] = useState(\n        defaultSwitcherFields,\n      );\n\n      const onSubmit = (result) => {\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n        setHiddenColumnFields(result.columns.hideItems.map((i) => i.id));\n      };\n\n      return (\n        <div>\n          <Switcher sheetType=\"table\" {...switcherFields} onSubmit={onSubmit} />\n          <SheetComponent\n            sheetType=\"table\"\n            adaptive={false}\n            dataCfg={{ ...dataCfg, fields }}\n            options={{ ...s2Options, interaction: { hiddenColumnFields } }}\n          />\n        </div>\n      );\n    };\n\n    ReactDOM.render(<SwitcherDemo />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-switcher-item.checkable-item {\n    align-items: center;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.styleMin);\n    global.table = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    }; // 明细表只需要 columns 字段\n\n    var defaultFields = {\n      columns: ['province', 'city', 'type', 'sub_type', 'number']\n    };\n    var defaultSwitcherFields = {\n      columns: {\n        selectable: true,\n        items: [{\n          id: 'province'\n        }, {\n          id: 'city'\n        }, {\n          id: 'type'\n        }, {\n          id: 'sub_type'\n        }, {\n          id: 'number'\n        }]\n      }\n    }; // 生成 switcher 所需要的 fields 结构\n\n    function generateSwitcherFields(updatedResult) {\n      return {\n        columns: {\n          selectable: true,\n          items: updatedResult.columns.items\n        }\n      };\n    } // 生成 dataCfg fields 结构\n\n\n    function generateFields(updatedResult) {\n      return {\n        columns: updatedResult.columns.items.map(function (i) {\n          return i.id;\n        })\n      };\n    }\n\n    var SwitcherDemo = function SwitcherDemo() {\n      var _useState = (0, _react.useState)(defaultFields),\n          _useState2 = _slicedToArray(_useState, 2),\n          fields = _useState2[0],\n          setFields = _useState2[1];\n\n      var _useState3 = (0, _react.useState)([]),\n          _useState4 = _slicedToArray(_useState3, 2),\n          hiddenColumnFields = _useState4[0],\n          setHiddenColumnFields = _useState4[1];\n\n      var _useState5 = (0, _react.useState)(defaultSwitcherFields),\n          _useState6 = _slicedToArray(_useState5, 2),\n          switcherFields = _useState6[0],\n          setSwitcherFields = _useState6[1];\n\n      var onSubmit = function onSubmit(result) {\n        setFields(generateFields(result));\n        setSwitcherFields(generateSwitcherFields(result));\n        setHiddenColumnFields(result.columns.hideItems.map(function (i) {\n          return i.id;\n        }));\n      };\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_s2React.Switcher, _extends({\n        sheetType: \"table\"\n      }, switcherFields, {\n        onSubmit: onSubmit\n      })), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        sheetType: \"table\",\n        adaptive: false,\n        dataCfg: { ...dataCfg,\n          fields: fields\n        },\n        options: { ...s2Options,\n          interaction: {\n            hiddenColumnFields: hiddenColumnFields\n          }\n        }\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(SwitcherDemo, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-switcher-item.checkable-item {\\n    align-items: center;\\n  }\\n\");\n});"},{"relativePath":"react-component/sheet/demo/pivot.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/sheet/demo/pivot.tsx","order":0,"filename":"pivot.tsx","title":{"zh":"透视表组件","en":"PivotSheet component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/J%246aXMmj26/da7d9c24-2958-4d4c-a38f-4ff0dcb22891.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    ReactDOM.render(\n      <SheetComponent dataCfg={dataCfg} options={s2Options} />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.pivot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/sheet/demo/strategy.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/sheet/demo/strategy.tsx","order":2,"filename":"strategy.tsx","title":{"zh":"趋势分析表组件","en":"StrategySheet component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/detasbG55j/5f1c0072-0761-463c-ac44-2fe7b300d041.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/3c2009ce-8c2a-451d-b29a-619a796c7903.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      cornerText: '指标层级',\n      hierarchyType: 'customTree',\n      conditions: {\n        text: [\n          {\n            field: 'number',\n            mapping: (value, cellInfo) => {\n              const { meta } = cellInfo;\n              if (\n                meta?.fieldValue?.values[0][0] === value ||\n                !value ||\n                !meta?.fieldValue\n              ) {\n                return {\n                  fill: '#000',\n                };\n              }\n              return {\n                fill: value > 0 ? '#FF4D4F' : '#29A294',\n              };\n            },\n          },\n        ],\n      },\n      style: {\n        cellCfg: {\n          valuesCfg: {\n            originalValueField: 'originalValues',\n          },\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={dataCfg}\n        options={s2Options}\n        sheetType=\"strategy\"\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.strategy = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/3c2009ce-8c2a-451d-b29a-619a796c7903.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      cornerText: '指标层级',\n      hierarchyType: 'customTree',\n      conditions: {\n        text: [{\n          field: 'number',\n          mapping: function mapping(value, cellInfo) {\n            var _meta$fieldValue;\n\n            var meta = cellInfo.meta;\n\n            if ((meta === null || meta === void 0 ? void 0 : (_meta$fieldValue = meta.fieldValue) === null || _meta$fieldValue === void 0 ? void 0 : _meta$fieldValue.values[0][0]) === value || !value || !(meta !== null && meta !== void 0 && meta.fieldValue)) {\n              return {\n                fill: '#000'\n              };\n            }\n\n            return {\n              fill: value > 0 ? '#FF4D4F' : '#29A294'\n            };\n          }\n        }]\n      },\n      style: {\n        cellCfg: {\n          valuesCfg: {\n            originalValueField: 'originalValues'\n          }\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      sheetType: \"strategy\"\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/sheet/demo/table.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/sheet/demo/table.tsx","order":1,"filename":"table.tsx","title":{"zh":"明细表组件","en":"TableSheet component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/jWifHNLOsB/08db1064-bb09-4d44-b42b-26aed1766545.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data: res,\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        sheetType=\"table\"\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.table = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: res\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"table\"\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/pagination/demo/table.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/pagination/demo/table.tsx","order":1,"filename":"table.tsx","title":{"zh":"明细表分页","en":"TableSheet pagination"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/MK67LrYwRh/5e972478-06e4-40fc-bcbe-21c05fd144e5.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch('../data/basic-table-mode.json')\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      pagination: {\n        pageSize: 5,\n        current: 2,\n      },\n    };\n\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data: res,\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        sheetType=\"table\"\n        showPagination={{\n          onChange: (current) => {\n            console.log(current);\n          },\n          onShowSizeChange: (pageSize) => {\n            console.log(pageSize);\n          },\n        }}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.table = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      pagination: {\n        pageSize: 5,\n        current: 2\n      }\n    };\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: res\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"table\",\n      showPagination: {\n        onChange: function onChange(current) {\n          console.log(current);\n        },\n        onShowSizeChange: function onShowSizeChange(pageSize) {\n          console.log(pageSize);\n        }\n      }\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/pagination/demo/pivot.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/pagination/demo/pivot.tsx","order":0,"filename":"pivot.tsx","title":{"zh":"透视表分页","en":"PivotSheet pagination"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/6h9nmPdj9b/e4163ac4-2d17-4efd-8556-d5e32fd15b25.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      pagination: {\n        pageSize: 4,\n        current: 1,\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={dataCfg}\n        options={s2Options}\n        showPagination={true}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.pivot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      pagination: {\n        pageSize: 4,\n        current: 1\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      showPagination: true\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/header/demo/default.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/header/demo/default.tsx","order":0,"filename":"default.tsx","title":{"zh":"表头组件","en":"Header component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/dI0e27cdHW/header.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport { Button } from 'antd';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        enableCopy: true,\n      },\n    };\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n\n    const SheetHeader = () => {\n      const [dataCfg, setDataCfg] = React.useState(s2DataConfig);\n      const [sortParams, setSortParams] = React.useState([]);\n      const header = {\n        title: '表头标题',\n        description: '表头描述',\n        exportCfg: { open: true },\n        advancedSortCfg: {\n          open: true,\n          sortParams,\n          onSortConfirm: (ruleValues, sortParams) => {\n            setDataCfg({ ...dataCfg, sortParams });\n            setSortParams(sortParams);\n          },\n        },\n        switcherCfg: { open: true },\n        extra: (\n          <Button size={'small'} style={{ verticalAlign: 'top' }}>\n            插入内容\n          </Button>\n        ),\n      };\n\n      return (\n        <SheetComponent\n          dataCfg={dataCfg}\n          options={s2Options}\n          header={header}\n          adaptive={false}\n        />\n      );\n    };\n\n    ReactDOM.render(<SheetHeader />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .s2-header {\n    margin:0px !important;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"insert-css\", \"antd\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"antd\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.insertCss, global.antd, global.s2React, global.styleMin);\n    global._default = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _insertCss, _antd, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        enableCopy: true\n      }\n    };\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n\n    var SheetHeader = function SheetHeader() {\n      var _React$useState = _react.default.useState(s2DataConfig),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          dataCfg = _React$useState2[0],\n          setDataCfg = _React$useState2[1];\n\n      var _React$useState3 = _react.default.useState([]),\n          _React$useState4 = _slicedToArray(_React$useState3, 2),\n          sortParams = _React$useState4[0],\n          setSortParams = _React$useState4[1];\n\n      var header = {\n        title: '表头标题',\n        description: '表头描述',\n        exportCfg: {\n          open: true\n        },\n        advancedSortCfg: {\n          open: true,\n          sortParams: sortParams,\n          onSortConfirm: function onSortConfirm(ruleValues, sortParams) {\n            setDataCfg({ ...dataCfg,\n              sortParams: sortParams\n            });\n            setSortParams(sortParams);\n          }\n        },\n        switcherCfg: {\n          open: true\n        },\n        extra: /*#__PURE__*/_react.default.createElement(_antd.Button, {\n          size: 'small',\n          style: {\n            verticalAlign: 'top'\n          }\n        }, \"\\u63D2\\u5165\\u5185\\u5BB9\")\n      };\n      return /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        dataCfg: dataCfg,\n        options: s2Options,\n        header: header,\n        adaptive: false\n      });\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(SheetHeader, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .s2-header {\\n    margin:0px !important;\\n  }\\n\");\n});"},{"relativePath":"react-component/export/demo/export.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/export/demo/export.tsx","order":0,"filename":"export.tsx","title":{"zh":"导出组件","en":"Export component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/LuLsxJzuq/2021-11-16%25252022.15.51.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        enableCopy: true,\n      },\n    };\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        header={{\n          exportCfg: {\n            open: true,\n          },\n        }}\n        adaptive={false}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global._export = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        enableCopy: true\n      }\n    };\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      header: {\n        exportCfg: {\n          open: true\n        }\n      },\n      adaptive: false\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/drill-dwon/demo/for-pivot.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/drill-dwon/demo/for-pivot.tsx","order":1,"filename":"for-pivot.tsx","title":{"zh":"透视表维度下钻组件","en":"DrillDown in pivot sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/i%240oG9GFEV/xiazuan.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n    };\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n\n    const sex = ['男', '女'];\n\n    const PartDrillDown = {\n      drillConfig: {\n        dataSet: [\n          {\n            name: '客户性别',\n            value: 'sex',\n            type: 'text',\n          },\n        ],\n      },\n\n      fetchData: (meta, drillFields) =>\n        new Promise((resolve) => {\n          const dataSet = meta.spreadsheet.dataSet;\n          const field = drillFields[0];\n          const rowDatas = dataSet.getMultiData(meta.query, true, true);\n          const drillDownData = [];\n          rowDatas.forEach((data) => {\n            const { city, number, province, sub_type: subType, type } = data;\n            const number0 = Math.ceil(Math.random() * (number - 50)) + 50;\n            const number1 = number - number0;\n            const dataItem0 = {\n              city,\n              number: number0,\n              province,\n              sub_type: subType,\n              type,\n              [field]: sex[0],\n            };\n            drillDownData.push(dataItem0);\n            const dataItem1 = {\n              city,\n              number: number1,\n              province,\n              sub_type: subType,\n              type,\n              [field]: sex[1],\n            };\n\n            drillDownData.push(dataItem1);\n          });\n\n          resolve({\n            drillField: field,\n            drillData: drillDownData,\n          });\n        }),\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        partDrillDown={PartDrillDown}\n        adaptive={false}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.forPivot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree'\n    };\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var sex = ['男', '女'];\n    var PartDrillDown = {\n      drillConfig: {\n        dataSet: [{\n          name: '客户性别',\n          value: 'sex',\n          type: 'text'\n        }]\n      },\n      fetchData: function fetchData(meta, drillFields) {\n        return new Promise(function (resolve) {\n          var dataSet = meta.spreadsheet.dataSet;\n          var field = drillFields[0];\n          var rowDatas = dataSet.getMultiData(meta.query, true, true);\n          var drillDownData = [];\n          rowDatas.forEach(function (data) {\n            var city = data.city,\n                number = data.number,\n                province = data.province,\n                subType = data.sub_type,\n                type = data.type;\n            var number0 = Math.ceil(Math.random() * (number - 50)) + 50;\n            var number1 = number - number0;\n\n            var dataItem0 = _defineProperty({\n              city: city,\n              number: number0,\n              province: province,\n              sub_type: subType,\n              type: type\n            }, field, sex[0]);\n\n            drillDownData.push(dataItem0);\n\n            var dataItem1 = _defineProperty({\n              city: city,\n              number: number1,\n              province: province,\n              sub_type: subType,\n              type: type\n            }, field, sex[1]);\n\n            drillDownData.push(dataItem1);\n          });\n          resolve({\n            drillField: field,\n            drillData: drillDownData\n          });\n        });\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      partDrillDown: PartDrillDown,\n      adaptive: false\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"react-component/drill-dwon/demo/basic-panel.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/react-component/drill-dwon/demo/basic-panel.tsx","order":0,"filename":"basic-panel.tsx","title":{"zh":"维度下钻组件","en":"DrillDown component"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/3DoOlPsFYh/drill.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { DrillDown } from '@antv/s2-react';\n\nconst disabledFields = ['name'];\nconst clearButtonText = '清除';\n\nconst dataSet = [\n  {\n    name: '性别',\n    value: 'sex',\n    type: 'text',\n  },\n  {\n    name: '姓名',\n    value: 'name',\n    type: 'text',\n  },\n  {\n    name: '城市',\n    value: 'city',\n    type: 'location',\n  },\n  {\n    name: '日期',\n    value: 'date',\n    type: 'date',\n  },\n];\n\nReactDOM.render(\n  <DrillDown\n    disabledFields={disabledFields}\n    clearButtonText={clearButtonText}\n    dataSet={dataSet}\n  />,\n  document.getElementById('container'),\n);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React);\n    global.basicPanel = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var disabledFields = ['name'];\n  var clearButtonText = '清除';\n  var dataSet = [{\n    name: '性别',\n    value: 'sex',\n    type: 'text'\n  }, {\n    name: '姓名',\n    value: 'name',\n    type: 'text'\n  }, {\n    name: '城市',\n    value: 'city',\n    type: 'location'\n  }, {\n    name: '日期',\n    value: 'date',\n    type: 'date'\n  }];\n\n  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.DrillDown, {\n    disabledFields: disabledFields,\n    clearButtonText: clearButtonText,\n    dataSet: dataSet\n  }), document.getElementById('container'));\n});"},{"relativePath":"layout/custom/demo/custom-pivot-size.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/custom/demo/custom-pivot-size.ts","order":0,"filename":"custom-pivot-size.ts","title":{"zh":"自定义透视表行列宽高","en":"Custom PivotSheet Size"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/%24sNoM1o7b/8a35f685-f989-4125-aada-046f90b93969.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'grid',\n      style: {\n        cellCfg: {\n          width: 100,\n          height: 90,\n        },\n        rowCfg: {\n          width: 100,\n          heightByField: {\n            'root[&]浙江省[&]杭州市': 30,\n            'root[&]浙江省[&]宁波市': 100,\n          },\n        },\n        colCfg: {\n          widthByFieldValue: {\n            number: 100,\n          },\n        },\n      },\n    };\n\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customPivotSize = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container'); // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'grid',\n      style: {\n        cellCfg: {\n          width: 100,\n          height: 90\n        },\n        rowCfg: {\n          width: 100,\n          heightByField: {\n            'root[&]浙江省[&]杭州市': 30,\n            'root[&]浙江省[&]宁波市': 100\n          }\n        },\n        colCfg: {\n          widthByFieldValue: {\n            number: 100\n          }\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/custom/demo/custom-table-size.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/custom/demo/custom-table-size.ts","order":1,"filename":"custom-table-size.ts","title":{"zh":"自定义明细表行列宽高","en":"Custom TableSheet Height"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/oIjIixviI/ccba0c66-c8ba-4285-b0ec-fc776d0a4cdf.png","source":"import { TableSheet } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        // 列头宽度始终和数值单元格一致\n        cellCfg: {\n          width: 200,\n          height: 50,\n        },\n        colCfg: {\n          height: 50,\n        },\n        // 每一行根据指标单独设置\n        rowCfg: {\n          heightByField: {\n            '1': 130,\n            '3': 60,\n            '10': 80,\n            '15': 20,\n          },\n        },\n      },\n    };\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customTableSize = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        // 列头宽度始终和数值单元格一致\n        cellCfg: {\n          width: 200,\n          height: 50\n        },\n        colCfg: {\n          height: 50\n        },\n        // 每一行根据指标单独设置\n        rowCfg: {\n          heightByField: {\n            '1': 130,\n            '3': 60,\n            '10': 80,\n            '15': 20\n          }\n        }\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/custom/demo/hide-columns.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/custom/demo/hide-columns.ts","order":3,"filename":"hide-columns.ts","title":{"zh":"隐藏列头","en":"Hide Columns"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/7uLsxYg0N/b85dc985-6a07-40fd-a73e-4f0f17e63b72.png","source":"import { TableSheet } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        colCfg: {\n          height: 0,\n        },\n      },\n    };\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.hideColumns = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        colCfg: {\n          height: 0\n        }\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/custom/demo/custom-tree-row-width.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/custom/demo/custom-tree-row-width.ts","order":2,"filename":"custom-tree-row-width.ts","title":{"zh":"自定义树状结构行头宽度","en":"Custom Tree Row Width"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/y%26PAejhkm/e9b18b27-a6c9-4c05-b75c-83b25030d0c6.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      style: {\n        treeRowsWidth: 200,\n      },\n    };\n\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customTreeRowWidth = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container'); // 详情请查看: https://s2.antv.vision/zh/docs/manual/advanced/custom/cell-size\n\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      style: {\n        treeRowsWidth: 200\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/basic/demo/colAdaptive.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/basic/demo/colAdaptive.ts","order":1,"filename":"colAdaptive.ts","title":{"zh":"列等宽布局","en":"ColAdaptive"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/cEkDC%26g%24xj/df31b66d-4a76-4e69-be5a-f467af2d337d.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        layoutWidthType: 'colAdaptive',\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.colAdaptive = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        layoutWidthType: 'colAdaptive'\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/basic/demo/compact.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/basic/demo/compact.ts","order":0,"filename":"compact.ts","title":{"zh":"紧凑布局","en":"Compact"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/yzBFZaMMLH/55a2d580-1121-468e-9d0b-25f3e9ae25df.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 400,\n      height: 480,\n      style: {\n        layoutWidthType: 'compact',\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.compact = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 400,\n      height: 480,\n      style: {\n        layoutWidthType: 'compact'\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"layout/adaptive/demo/container-adaptation.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/adaptive/demo/container-adaptation.ts","order":1,"filename":"container-adaptation.ts","title":{"zh":"容器自适应","en":"Container adaptation"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/KGzcHFhKw/rongqizishiying.gif","source":"import { PivotSheet } from '@antv/s2'\nimport { debounce } from 'lodash'\n\nfetch(\n    'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n    .then((res) => res.json())\n    .then((dataCfg) => {\n        const container = document.getElementById('container');\n        container.innerHTML = '<div style=\"width: 100%; height: 600px; display: flex; flex-flow: row nowrap; \"> ' +\n            '<p id=\"side\" style=\"flex-basis: 100px; width: 100px\"> 这是一个新的node</p> <div id=\"content\" style=\"width: 600px \"></div> ' +\n            '</div>';\n\n        const content = document.getElementById('content')\n        setTimeout(() => {\n            content.style.width = '300px';\n        }, 1000)\n\n        const s2Options = {\n            width: 600,\n            height: 480,\n        };\n        const s2 = new PivotSheet(content, dataCfg, s2Options);\n\n        s2.render();\n        const debounceRender = debounce((width, height) => {\n            s2.changeSheetSize(width, height)\n            s2.render(false) // 不重新加载数据\n        }, 200)\n\n        const resizeObserver = new ResizeObserver(([entry] = []) => {\n            const [size] = entry.borderBoxSize || [];\n            debounceRender(size.inlineSize, size.blockSize)\n        });\n        resizeObserver.observe(content);\n    });\n\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"lodash\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"lodash\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.lodash);\n    global.containerAdaptation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s2, _lodash) {\n  \"use strict\";\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    container.innerHTML = '<div style=\"width: 100%; height: 600px; display: flex; flex-flow: row nowrap; \"> ' + '<p id=\"side\" style=\"flex-basis: 100px; width: 100px\"> 这是一个新的node</p> <div id=\"content\" style=\"width: 600px \"></div> ' + '</div>';\n    var content = document.getElementById('content');\n    setTimeout(function () {\n      content.style.width = '300px';\n    }, 1000);\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s2.PivotSheet(content, dataCfg, s2Options);\n    s2.render();\n    var debounceRender = (0, _lodash.debounce)(function (width, height) {\n      s2.changeSheetSize(width, height);\n      s2.render(false); // 不重新加载数据\n    }, 200);\n    var resizeObserver = new ResizeObserver(function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n          _ref2 = _slicedToArray(_ref, 1),\n          entry = _ref2[0];\n\n      var _ref3 = entry.borderBoxSize || [],\n          _ref4 = _slicedToArray(_ref3, 1),\n          size = _ref4[0];\n\n      debounceRender(size.inlineSize, size.blockSize);\n    });\n    resizeObserver.observe(content);\n  });\n});"},{"relativePath":"layout/adaptive/demo/react-adaptive.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/adaptive/demo/react-adaptive.tsx","order":2,"filename":"react-adaptive.tsx","title":{"zh":"React 组件自适应","en":"React adaptive"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/tKAKwgB5r/React%252520zujianzishiying.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport { concat, debounce, forEach, map } from 'lodash';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n\n    ReactDOM.render(\n      <SheetComponent dataCfg={dataCfg} options={s2Options} adaptive={{\n          width: true,\n          height: false,\n          getContainer: () => document.getElementById('container')\n      }} />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React);\n    global.reactAdaptive = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      adaptive: {\n        width: true,\n        height: false,\n        getContainer: function getContainer() {\n          return document.getElementById('container');\n        }\n      }\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"layout/adaptive/demo/window-adaptation.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/layout/adaptive/demo/window-adaptation.ts","order":0,"filename":"window-adaptation.ts","title":{"zh":"窗口自适应","en":"Window adaptation"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/lAWvv3XGU/chuangkouzishiying.gif","source":"import { PivotSheet } from '@antv/s2'\nimport { debounce } from 'lodash'\n\n\nfetch(\n    'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n    .then((res) => res.json())\n    .then((dataCfg) => {\n        const container = document.getElementById('container');\n\n        const s2Options = {\n            width: 600,\n            height: 480,\n        };\n        const s2 = new PivotSheet(container, dataCfg, s2Options);\n        s2.render();\n\n        const debounceRender = debounce((width, height) => {\n            s2.changeSheetSize(width, height)\n            s2.render(false) // 不重新加载数据\n        }, 200)\n\n        new ResizeObserver(([entry] = []) => {\n            const [size] = entry.borderBoxSize || [];\n            debounceRender(size.inlineSize, size.blockSize)\n        }).observe(document.body); // 通过监听 document.body 来实现监听窗口大小变化\n    });\n\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"lodash\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"lodash\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.lodash);\n    global.windowAdaptation = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s2, _lodash) {\n  \"use strict\";\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s2.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n    var debounceRender = (0, _lodash.debounce)(function (width, height) {\n      s2.changeSheetSize(width, height);\n      s2.render(false); // 不重新加载数据\n    }, 200);\n    new ResizeObserver(function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n          _ref2 = _slicedToArray(_ref, 1),\n          entry = _ref2[0];\n\n      var _ref3 = entry.borderBoxSize || [],\n          _ref4 = _slicedToArray(_ref3, 1),\n          size = _ref4[0];\n\n      debounceRender(size.inlineSize, size.blockSize);\n    }).observe(document.body); // 通过监听 document.body 来实现监听窗口大小变化\n  });\n});"},{"relativePath":"interaction/custom/demo/double-click-hide-columns.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/custom/demo/double-click-hide-columns.ts","order":0,"filename":"double-click-hide-columns.ts","title":{"zh":"双击列头隐藏","en":"Double click hide columns"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/ukpGbSUqFz/double-click.gif","source":"import { TableSheet, BaseEvent, S2Event } from '@antv/s2';\n\nclass HiddenInteraction extends BaseEvent {\n  bindEvents() {\n    // 列头双击\n    this.spreadsheet.on(S2Event.COL_CELL_DOUBLE_CLICK, (event) => {\n      const cell = this.spreadsheet.getCell(event.target);\n      const meta = cell.getMeta();\n      this.spreadsheet.interaction.hideColumns([meta.field]);\n    });\n\n    this.spreadsheet.on(S2Event.LAYOUT_COLS_EXPANDED, (cell) => {\n      console.log('列头展开:', cell);\n    });\n\n    this.spreadsheet.on(\n      S2Event.LAYOUT_COLS_HIDDEN,\n      (currentHiddenColumnsInfo, hiddenColumnsDetail) => {\n        console.log('列头隐藏:', currentHiddenColumnsInfo, hiddenColumnsDetail);\n      },\n    );\n  }\n}\n\nclass ContextMenuInteraction extends BaseEvent {\n  bindEvents() {\n    // 禁止弹出右键菜单\n    this.spreadsheet.on(S2Event.GLOBAL_CONTEXT_MENU, (event) => {\n      event?.preventDefault?.();\n      console.log('右键', event);\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        customInteractions: [\n          {\n            key: 'HiddenInteraction',\n            interaction: HiddenInteraction,\n          },\n          {\n            key: 'ContextMenuInteraction',\n            interaction: ContextMenuInteraction,\n          },\n        ],\n      },\n    };\n\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.doubleClickHideColumns = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var HiddenInteraction = /*#__PURE__*/function (_BaseEvent) {\n    _inherits(HiddenInteraction, _BaseEvent);\n\n    var _super = _createSuper(HiddenInteraction);\n\n    function HiddenInteraction() {\n      _classCallCheck(this, HiddenInteraction);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(HiddenInteraction, [{\n      key: \"bindEvents\",\n      value: function bindEvents() {\n        var _this = this;\n\n        // 列头双击\n        this.spreadsheet.on(_s.S2Event.COL_CELL_DOUBLE_CLICK, function (event) {\n          var cell = _this.spreadsheet.getCell(event.target);\n\n          var meta = cell.getMeta();\n\n          _this.spreadsheet.interaction.hideColumns([meta.field]);\n        });\n        this.spreadsheet.on(_s.S2Event.LAYOUT_COLS_EXPANDED, function (cell) {\n          console.log('列头展开:', cell);\n        });\n        this.spreadsheet.on(_s.S2Event.LAYOUT_COLS_HIDDEN, function (currentHiddenColumnsInfo, hiddenColumnsDetail) {\n          console.log('列头隐藏:', currentHiddenColumnsInfo, hiddenColumnsDetail);\n        });\n      }\n    }]);\n\n    return HiddenInteraction;\n  }(_s.BaseEvent);\n\n  var ContextMenuInteraction = /*#__PURE__*/function (_BaseEvent2) {\n    _inherits(ContextMenuInteraction, _BaseEvent2);\n\n    var _super2 = _createSuper(ContextMenuInteraction);\n\n    function ContextMenuInteraction() {\n      _classCallCheck(this, ContextMenuInteraction);\n\n      return _super2.apply(this, arguments);\n    }\n\n    _createClass(ContextMenuInteraction, [{\n      key: \"bindEvents\",\n      value: function bindEvents() {\n        // 禁止弹出右键菜单\n        this.spreadsheet.on(_s.S2Event.GLOBAL_CONTEXT_MENU, function (event) {\n          var _event$preventDefault;\n\n          event === null || event === void 0 ? void 0 : (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n          console.log('右键', event);\n        });\n      }\n    }]);\n\n    return ContextMenuInteraction;\n  }(_s.BaseEvent);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4eff53f3-f952-4b77-8862-4b6ecbd31667.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        customInteractions: [{\n          key: 'HiddenInteraction',\n          interaction: HiddenInteraction\n        }, {\n          key: 'ContextMenuInteraction',\n          interaction: ContextMenuInteraction\n        }]\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/custom/demo/row-col-hover-tooltip.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/custom/demo/row-col-hover-tooltip.ts","order":1,"filename":"row-col-hover-tooltip.ts","title":{"zh":"行列头悬停显示 tooltip","en":"Show tooltip when hover row or column"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/c%24ICO1qvb/Kapture%2525202021-12-03%252520at%25252016.30.11.gif","source":"import { PivotSheet, BaseEvent, S2Event } from '@antv/s2';\n\nclass RowColumnHoverTooltipInteraction extends BaseEvent {\n  bindEvents() {\n    // 行头hover\n    this.spreadsheet.on(S2Event.ROW_CELL_HOVER, (event) => {\n      this.showTooltip(event);\n    });\n    // 列头hover\n    this.spreadsheet.on(S2Event.COL_CELL_HOVER, (event) => {\n      this.showTooltip(event);\n    });\n  }\n\n  showTooltip(event) {\n    const cell = this.spreadsheet.getCell(event.target);\n    const meta = cell.getMeta();\n    const content = meta.value;\n\n    this.spreadsheet.tooltip.show({\n      position: {\n        x: event.clientX,\n        y: event.clientY,\n      },\n      content,\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        customInteractions: [\n          {\n            key: 'RowColumnHoverTooltipInteraction',\n            interaction: RowColumnHoverTooltipInteraction,\n          },\n        ],\n      },\n    };\n\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.rowColHoverTooltip = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var RowColumnHoverTooltipInteraction = /*#__PURE__*/function (_BaseEvent) {\n    _inherits(RowColumnHoverTooltipInteraction, _BaseEvent);\n\n    var _super = _createSuper(RowColumnHoverTooltipInteraction);\n\n    function RowColumnHoverTooltipInteraction() {\n      _classCallCheck(this, RowColumnHoverTooltipInteraction);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(RowColumnHoverTooltipInteraction, [{\n      key: \"bindEvents\",\n      value: function bindEvents() {\n        var _this = this;\n\n        // 行头hover\n        this.spreadsheet.on(_s.S2Event.ROW_CELL_HOVER, function (event) {\n          _this.showTooltip(event);\n        }); // 列头hover\n\n        this.spreadsheet.on(_s.S2Event.COL_CELL_HOVER, function (event) {\n          _this.showTooltip(event);\n        });\n      }\n    }, {\n      key: \"showTooltip\",\n      value: function showTooltip(event) {\n        var cell = this.spreadsheet.getCell(event.target);\n        var meta = cell.getMeta();\n        var content = meta.value;\n        this.spreadsheet.tooltip.show({\n          position: {\n            x: event.clientX,\n            y: event.clientY\n          },\n          content: content\n        });\n      }\n    }]);\n\n    return RowColumnHoverTooltipInteraction;\n  }(_s.BaseEvent);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        customInteractions: [{\n          key: 'RowColumnHoverTooltipInteraction',\n          interaction: RowColumnHoverTooltipInteraction\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/auto-reset-sheet-style.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/auto-reset-sheet-style.ts","order":5,"filename":"auto-reset-sheet-style.ts","title":{"zh":"自动交互状态重置","en":"Disable auto reset sheet style"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/Lb0%26u6LtAu/reset.gif","source":"import { TableSheet } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        autoResetSheetStyle: true, // 在鼠标移出表格区域后，自动 reset hover 高亮状态\n      },\n    };\n\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.autoResetSheetStyle = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        autoResetSheetStyle: true // 在鼠标移出表格区域后，自动 reset hover 高亮状态\n\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/click-highlight.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/click-highlight.ts","order":1,"filename":"click-highlight.ts","title":{"zh":"单选高亮","en":"Click Highlighting"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/0lw2grIHZN/click.gif","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true, // highlight click\n      },\n      tooltip: {\n        showTooltip: true,\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.clickHighlight = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true // highlight click\n\n      },\n      tooltip: {\n        showTooltip: true\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/frozen.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/frozen.ts","order":4,"filename":"frozen.ts","title":{"zh":"行列冻结","en":"Freeze Rows And Cols"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/%24a16EsOCR8/frozeb.gif","source":"import { TableSheet } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data: res,\n    };\n\n    const s2Options = {\n      width: 480,\n      height: 480,\n      showSeriesNumber: true,\n      frozenRowCount: 1, // 行头冻结数量\n      frozenColCount: 1, // 列头冻结数量\n      frozenTrailingRowCount: 1, // 列尾冻结数量\n      frozenTrailingColCount: 1, // 列尾冻结数量\n    };\n\n    const tableSheet = new TableSheet(container, s2DataConfig, s2Options);\n\n    tableSheet.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.frozen = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: res\n    };\n    var s2Options = {\n      width: 480,\n      height: 480,\n      showSeriesNumber: true,\n      frozenRowCount: 1,\n      // 行头冻结数量\n      frozenColCount: 1,\n      // 列头冻结数量\n      frozenTrailingRowCount: 1,\n      // 列尾冻结数量\n      frozenTrailingColCount: 1 // 列尾冻结数量\n\n    };\n    var tableSheet = new _s.TableSheet(container, s2DataConfig, s2Options);\n    tableSheet.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/hover.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/hover.ts","order":0,"filename":"hover.ts","title":{"zh":"行列联动高亮","en":"Hover Highlighting"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/l23NpRrPmF/hover.gif","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true, // hover highlight\n      },\n      tooltip: {\n        showTooltip: true,\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.hover = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true // hover highlight\n\n      },\n      tooltip: {\n        showTooltip: true\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/select-highlight.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/select-highlight.ts","order":2,"filename":"select-highlight.ts","title":{"zh":"圈选高亮","en":"Multiple Select Highlighting"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/WBFq3TzTY9/multi-select.gif","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true, // highlight selection\n      },\n      tooltip: {\n        showTooltip: true,\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.selectHighlight = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true // highlight selection\n\n      },\n      tooltip: {\n        showTooltip: true\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/basic/demo/resize.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/basic/demo/resize.ts","order":3,"filename":"resize.ts","title":{"zh":"行高列宽调整","en":"Resize Height And Width"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/F6l3SoxBCx/resize.gif","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true, // highlight selection\n      },\n      tooltip: {\n        showTooltip: true,\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.resize = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: true,\n        selectedCellsSpotlight: true // highlight selection\n\n      },\n      tooltip: {\n        showTooltip: true\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/advanced/demo/merge-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/merge-cell.ts","order":6,"filename":"merge-cell.ts","title":{"zh":"合并单元格","en":"Merge cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/Eq9WwyC2g/merge-cell.gif","source":"import { PivotSheet, S2Event } from '@antv/s2';\nimport insertCss from 'insert-css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const button = document.createElement('button');\n    const dataCellTooltip = () => {\n      button.innerText = '点击合并单元格';\n      button.className = 'merge-cells-button';\n      button.onclick = () => s2.interaction.mergeCells();\n      return button;\n    }; // (按住 Cmd/ Ctrl 多选)\n\n    const mergedCellsTooltip = (mergedCell) => {\n      button.innerText = '取消合并单元格';\n      button.className = 'merge-cells-button';\n      button.onclick = () => s2.interaction.unmergeCell(mergedCell);\n      return button;\n    };\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      data: res.data,\n      meta: res.meta,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      mergedCellsInfo: [\n        [\n          { colIndex: 1, rowIndex: 6, showText: true },\n          { colIndex: 1, rowIndex: 7 },\n          { colIndex: 2, rowIndex: 6 },\n          { colIndex: 2, rowIndex: 7 },\n          { colIndex: 3, rowIndex: 6 },\n          { colIndex: 3, rowIndex: 7 },\n        ],\n      ],\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.on(S2Event.DATA_CELL_CLICK, (event) => {\n      s2.tooltip.show({\n        position: { x: event.clientX, y: event.clientY },\n        content: dataCellTooltip(),\n      });\n    });\n\n    s2.on(S2Event.MERGED_CELLS_CLICK, (event) => {\n      const cell = s2.getCell(event.target);\n      s2.tooltip.show({\n        position: { x: event.clientX, y: event.clientY },\n        content: mergedCellsTooltip(cell),\n      });\n    });\n\n    s2.render();\n  });\n\ninsertCss(`\n  .merge-cells-button {\n    border: 1px solid transparent;\n    box-shadow: 0 2px #00000004;\n    cursor: pointer;\n    height: 32px;\n    padding: 4px 15px;\n    font-size: 14px;\n    border-radius: 2px;\n    color: #000000d9;\n    border-color: #d9d9d9;\n    background: #fff;\n  }\n  .merge-cells-button:hover {\n    color: #40a9ff;\n    border-color: #40a9ff;\n  }\n  .merge-cells-button:active {\n    color: #096dd9;\n    border-color: #096dd9;\n  }\n  .antv-s2-tooltip-container  {\n    padding: 10px 64px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.insertCss);\n    global.mergeCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s, _insertCss) {\n  \"use strict\";\n\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var button = document.createElement('button');\n\n    var dataCellTooltip = function dataCellTooltip() {\n      button.innerText = '点击合并单元格';\n      button.className = 'merge-cells-button';\n\n      button.onclick = function () {\n        return s2.interaction.mergeCells();\n      };\n\n      return button;\n    }; // (按住 Cmd/ Ctrl 多选)\n\n\n    var mergedCellsTooltip = function mergedCellsTooltip(mergedCell) {\n      button.innerText = '取消合并单元格';\n      button.className = 'merge-cells-button';\n\n      button.onclick = function () {\n        return s2.interaction.unmergeCell(mergedCell);\n      };\n\n      return button;\n    };\n\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      data: res.data,\n      meta: res.meta\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      mergedCellsInfo: [[{\n        colIndex: 1,\n        rowIndex: 6,\n        showText: true\n      }, {\n        colIndex: 1,\n        rowIndex: 7\n      }, {\n        colIndex: 2,\n        rowIndex: 6\n      }, {\n        colIndex: 2,\n        rowIndex: 7\n      }, {\n        colIndex: 3,\n        rowIndex: 6\n      }, {\n        colIndex: 3,\n        rowIndex: 7\n      }]]\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.on(_s.S2Event.DATA_CELL_CLICK, function (event) {\n      s2.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        content: dataCellTooltip()\n      });\n    });\n    s2.on(_s.S2Event.MERGED_CELLS_CLICK, function (event) {\n      var cell = s2.getCell(event.target);\n      s2.tooltip.show({\n        position: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        content: mergedCellsTooltip(cell)\n      });\n    });\n    s2.render();\n  });\n  (0, _insertCss.default)(\"\\n  .merge-cells-button {\\n    border: 1px solid transparent;\\n    box-shadow: 0 2px #00000004;\\n    cursor: pointer;\\n    height: 32px;\\n    padding: 4px 15px;\\n    font-size: 14px;\\n    border-radius: 2px;\\n    color: #000000d9;\\n    border-color: #d9d9d9;\\n    background: #fff;\\n  }\\n  .merge-cells-button:hover {\\n    color: #40a9ff;\\n    border-color: #40a9ff;\\n  }\\n  .merge-cells-button:active {\\n    color: #096dd9;\\n    border-color: #096dd9;\\n  }\\n  .antv-s2-tooltip-container  {\\n    padding: 10px 64px;\\n  }\\n\");\n});"},{"relativePath":"interaction/advanced/demo/overscroll-behavior.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/overscroll-behavior.ts","order":9,"filename":"overscroll-behavior.ts","title":{"zh":"关闭浏览器默认边界滚动行为","en":"Reaching the boundary of a scrolling area"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/JRAt1kb93/Kapture%2525202022-06-06%252520at%25252011.28.43.gif","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          width: 200,\n          height: 100,\n        },\n      },\n      interaction: {\n        // 关闭浏览器默认的滚动边界行为, 同时设置表格不同的滚动边界行为, 可尝试在不同的设备上滚动看效果\n        // 设置为 'none' | 'contain' 时, 表格滚动到顶部/底部时, 不再触发父容器滚动\n        // 可选项: 'none' | 'contain' | 'auto'\n        overscrollBehavior: 'none',\n      },\n    };\n\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.overscrollBehavior = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          width: 200,\n          height: 100\n        }\n      },\n      interaction: {\n        // 关闭浏览器默认的滚动边界行为, 同时设置表格不同的滚动边界行为, 可尝试在不同的设备上滚动看效果\n        // 设置为 'none' | 'contain' 时, 表格滚动到顶部/底部时, 不再触发父容器滚动\n        // 可选项: 'none' | 'contain' | 'auto'\n        overscrollBehavior: 'none'\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"interaction/advanced/demo/pivot-hide-columns.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/pivot-hide-columns.ts","order":2,"filename":"pivot-hide-columns.ts","title":{"zh":"隐藏列头 - 透视表","en":"Hide pivot sheet columns"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/0TMss8KAY/Kapture%2525202022-02-11%252520at%25252017.52.53.gif","source":"import { PivotSheet, S2Event } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        // 透视表默认隐藏需要指定唯一列头id\n        // 可通过 `s2.getColumnNodes()` 获取列头节点查看id\n        hiddenColumnFields: ['root[&]家具[&]沙发[&]number'],\n      },\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          // 开启手动隐藏, 透视表只有叶子节点才生效\n          hiddenColumns: true,\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.on(S2Event.LAYOUT_COLS_EXPANDED, (cell) => {\n      console.log('列头展开', cell);\n    });\n    s2.on(\n      S2Event.LAYOUT_COLS_HIDDEN,\n      (currentHiddenColumnsInfo, hiddenColumnsDetail) => {\n        console.log('列头隐藏', currentHiddenColumnsInfo, hiddenColumnsDetail);\n      },\n    );\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.pivotHideColumns = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        // 透视表默认隐藏需要指定唯一列头id\n        // 可通过 `s2.getColumnNodes()` 获取列头节点查看id\n        hiddenColumnFields: ['root[&]家具[&]沙发[&]number']\n      },\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          // 开启手动隐藏, 透视表只有叶子节点才生效\n          hiddenColumns: true\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.on(_s.S2Event.LAYOUT_COLS_EXPANDED, function (cell) {\n      console.log('列头展开', cell);\n    });\n    s2.on(_s.S2Event.LAYOUT_COLS_HIDDEN, function (currentHiddenColumnsInfo, hiddenColumnsDetail) {\n      console.log('列头隐藏', currentHiddenColumnsInfo, hiddenColumnsDetail);\n    });\n    s2.render();\n  });\n});"},{"relativePath":"interaction/advanced/demo/pivot-link-jump.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/pivot-link-jump.ts","order":0,"filename":"pivot-link-jump.ts","title":{"zh":"链接跳转 - 透视表","en":"Link jump"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/W0bikxI2pn/link-pivot.gif","source":"import { S2Event, PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        linkFields: ['city'],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.on(S2Event.GLOBAL_LINK_FIELD_JUMP, (data) => {\n      console.log(data);\n\n      const { key, record } = data;\n      const value = record[key];\n      const a = document.createElement('a');\n      a.target = '_blank';\n      a.href = `https://antv-s2.gitee.io/zh/docs/manual/introduction?${key}=${value}`;\n      a.click();\n      a.remove();\n    });\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.pivotLinkJump = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        linkFields: ['city']\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.on(_s.S2Event.GLOBAL_LINK_FIELD_JUMP, function (data) {\n      console.log(data);\n      var key = data.key,\n          record = data.record;\n      var value = record[key];\n      var a = document.createElement('a');\n      a.target = '_blank';\n      a.href = \"https://antv-s2.gitee.io/zh/docs/manual/introduction?\".concat(key, \"=\").concat(value);\n      a.click();\n      a.remove();\n    });\n    s2.render();\n  });\n});"},{"relativePath":"interaction/advanced/demo/resize-active.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/resize-active.ts","order":5,"filename":"resize-active.ts","title":{"zh":"自定义resize热区","en":"Custom resize area"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/HEfCpSTRO/2021-12-06%25252011.39.15.gif","source":"import { PivotSheet } from '@antv/s2';\nimport insertCss from 'insert-css';\n\nfunction createRadioGroup(s2) {\n  [\n    ['rowCellVertical', '行头热区'],\n    ['cornerCellHorizontal', '角头热区'],\n    ['colCellHorizontal', '列头水平方向resize热区'],\n    ['colCellVertical', '列头垂直方向resize热区'],\n  ].forEach(([value, text]) => {\n    const radio = document.createElement('input');\n\n    radio.type = 'radio';\n    radio.name = value;\n    radio.value = value;\n    radio.checked = true;\n\n    radio.addEventListener('click', (e) => {\n      const value = e.target.value;\n      const updated = !s2.options.interaction.resize[value];\n      radio.checked = updated;\n\n      s2.setOptions({\n        interaction: {\n          resize: {\n            [value]: updated,\n          },\n        },\n      });\n      s2.render(false);\n    });\n\n    const label = document.createElement('label');\n    label.innerText = text;\n    label.htmlFor = 'name';\n\n    document.querySelector('#container > canvas').before(radio);\n    document.querySelector('#container > canvas').before(label);\n  });\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        resize: {\n          rowCellVertical: true,\n          cornerCellHorizontal: true,\n          colCellHorizontal: true,\n          colCellVertical: true,\n        },\n      },\n    };\n\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n\n    createRadioGroup(s2);\n  });\n\ninsertCss(`\n  input[type='radio'] {\n    margin-bottom: 20px;\n    margin-right: 4px;\n  }\n\n  label{\n    margin-right: 10px\n  }\n`);  ","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.insertCss);\n    global.resizeActive = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s2, _insertCss) {\n  \"use strict\";\n\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  function createRadioGroup(s2) {\n    [['rowCellVertical', '行头热区'], ['cornerCellHorizontal', '角头热区'], ['colCellHorizontal', '列头水平方向resize热区'], ['colCellVertical', '列头垂直方向resize热区']].forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          value = _ref2[0],\n          text = _ref2[1];\n\n      var radio = document.createElement('input');\n      radio.type = 'radio';\n      radio.name = value;\n      radio.value = value;\n      radio.checked = true;\n      radio.addEventListener('click', function (e) {\n        var value = e.target.value;\n        var updated = !s2.options.interaction.resize[value];\n        radio.checked = updated;\n        s2.setOptions({\n          interaction: {\n            resize: _defineProperty({}, value, updated)\n          }\n        });\n        s2.render(false);\n      });\n      var label = document.createElement('label');\n      label.innerText = text;\n      label.htmlFor = 'name';\n      document.querySelector('#container > canvas').before(radio);\n      document.querySelector('#container > canvas').before(label);\n    });\n  }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        resize: {\n          rowCellVertical: true,\n          cornerCellHorizontal: true,\n          colCellHorizontal: true,\n          colCellVertical: true\n        }\n      }\n    };\n    var s2 = new _s2.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n    createRadioGroup(s2);\n  });\n  (0, _insertCss.default)(\"\\n  input[type='radio'] {\\n    margin-bottom: 20px;\\n    margin-right: 4px;\\n  }\\n\\n  label{\\n    margin-right: 10px\\n  }\\n\");\n});"},{"relativePath":"interaction/advanced/demo/scroll-loop.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/scroll-loop.ts","order":8,"filename":"scroll-loop.ts","title":{"zh":"循环滚动","en":"Scroll loop"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/3q7Rp9HhP/Kapture%2525202022-05-30%252520at%25252015.53.27.gif","source":"import { PivotSheet, S2Event } from '@antv/s2';\nimport insertCss from 'insert-css';\n\n// 每次滚动的距离\nconst STEP = 50;\n\n// 每次滚动间隔时间\nconst MS = 500;\n\n// 计时器\nlet timer;\n\nfunction addScrollButton(s2) {\n  const btn = document.createElement('button');\n  btn.className = 'ant-btn ant-btn-default';\n  btn.innerHTML = '开始滚动';\n\n  const stopBtn = document.createElement('button');\n  stopBtn.className = 'ant-btn ant-btn-default';\n  stopBtn.innerHTML = '停止滚动';\n\n  stopBtn.addEventListener('click', () => {\n    clearInterval(timer);\n  });\n\n  btn.addEventListener('click', () => {\n    // 如果没有纵向滚动条则不需要触发定时器\n    if (!s2.facet.vScrollBar) {\n      return;\n    }\n\n    // 如果需要快速滚动, 可将 setInterval 替换成 requestAnimationFrame\n    timer = setInterval(() => {\n      // 获取当前 Y 轴滚动距离\n      const { scrollY } = s2.facet.getScrollOffset();\n      // 访问 https://s2.antv.vision/zh/docs/api 查看更多 API\n      // 如果已经滚动到了底部，则回到顶部\n      if (s2.facet.isScrollToBottom(scrollY)) {\n        console.log('滚动到底部');\n        s2.updateScrollOffset({\n          offsetY: {\n            value: 0,\n            animate: false,\n          },\n        });\n        return;\n      }\n      console.log('开始滚动, 当前 scrollY:', scrollY);\n      s2.updateScrollOffset({\n        offsetY: {\n          value: scrollY + STEP,\n          animate: true,\n        },\n      });\n    }, MS);\n  });\n  document.querySelector('#container > canvas').before(btn);\n  btn.after(stopBtn);\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          height: 100,\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    // 记得在表格卸载后 或者 `s2.destroy()` 后清除定时器\n    s2.on(S2Event.LAYOUT_DESTROY, () => {\n      clearInterval(timer);\n    });\n\n    s2.render();\n\n    addScrollButton(s2);\n  });\n\ninsertCss(`\n  #container > canvas {\n    margin-top: 10px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.insertCss);\n    global.scrollLoop = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s, _insertCss) {\n  \"use strict\";\n\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // 每次滚动的距离\n  var STEP = 50; // 每次滚动间隔时间\n\n  var MS = 500; // 计时器\n\n  var timer;\n\n  function addScrollButton(s2) {\n    var btn = document.createElement('button');\n    btn.className = 'ant-btn ant-btn-default';\n    btn.innerHTML = '开始滚动';\n    var stopBtn = document.createElement('button');\n    stopBtn.className = 'ant-btn ant-btn-default';\n    stopBtn.innerHTML = '停止滚动';\n    stopBtn.addEventListener('click', function () {\n      clearInterval(timer);\n    });\n    btn.addEventListener('click', function () {\n      // 如果没有纵向滚动条则不需要触发定时器\n      if (!s2.facet.vScrollBar) {\n        return;\n      } // 如果需要快速滚动, 可将 setInterval 替换成 requestAnimationFrame\n\n\n      timer = setInterval(function () {\n        // 获取当前 Y 轴滚动距离\n        var _s2$facet$getScrollOf = s2.facet.getScrollOffset(),\n            scrollY = _s2$facet$getScrollOf.scrollY; // 访问 https://s2.antv.vision/zh/docs/api 查看更多 API\n        // 如果已经滚动到了底部，则回到顶部\n\n\n        if (s2.facet.isScrollToBottom(scrollY)) {\n          console.log('滚动到底部');\n          s2.updateScrollOffset({\n            offsetY: {\n              value: 0,\n              animate: false\n            }\n          });\n          return;\n        }\n\n        console.log('开始滚动, 当前 scrollY:', scrollY);\n        s2.updateScrollOffset({\n          offsetY: {\n            value: scrollY + STEP,\n            animate: true\n          }\n        });\n      }, MS);\n    });\n    document.querySelector('#container > canvas').before(btn);\n    btn.after(stopBtn);\n  }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          height: 100\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options); // 记得在表格卸载后 或者 `s2.destroy()` 后清除定时器\n\n    s2.on(_s.S2Event.LAYOUT_DESTROY, function () {\n      clearInterval(timer);\n    });\n    s2.render();\n    addScrollButton(s2);\n  });\n  (0, _insertCss.default)(\"\\n  #container > canvas {\\n    margin-top: 10px;\\n  }\\n\");\n});"},{"relativePath":"interaction/advanced/demo/scroll-speed-ratio.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/scroll-speed-ratio.ts","order":4,"filename":"scroll-speed-ratio.ts","title":{"zh":"自定义滚动速度","en":"Custom scroll speed"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/e0z41b3e4/2021-11-16%25252020.11.53.gif","source":"import { TableSheet } from '@antv/s2';\n\nimport insertCss from 'insert-css';\n\nconst defaultScrollSpeedRatio = 1;\n\nfunction createSlider(s2) {\n  const slider = document.createElement('input');\n  slider.type = 'range';\n  slider.max = '5';\n  slider.min = '0';\n  slider.value = `${defaultScrollSpeedRatio}`;\n  slider.step = '0.1';\n  slider.title = `当前滚动速率: ${defaultScrollSpeedRatio}`;\n\n  slider.addEventListener('input', (e) => {\n    const ratio = e.target.value;\n    console.log('ratio: ', ratio);\n\n    s2.setOptions({\n      interaction: {\n        scrollSpeedRatio: {\n          vertical: ratio,\n        },\n      },\n    });\n    slider.title = `当前滚动速率: ${ratio}`;\n  });\n\n  document.querySelector('#container > canvas').before(slider);\n}\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 300,\n      interaction: {\n        scrollSpeedRatio: {\n          vertical: defaultScrollSpeedRatio,\n          horizontal: defaultScrollSpeedRatio,\n        },\n      },\n    };\n\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n\n    createSlider(s2);\n  });\n\ninsertCss(`\n  input[type='range'] {\n    display: block;\n    width: 300px;\n    background-color: #bdc3c7;\n    margin-left: 120px;\n    margin-bottom: 20px;\n    -webkit-appearance: none;\n    height: 5px;\n    border-radius: 5px;\n    outline: 0;\n  }\n\n  input[type=\"range\"]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background-color: #2C60D3;\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    border: 2px solid white;\n    cursor: pointer;\n    transition: .3s ease-in-out;\n  }​\n\n  input[type=\"range\"]::-webkit-slider-thumb:hover {\n    background-color: white;\n    border: 2px solid #2C60D3;\n  }\n\n  input[type=\"range\"]::-webkit-slider-thumb:active {\n    transform: scale(1.5);\n  }\n\n  input[type='range']::before {\n    content: attr(title);\n    position: absolute;\n    left: 15px;\n    top: 12px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.insertCss);\n    global.scrollSpeedRatio = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s, _insertCss) {\n  \"use strict\";\n\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var defaultScrollSpeedRatio = 1;\n\n  function createSlider(s2) {\n    var slider = document.createElement('input');\n    slider.type = 'range';\n    slider.max = '5';\n    slider.min = '0';\n    slider.value = \"\".concat(defaultScrollSpeedRatio);\n    slider.step = '0.1';\n    slider.title = \"\\u5F53\\u524D\\u6EDA\\u52A8\\u901F\\u7387: \".concat(defaultScrollSpeedRatio);\n    slider.addEventListener('input', function (e) {\n      var ratio = e.target.value;\n      console.log('ratio: ', ratio);\n      s2.setOptions({\n        interaction: {\n          scrollSpeedRatio: {\n            vertical: ratio\n          }\n        }\n      });\n      slider.title = \"\\u5F53\\u524D\\u6EDA\\u52A8\\u901F\\u7387: \".concat(ratio);\n    });\n    document.querySelector('#container > canvas').before(slider);\n  }\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 300,\n      interaction: {\n        scrollSpeedRatio: {\n          vertical: defaultScrollSpeedRatio,\n          horizontal: defaultScrollSpeedRatio\n        }\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n    createSlider(s2);\n  });\n  (0, _insertCss.default)(\"\\n  input[type='range'] {\\n    display: block;\\n    width: 300px;\\n    background-color: #bdc3c7;\\n    margin-left: 120px;\\n    margin-bottom: 20px;\\n    -webkit-appearance: none;\\n    height: 5px;\\n    border-radius: 5px;\\n    outline: 0;\\n  }\\n\\n  input[type=\\\"range\\\"]::-webkit-slider-thumb {\\n    -webkit-appearance: none;\\n    background-color: #2C60D3;\\n    width: 15px;\\n    height: 15px;\\n    border-radius: 50%;\\n    border: 2px solid white;\\n    cursor: pointer;\\n    transition: .3s ease-in-out;\\n  }\\u200B\\n\\n  input[type=\\\"range\\\"]::-webkit-slider-thumb:hover {\\n    background-color: white;\\n    border: 2px solid #2C60D3;\\n  }\\n\\n  input[type=\\\"range\\\"]::-webkit-slider-thumb:active {\\n    transform: scale(1.5);\\n  }\\n\\n  input[type='range']::before {\\n    content: attr(title);\\n    position: absolute;\\n    left: 15px;\\n    top: 12px;\\n  }\\n\");\n});"},{"relativePath":"interaction/advanced/demo/scroll-to-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/scroll-to-cell.ts","order":7,"filename":"scroll-to-cell.ts","title":{"zh":"滚动至指定单元格","en":"Scroll to cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/303GANzFN/Kapture%2525202022-05-30%252520at%25252015.56.54.gif","source":"import { PivotSheet } from '@antv/s2';\nimport insertCss from 'insert-css';\n\nfunction addScrollToCellButton(s2) {\n  const btn = document.createElement('button');\n  btn.className = 'ant-btn ant-btn-default';\n  btn.innerHTML = '滚动至成都市';\n\n  btn.addEventListener('click', () => {\n    // 获取行头是成都市对应的单元格\n    const rowNode = s2\n      .getRowNodes()\n      .find(({ id }) => id === 'root[&]四川省[&]成都市');\n\n    s2.updateScrollOffset({\n      offsetY: {\n        value: rowNode?.y,\n        animate: true,\n      },\n    });\n  });\n  document.querySelector('#container > canvas').before(btn);\n}\n\nfunction addScrollToTopButton(s2) {\n  const btn = document.createElement('button');\n  btn.className = 'ant-btn ant-btn-default';\n  btn.innerHTML = '滚动至顶部';\n\n  btn.addEventListener('click', () => {\n    s2.updateScrollOffset({\n      offsetY: {\n        value: 0,\n        animate: true,\n      },\n    });\n  });\n  document.querySelector('#container > canvas').before(btn);\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          height: 100,\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n\n    addScrollToCellButton(s2);\n    addScrollToTopButton(s2);\n  });\n\ninsertCss(`\n  #container > canvas {\n    margin-top: 10px;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.insertCss);\n    global.scrollToCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s, _insertCss) {\n  \"use strict\";\n\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function addScrollToCellButton(s2) {\n    var btn = document.createElement('button');\n    btn.className = 'ant-btn ant-btn-default';\n    btn.innerHTML = '滚动至成都市';\n    btn.addEventListener('click', function () {\n      // 获取行头是成都市对应的单元格\n      var rowNode = s2.getRowNodes().find(function (_ref) {\n        var id = _ref.id;\n        return id === 'root[&]四川省[&]成都市';\n      });\n      s2.updateScrollOffset({\n        offsetY: {\n          value: rowNode === null || rowNode === void 0 ? void 0 : rowNode.y,\n          animate: true\n        }\n      });\n    });\n    document.querySelector('#container > canvas').before(btn);\n  }\n\n  function addScrollToTopButton(s2) {\n    var btn = document.createElement('button');\n    btn.className = 'ant-btn ant-btn-default';\n    btn.innerHTML = '滚动至顶部';\n    btn.addEventListener('click', function () {\n      s2.updateScrollOffset({\n        offsetY: {\n          value: 0,\n          animate: true\n        }\n      });\n    });\n    document.querySelector('#container > canvas').before(btn);\n  }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      style: {\n        cellCfg: {\n          // 让表格显示滚动条\n          height: 100\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n    addScrollToCellButton(s2);\n    addScrollToTopButton(s2);\n  });\n  (0, _insertCss.default)(\"\\n  #container > canvas {\\n    margin-top: 10px;\\n  }\\n\");\n});"},{"relativePath":"interaction/advanced/demo/table-hide-columns.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/table-hide-columns.ts","order":3,"filename":"table-hide-columns.ts","title":{"zh":"隐藏列头 - 明细表","en":"Hide table sheet columns"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/nDXb10yy0v/hide.gif","source":"import { TableSheet, S2Event } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        // 默认隐藏 [省份] 和 [价格]\n        hiddenColumnFields: ['province', 'price'],\n      },\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          // 开启手动隐藏\n          hiddenColumns: true,\n        },\n      },\n    };\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.on(S2Event.LAYOUT_COLS_EXPANDED, (cell) => {\n      console.log('列头展开', cell);\n    });\n    s2.on(\n      S2Event.LAYOUT_COLS_HIDDEN,\n      (currentHiddenColumnsInfo, hiddenColumnsDetail) => {\n        console.log('列头隐藏', currentHiddenColumnsInfo, hiddenColumnsDetail);\n      },\n    );\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.tableHideColumns = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        // 默认隐藏 [省份] 和 [价格]\n        hiddenColumnFields: ['province', 'price']\n      },\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          // 开启手动隐藏\n          hiddenColumns: true\n        }\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.on(_s.S2Event.LAYOUT_COLS_EXPANDED, function (cell) {\n      console.log('列头展开', cell);\n    });\n    s2.on(_s.S2Event.LAYOUT_COLS_HIDDEN, function (currentHiddenColumnsInfo, hiddenColumnsDetail) {\n      console.log('列头隐藏', currentHiddenColumnsInfo, hiddenColumnsDetail);\n    });\n    s2.render();\n  });\n});"},{"relativePath":"interaction/advanced/demo/table-link-jump.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/interaction/advanced/demo/table-link-jump.ts","order":1,"filename":"table-link-jump.ts","title":{"zh":"链接跳转 - 明细表","en":"Link jump"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/aygNlbA0fu/link-table.gif","source":"import { S2Event, TableSheet } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        linkFields: ['type', 'province', 'price'],\n      },\n    };\n\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.on(S2Event.GLOBAL_LINK_FIELD_JUMP, (data) => {\n      console.log(data);\n\n      const { key, record } = data;\n      const value = record[key];\n      const a = document.createElement('a');\n      a.target = '_blank';\n      a.href = `https://antv-s2.gitee.io/zh/docs/manual/introduction?${key}=${value}`;\n      a.click();\n      a.remove();\n    });\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.tableLinkJump = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['type', 'province', 'city', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        linkFields: ['type', 'province', 'price']\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.on(_s.S2Event.GLOBAL_LINK_FIELD_JUMP, function (data) {\n      console.log(data);\n      var key = data.key,\n          record = data.record;\n      var value = record[key];\n      var a = document.createElement('a');\n      a.target = '_blank';\n      a.href = \"https://antv-s2.gitee.io/zh/docs/manual/introduction?\".concat(key, \"=\").concat(value);\n      a.click();\n      a.remove();\n    });\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-tree/demo/custom-tree.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-tree/demo/custom-tree.ts","order":0,"filename":"custom-tree.ts","title":{"zh":"自定义目录树","en":"custom tree"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/tSqlcOkaF/ee66a55f-32ea-4b33-8275-30b92439e00b.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/af54ea12-01d7-4696-a51c-c4d5e4ede28e.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: [],\n        columns: ['type', 'sub_type'],\n        values: [\n          'measure-a',\n          'measure-b',\n          'measure-c',\n          'measure-d',\n          'measure-e',\n          'measure-f',\n        ],\n        customTreeItems: res.customTreeItem,\n        valueInCols: false,\n      },\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'customTree',\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customTree = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/af54ea12-01d7-4696-a51c-c4d5e4ede28e.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: [],\n        columns: ['type', 'sub_type'],\n        values: ['measure-a', 'measure-b', 'measure-c', 'measure-d', 'measure-e', 'measure-f'],\n        customTreeItems: res.customTreeItem,\n        valueInCols: false\n      },\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'customTree'\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-layout/demo/custom-coordinate.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-layout/demo/custom-coordinate.ts","order":1,"filename":"custom-coordinate.ts","title":{"zh":"自定义行列坐标","en":"Custom Coordinate"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/VGuJd4OP2J/a21c6e22-05c0-4da1-860d-75be53afc43b.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      data: res.data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      layoutCoordinate: (facetCfg, rowNode, colNode) => {\n        // layoutCoordinate 用于改变行列叶子结点的尺寸（长、宽）和坐标（x、y）\n        // 改变「宁波市」节点高度\n        console.log(rowNode);\n        console.log(colNode);\n        if (rowNode?.label === '宁波市') {\n          rowNode.height = 100;\n        }\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customCoordinate = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      layoutCoordinate: function layoutCoordinate(facetCfg, rowNode, colNode) {\n        // layoutCoordinate 用于改变行列叶子结点的尺寸（长、宽）和坐标（x、y）\n        // 改变「宁波市」节点高度\n        console.log(rowNode);\n        console.log(colNode);\n\n        if ((rowNode === null || rowNode === void 0 ? void 0 : rowNode.label) === '宁波市') {\n          rowNode.height = 100;\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-layout/demo/custom-data-position.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-layout/demo/custom-data-position.ts","order":2,"filename":"custom-data-position.ts","title":{"zh":"自定义数据位置","en":"Custom Layout Data Position"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/SeGpS6Mf3p/c8b32cff-49bd-49f0-a2e8-03c5a769fa4c.png","source":"import { PivotSheet, VALUE_FIELD, EXTRA_FIELD } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      data: res.data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      layoutDataPosition: (s2, getCellData) => {\n        // layoutDataPosition 动态改变数据的定位，确定修订某个或者某些格子的值\n        // 下面以更改「浙江省-宁波市-家具-桌子」的单元格数据为例\n        const getCellMeta = (rowIndex, colIndex) => {\n          const viewMeta = getCellData(rowIndex, colIndex);\n          if (rowIndex === 2 && colIndex === 0) {\n            return {\n              ...viewMeta,\n              data: {\n                province: '浙江省',\n                city: '宁波市',\n                type: '家具',\n                sub_type: '桌子',\n                number: 999,\n                [EXTRA_FIELD]: 'number',\n                [VALUE_FIELD]: 999,\n              },\n              fieldValue: 999,\n            };\n          }\n          return viewMeta;\n        };\n        return getCellMeta;\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customDataPosition = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      layoutDataPosition: function layoutDataPosition(s2, getCellData) {\n        // layoutDataPosition 动态改变数据的定位，确定修订某个或者某些格子的值\n        // 下面以更改「浙江省-宁波市-家具-桌子」的单元格数据为例\n        var getCellMeta = function getCellMeta(rowIndex, colIndex) {\n          var viewMeta = getCellData(rowIndex, colIndex);\n\n          if (rowIndex === 2 && colIndex === 0) {\n            var _data;\n\n            return { ...viewMeta,\n              data: (_data = {\n                province: '浙江省',\n                city: '宁波市',\n                type: '家具',\n                sub_type: '桌子',\n                number: 999\n              }, _defineProperty(_data, _s.EXTRA_FIELD, 'number'), _defineProperty(_data, _s.VALUE_FIELD, 999), _data),\n              fieldValue: 999\n            };\n          }\n\n          return viewMeta;\n        };\n\n        return getCellMeta;\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-layout/demo/custom-layout-arrange.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-layout/demo/custom-layout-arrange.ts","order":0,"filename":"custom-layout-arrange.ts","title":{"zh":"自定义行列顺序","en":"Custom Layout Arrange"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/iw1AQBleoJ/634d1162-b4a4-472c-9bf5-76eca25c6b50.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      data: res.data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      layoutArrange: (s2, parent, field, fieldValues) => {\n        console.log(fieldValues);\n        if (field === 'city' && parent.label === '浙江省') {\n          // layoutArrange 可手动设置行、列顺序，适用于局部调整，非规则调整。\n          // 手动设置浙江省内部市的顺序，比如指定「宁波市」在第一位。\n          const keyIndex = fieldValues.indexOf('宁波市');\n          fieldValues.splice(keyIndex, 1);\n          fieldValues.unshift('宁波市');\n        }\n        return fieldValues;\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customLayoutArrange = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      layoutArrange: function layoutArrange(s2, parent, field, fieldValues) {\n        console.log(fieldValues);\n\n        if (field === 'city' && parent.label === '浙江省') {\n          // layoutArrange 可手动设置行、列顺序，适用于局部调整，非规则调整。\n          // 手动设置浙江省内部市的顺序，比如指定「宁波市」在第一位。\n          var keyIndex = fieldValues.indexOf('宁波市');\n          fieldValues.splice(keyIndex, 1);\n          fieldValues.unshift('宁波市');\n        }\n\n        return fieldValues;\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-layout/demo/custom-layout-hierarchy.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-layout/demo/custom-layout-hierarchy.ts","order":3,"filename":"custom-layout-hierarchy.ts","title":{"zh":"自定义层级结构","en":"Custom Layout Hierarchy"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/s33%26UjDslN/fed91224-4700-455a-b50f-8adc5cad8abd.png","source":"import { PivotSheet, Node, generateId } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      data: [\n        ...res.data,\n        ...[\n          {\n            province: '浙江省',\n            city: '宁波A',\n            type: '家具',\n            sub_type: '桌子',\n            number: 1001,\n          },\n          {\n            province: '浙江省',\n            city: '宁波A',\n            type: '家具',\n            sub_type: '沙发',\n            number: 1002,\n          },\n          {\n            province: '浙江省',\n            city: '宁波A',\n            type: '办公用品',\n            sub_type: '笔',\n            number: 1003,\n          },\n          {\n            province: '浙江省',\n            city: '宁波A',\n            type: '办公用品',\n            sub_type: '纸张',\n            number: 1004,\n          },\n        ],\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      layoutHierarchy: (s2, node) => {\n        // layoutHierarchy 用于手动控制行列结构的增加、删除的特殊场景。\n        // 以 「宁波市」为例，删除其节点，增加宁波A和宁波B节点。\n        const { field, label } = node;\n        if (field === 'city' && label === '宁波市') {\n          const preLabel = '宁波A';\n          const nextLabel = '宁波B';\n\n          const parentNode = node.parent;\n          const preUniqueId = generateId(parentNode.id, preLabel);\n          const nextUniqueId = generateId(parentNode.id, nextLabel);\n          const preNode = new Node({\n            ...node,\n            ...node.config,\n            id: preUniqueId,\n            label: preLabel,\n            value: preLabel,\n            query: { ...parentNode.query, [node.key]: preLabel },\n          });\n\n          const nextNode = new Node({\n            ...node,\n            ...node.config,\n            id: nextUniqueId,\n            label: nextLabel,\n            value: nextLabel,\n            query: { ...parentNode.query, [node.key]: nextLabel },\n          });\n\n          return {\n            push: [nextNode],\n            unshift: [preNode],\n            delete: true,\n          };\n        }\n        return null;\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customLayoutHierarchy = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      data: [].concat(_toConsumableArray(res.data), [{\n        province: '浙江省',\n        city: '宁波A',\n        type: '家具',\n        sub_type: '桌子',\n        number: 1001\n      }, {\n        province: '浙江省',\n        city: '宁波A',\n        type: '家具',\n        sub_type: '沙发',\n        number: 1002\n      }, {\n        province: '浙江省',\n        city: '宁波A',\n        type: '办公用品',\n        sub_type: '笔',\n        number: 1003\n      }, {\n        province: '浙江省',\n        city: '宁波A',\n        type: '办公用品',\n        sub_type: '纸张',\n        number: 1004\n      }])\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      layoutHierarchy: function layoutHierarchy(s2, node) {\n        // layoutHierarchy 用于手动控制行列结构的增加、删除的特殊场景。\n        // 以 「宁波市」为例，删除其节点，增加宁波A和宁波B节点。\n        var field = node.field,\n            label = node.label;\n\n        if (field === 'city' && label === '宁波市') {\n          var preLabel = '宁波A';\n          var nextLabel = '宁波B';\n          var parentNode = node.parent;\n          var preUniqueId = (0, _s.generateId)(parentNode.id, preLabel);\n          var nextUniqueId = (0, _s.generateId)(parentNode.id, nextLabel);\n          var preNode = new _s.Node({ ...node,\n            ...node.config,\n            id: preUniqueId,\n            label: preLabel,\n            value: preLabel,\n            query: _defineProperty({ ...parentNode.query\n            }, node.key, preLabel)\n          });\n          var nextNode = new _s.Node({ ...node,\n            ...node.config,\n            id: nextUniqueId,\n            label: nextLabel,\n            value: nextLabel,\n            query: _defineProperty({ ...parentNode.query\n            }, node.key, nextLabel)\n          });\n          return {\n            push: [nextNode],\n            unshift: [preNode],\n            delete: true\n          };\n        }\n\n        return null;\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-icon/demo/custom-data-cell-icon.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-icon/demo/custom-data-cell-icon.tsx","order":2,"filename":"custom-data-cell-icon.tsx","title":{"zh":"自定义单元格图标","en":"Custom data cell icons"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/5a0Ad8vz3/2689a04f-7965-4e30-be6f-9aaefc007482.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      // 自定义icon\n      customSVGIcons: [\n        {\n          name: 'Filter',\n          svg: 'https://gw.alipayobjects.com/zos/antfincdn/gu1Fsz3fw0/filter%26sort_filter.svg',\n        },\n      ],\n      conditions: {\n        icon: [\n          {\n            field: 'number',\n            mapping(fieldValue, data) {\n              return {\n                // icon 用于指定图标条件格式所使用的 icon 类型\n                icon: 'Filter',\n                fill: '#30BF78',\n              };\n            },\n          },\n          {\n            field: 'cost',\n            position: 'left',\n            mapping(fieldValue, data) {\n              return {\n                icon: 'CellDown',\n                fill: '#F4664A',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customDataCellIcon = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      // 自定义icon\n      customSVGIcons: [{\n        name: 'Filter',\n        svg: 'https://gw.alipayobjects.com/zos/antfincdn/gu1Fsz3fw0/filter%26sort_filter.svg'\n      }],\n      conditions: {\n        icon: [{\n          field: 'number',\n          mapping: function mapping(fieldValue, data) {\n            return {\n              // icon 用于指定图标条件格式所使用的 icon 类型\n              icon: 'Filter',\n              fill: '#30BF78'\n            };\n          }\n        }, {\n          field: 'cost',\n          position: 'left',\n          mapping: function mapping(fieldValue, data) {\n            return {\n              icon: 'CellDown',\n              fill: '#F4664A'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-icon/demo/custom-header-action-icon.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-icon/demo/custom-header-action-icon.tsx","order":1,"filename":"custom-header-action-icon.tsx","title":{"zh":"自定义行列头操作图标","en":"Custom header action icons"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/pBAAuAlwEB/custom.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst CornerTooltip = <div>CornerTooltip</div>;\n\nconst RowTooltip = <div>RowTooltip</div>;\n\nconst ColTooltip = <div>ColTooltip</div>;\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n      customSVGIcons: [\n        {\n          name: 'Filter',\n          svg: 'https://gw.alipayobjects.com/zos/antfincdn/gu1Fsz3fw0/filter%26sort_filter.svg',\n        },\n      ],\n      showDefaultHeaderActionIcon: false,\n      headerActionIcons: [\n        {\n          iconNames: ['SortDown'],\n          belongsCell: 'colCell',\n          displayCondition: (meta) => meta.level > 0,\n          action: (props) => {\n            const { meta, event } = props;\n            console.log(meta);\n            meta.spreadsheet.handleGroupSort(event, meta);\n          },\n        },\n        {\n          iconNames: ['Filter'],\n          belongsCell: 'colCell',\n          displayCondition: (meta) => meta.id === 'root[&]家具',\n          action: (props) => {\n            const { meta, event } = props;\n            meta.spreadsheet.tooltip.show({\n              position: { x: event.clientX, y: event.clientY },\n              content: ColTooltip,\n            });\n          },\n        },\n        {\n          iconNames: ['SortUp'],\n          belongsCell: 'cornerCell',\n          action: (props) => {\n            const { meta, event } = props;\n            meta.spreadsheet.tooltip.show({\n              position: { x: event.clientX, y: event.clientY },\n              content: CornerTooltip,\n            });\n          },\n        },\n        {\n          iconNames: ['DrillDownIcon'],\n          belongsCell: 'rowCell',\n          action: (props) => {\n            const { meta, event } = props;\n            meta.spreadsheet.tooltip.show({\n              position: { x: event.clientX, y: event.clientY },\n              content: RowTooltip,\n            });\n          },\n        },\n      ],\n      style: {\n        colCfg: {\n          hideMeasureColumn: true,\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent dataCfg={dataCfg} options={s2Options} />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.customHeaderActionIcon = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var CornerTooltip = /*#__PURE__*/_react.default.createElement(\"div\", null, \"CornerTooltip\");\n\n  var RowTooltip = /*#__PURE__*/_react.default.createElement(\"div\", null, \"RowTooltip\");\n\n  var ColTooltip = /*#__PURE__*/_react.default.createElement(\"div\", null, \"ColTooltip\");\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 600,\n      height: 480,\n      customSVGIcons: [{\n        name: 'Filter',\n        svg: 'https://gw.alipayobjects.com/zos/antfincdn/gu1Fsz3fw0/filter%26sort_filter.svg'\n      }],\n      showDefaultHeaderActionIcon: false,\n      headerActionIcons: [{\n        iconNames: ['SortDown'],\n        belongsCell: 'colCell',\n        displayCondition: function displayCondition(meta) {\n          return meta.level > 0;\n        },\n        action: function action(props) {\n          var meta = props.meta,\n              event = props.event;\n          console.log(meta);\n          meta.spreadsheet.handleGroupSort(event, meta);\n        }\n      }, {\n        iconNames: ['Filter'],\n        belongsCell: 'colCell',\n        displayCondition: function displayCondition(meta) {\n          return meta.id === 'root[&]家具';\n        },\n        action: function action(props) {\n          var meta = props.meta,\n              event = props.event;\n          meta.spreadsheet.tooltip.show({\n            position: {\n              x: event.clientX,\n              y: event.clientY\n            },\n            content: ColTooltip\n          });\n        }\n      }, {\n        iconNames: ['SortUp'],\n        belongsCell: 'cornerCell',\n        action: function action(props) {\n          var meta = props.meta,\n              event = props.event;\n          meta.spreadsheet.tooltip.show({\n            position: {\n              x: event.clientX,\n              y: event.clientY\n            },\n            content: CornerTooltip\n          });\n        }\n      }, {\n        iconNames: ['DrillDownIcon'],\n        belongsCell: 'rowCell',\n        action: function action(props) {\n          var meta = props.meta,\n              event = props.event;\n          meta.spreadsheet.tooltip.show({\n            position: {\n              x: event.clientX,\n              y: event.clientY\n            },\n            content: RowTooltip\n          });\n        }\n      }],\n      style: {\n        colCfg: {\n          hideMeasureColumn: true\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"custom/custom-icon/demo/custom-svg-icon.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-icon/demo/custom-svg-icon.ts","order":0,"filename":"custom-svg-icon.ts","title":{"zh":"自定义SVG图标","en":"custom svg icon"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/%24KQ3JqKkrA/67f074b6-739b-4a61-a5c5-b18488a65797.png","source":"import { PivotSheet, Node } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      customSVGIcons: [\n        {\n          name: 'customKingIcon',\n          // svg 为 url 地址或字符串\n          // svg: `<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg t=\"1634603945212\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"558\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M605.61 884.79h-24.26c-21.34 0-38.66 17.32-38.66 38.66 0 21.34 17.32 38.66 38.66 38.66h24.26c21.34 0 38.66-17.32 38.66-38.66 0-21.35-17.32-38.66-38.66-38.66z\" fill=\"#040000\" p-id=\"559\"></path><path d=\"M950.47 419.76c-22.17-15.48-51.17-16.01-73.92-1.33L715.7 522.53 573.09 223.42c-10.95-22.98-33.55-37.43-58.97-37.75h-0.85c-25.09 0-47.67 13.84-59.05 36.29L302.25 521.82 154.9 419.61c-22-15.18-50.71-15.73-73.27-1.46-22.53 14.32-34.23 40.57-29.8 66.9l70.9 421.76c5.33 32.04 32.82 55.3 65.31 55.3h272.43c21.34 0 38.66-17.32 38.66-38.66 0-21.34-17.32-38.66-38.66-38.66H197.44l-64.99-386.62 136.17 94.46a66.14 66.14 0 0 0 54.01 9.79 66.097 66.097 0 0 0 42.81-34.28l147.54-291.11 138.35 290.2c8.21 17.19 23.41 30.03 41.76 35.19 18.37 5.24 38 2.21 53.99-8.1l148.62-96.17-87.74 386.65h-60.1c-21.34 0-38.66 17.32-38.66 38.66 0 21.34 17.32 38.66 38.66 38.66h68.96c31.16 0 57.71-21.22 64.58-51.57l95.72-421.86c5.97-26.39-4.47-53.42-26.65-68.93zM514.74 151.68c28.08 0 50.85-22.76 50.85-50.85s-22.77-50.85-50.85-50.85c-28.09 0-50.85 22.76-50.85 50.85s22.77 50.85 50.85 50.85zM973.15 277.37c-28.08 0-50.85 22.77-50.85 50.85 0 28.09 22.76 50.85 50.85 50.85 28.08 0 50.85-22.76 50.85-50.85 0-28.08-22.77-50.85-50.85-50.85zM101.69 328.22c0-28.08-22.76-50.85-50.85-50.85S0 300.14 0 328.22c0 28.09 22.76 50.85 50.85 50.85s50.84-22.77 50.84-50.85z\" fill=\"#040000\" p-id=\"560\"></path></svg>`,\n          svg: 'https://gw.alipayobjects.com/zos/bmw-prod/f44eb1f5-7cea-45df-875e-76e825a6e0ab.svg',\n        },\n      ],\n      // 使用刚定义的 icon\n      headerActionIcons: [\n        {\n          iconNames: ['customKingIcon'],\n          belongsCell: 'rowCell',\n        },\n      ],\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customSvgIcon = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      customSVGIcons: [{\n        name: 'customKingIcon',\n        // svg 为 url 地址或字符串\n        // svg: `<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg t=\"1634603945212\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"558\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M605.61 884.79h-24.26c-21.34 0-38.66 17.32-38.66 38.66 0 21.34 17.32 38.66 38.66 38.66h24.26c21.34 0 38.66-17.32 38.66-38.66 0-21.35-17.32-38.66-38.66-38.66z\" fill=\"#040000\" p-id=\"559\"></path><path d=\"M950.47 419.76c-22.17-15.48-51.17-16.01-73.92-1.33L715.7 522.53 573.09 223.42c-10.95-22.98-33.55-37.43-58.97-37.75h-0.85c-25.09 0-47.67 13.84-59.05 36.29L302.25 521.82 154.9 419.61c-22-15.18-50.71-15.73-73.27-1.46-22.53 14.32-34.23 40.57-29.8 66.9l70.9 421.76c5.33 32.04 32.82 55.3 65.31 55.3h272.43c21.34 0 38.66-17.32 38.66-38.66 0-21.34-17.32-38.66-38.66-38.66H197.44l-64.99-386.62 136.17 94.46a66.14 66.14 0 0 0 54.01 9.79 66.097 66.097 0 0 0 42.81-34.28l147.54-291.11 138.35 290.2c8.21 17.19 23.41 30.03 41.76 35.19 18.37 5.24 38 2.21 53.99-8.1l148.62-96.17-87.74 386.65h-60.1c-21.34 0-38.66 17.32-38.66 38.66 0 21.34 17.32 38.66 38.66 38.66h68.96c31.16 0 57.71-21.22 64.58-51.57l95.72-421.86c5.97-26.39-4.47-53.42-26.65-68.93zM514.74 151.68c28.08 0 50.85-22.76 50.85-50.85s-22.77-50.85-50.85-50.85c-28.09 0-50.85 22.76-50.85 50.85s22.77 50.85 50.85 50.85zM973.15 277.37c-28.08 0-50.85 22.77-50.85 50.85 0 28.09 22.76 50.85 50.85 50.85 28.08 0 50.85-22.76 50.85-50.85 0-28.08-22.77-50.85-50.85-50.85zM101.69 328.22c0-28.08-22.76-50.85-50.85-50.85S0 300.14 0 328.22c0 28.09 22.76 50.85 50.85 50.85s50.84-22.77 50.84-50.85z\" fill=\"#040000\" p-id=\"560\"></path></svg>`,\n        svg: 'https://gw.alipayobjects.com/zos/bmw-prod/f44eb1f5-7cea-45df-875e-76e825a6e0ab.svg'\n      }],\n      // 使用刚定义的 icon\n      headerActionIcons: [{\n        iconNames: ['customKingIcon'],\n        belongsCell: 'rowCell'\n      }]\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/col-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/col-cell.ts","order":2,"filename":"col-cell.ts","title":{"zh":"自定义列头单元格","en":"custom col cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/8gdiktjp8c/3e2453cb-f218-4435-9a24-2f0758bdad62.png","source":"import { PivotSheet, ColCell } from '@antv/s2';\n\n/**\n * 自定义 ColCell，给列头添加背景图\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/col-cell.ts\n */\nclass CustomColCell extends ColCell {\n  // 覆盖背景绘制，可覆盖或者增加绘制方法\n  drawBackgroundShape() {\n    this.backgroundShape = this.addShape('image', {\n      attrs: {\n        ...this.getCellArea(),\n        img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png',\n      },\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      colCell: (node, s2, headConfig) => {\n        return new CustomColCell(node, s2, headConfig);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.colCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  /**\n   * 自定义 ColCell，给列头添加背景图\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/col-cell.ts\n   */\n  var CustomColCell = /*#__PURE__*/function (_ColCell) {\n    _inherits(CustomColCell, _ColCell);\n\n    var _super = _createSuper(CustomColCell);\n\n    function CustomColCell() {\n      _classCallCheck(this, CustomColCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomColCell, [{\n      key: \"drawBackgroundShape\",\n      value: // 覆盖背景绘制，可覆盖或者增加绘制方法\n      function drawBackgroundShape() {\n        this.backgroundShape = this.addShape('image', {\n          attrs: { ...this.getCellArea(),\n            img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png'\n          }\n        });\n      }\n    }]);\n\n    return CustomColCell;\n  }(_s.ColCell);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      colCell: function colCell(node, s2, headConfig) {\n        return new CustomColCell(node, s2, headConfig);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/corner-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/corner-cell.ts","order":3,"filename":"corner-cell.ts","title":{"zh":"自定义角头单元格","en":"custom corner cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/0FL74ArooA/df0a2454-476c-4999-885f-e2a49c740334.png","source":"import { PivotSheet, CornerCell } from '@antv/s2';\n\n/**\n * 自定义 CornerCell，给角头添加背景图\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/corner-cell.ts\n */\nclass CustomCornerCell extends CornerCell {\n  drawBackgroundShape() {\n    this.addShape('image', {\n      attrs: {\n        ...this.getCellArea(),\n        img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png',\n      },\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      cornerCell: (node, s2, headConfig) => {\n        return new CustomCornerCell(node, s2, headConfig);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.cornerCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  /**\n   * 自定义 CornerCell，给角头添加背景图\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/corner-cell.ts\n   */\n  var CustomCornerCell = /*#__PURE__*/function (_CornerCell) {\n    _inherits(CustomCornerCell, _CornerCell);\n\n    var _super = _createSuper(CustomCornerCell);\n\n    function CustomCornerCell() {\n      _classCallCheck(this, CustomCornerCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomCornerCell, [{\n      key: \"drawBackgroundShape\",\n      value: function drawBackgroundShape() {\n        this.addShape('image', {\n          attrs: { ...this.getCellArea(),\n            img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png'\n          }\n        });\n      }\n    }]);\n\n    return CustomCornerCell;\n  }(_s.CornerCell);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      cornerCell: function cornerCell(node, s2, headConfig) {\n        return new CustomCornerCell(node, s2, headConfig);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/corner-header.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/corner-header.ts","order":4,"filename":"corner-header.ts","title":{"zh":"自定义角头","en":"custom corner header"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/KH6us7hvnV/a0860c18-3d00-48f9-8483-1b29de6cb149.png","source":"import { PivotSheet } from '@antv/s2';\nimport { Group } from '@antv/g-canvas';\nimport { get } from 'lodash';\n\n/**\n * 自定义整个角头, 添加文字和背景色\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/facet/header/corner.ts\n */\nclass CustomCornerHeader extends Group {\n  node;\n  backgroundShape;\n  textShape;\n  constructor(node) {\n    super({});\n    this.node = node;\n    this.initCornerHeader();\n  }\n  initCornerHeader() {\n    this.initBg();\n    this.initText();\n  }\n\n  initBg() {\n    this.backgroundShape = this.addShape('image', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: get(this.node, 'headerConfig.width'),\n        height: get(this.node, 'headerConfig.height'),\n        img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png',\n      },\n    });\n    this.node.add(this.backgroundShape);\n  }\n\n  initText() {\n    this.textShape = this.addShape('text', {\n      zIndex: 100,\n      attrs: {\n        x: 50,\n        y: 70,\n        text: 'corner in S2',\n        fontFamily: 'PingFang SC',\n        fontSize: 20,\n        fill: 'black',\n        stroke: 'black',\n      },\n    });\n    this.node.add(this.textShape);\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      cornerHeader: (node, s2, headConfig) => {\n        return new CustomCornerHeader(node);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\", \"@antv/g-canvas\", \"lodash\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"), require(\"@antv/g-canvas\"), require(\"lodash\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2, global.gCanvas, global.lodash);\n    global.cornerHeader = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s, _gCanvas, _lodash) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  /**\n   * 自定义整个角头, 添加文字和背景色\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/facet/header/corner.ts\n   */\n  var CustomCornerHeader = /*#__PURE__*/function (_Group) {\n    _inherits(CustomCornerHeader, _Group);\n\n    var _super = _createSuper(CustomCornerHeader);\n\n    function CustomCornerHeader(node) {\n      var _this;\n\n      _classCallCheck(this, CustomCornerHeader);\n\n      _this = _super.call(this, {});\n\n      _defineProperty(_assertThisInitialized(_this), \"node\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"backgroundShape\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"textShape\", void 0);\n\n      _this.node = node;\n\n      _this.initCornerHeader();\n\n      return _this;\n    }\n\n    _createClass(CustomCornerHeader, [{\n      key: \"initCornerHeader\",\n      value: function initCornerHeader() {\n        this.initBg();\n        this.initText();\n      }\n    }, {\n      key: \"initBg\",\n      value: function initBg() {\n        this.backgroundShape = this.addShape('image', {\n          attrs: {\n            x: 0,\n            y: 0,\n            width: (0, _lodash.get)(this.node, 'headerConfig.width'),\n            height: (0, _lodash.get)(this.node, 'headerConfig.height'),\n            img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png'\n          }\n        });\n        this.node.add(this.backgroundShape);\n      }\n    }, {\n      key: \"initText\",\n      value: function initText() {\n        this.textShape = this.addShape('text', {\n          zIndex: 100,\n          attrs: {\n            x: 50,\n            y: 70,\n            text: 'corner in S2',\n            fontFamily: 'PingFang SC',\n            fontSize: 20,\n            fill: 'black',\n            stroke: 'black'\n          }\n        });\n        this.node.add(this.textShape);\n      }\n    }]);\n\n    return CustomCornerHeader;\n  }(_gCanvas.Group);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      cornerHeader: function cornerHeader(node, s2, headConfig) {\n        return new CustomCornerHeader(node);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/row-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/row-cell.ts","order":1,"filename":"row-cell.ts","title":{"zh":"自定义行头单元格","en":"custom row cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/OIp1I47w2P/c7f38d27-4025-4f05-abed-1d5b47b98145.png","source":"import { PivotSheet, RowCell } from '@antv/s2';\n\n/**\n * 自定义 RowCell，给行头添加背景图\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/row-cell.ts\n */\nclass CustomRowCell extends RowCell {\n  // 覆盖背景绘制，可覆盖或者增加绘制方法\n  drawBackgroundShape() {\n    this.backgroundShape = this.addShape('image', {\n      attrs: {\n        ...this.getCellArea(),\n        img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png',\n      },\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      rowCell: (node, s2, headConfig) => {\n        return new CustomRowCell(node, s2, headConfig);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.rowCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  /**\n   * 自定义 RowCell，给行头添加背景图\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/row-cell.ts\n   */\n  var CustomRowCell = /*#__PURE__*/function (_RowCell) {\n    _inherits(CustomRowCell, _RowCell);\n\n    var _super = _createSuper(CustomRowCell);\n\n    function CustomRowCell() {\n      _classCallCheck(this, CustomRowCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomRowCell, [{\n      key: \"drawBackgroundShape\",\n      value: // 覆盖背景绘制，可覆盖或者增加绘制方法\n      function drawBackgroundShape() {\n        this.backgroundShape = this.addShape('image', {\n          attrs: { ...this.getCellArea(),\n            img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png'\n          }\n        });\n      }\n    }]);\n\n    return CustomRowCell;\n  }(_s.RowCell);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      rowCell: function rowCell(node, s2, headConfig) {\n        return new CustomRowCell(node, s2, headConfig);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/data-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/data-cell.ts","order":0,"filename":"data-cell.ts","title":{"zh":"自定义数据单元格","en":"custom data cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/v3rnigo9e%24/6862c027-eb75-49e4-88e4-40b9855202a1.png","source":"import { PivotSheet, DataCell } from '@antv/s2';\n\n/**\n * 自定义 DataCell，给数值单元格添加背景图\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/corner-cell.ts\n */\nclass CustomDataCell extends DataCell {\n  // 重写绘制背景方法, 添加一个背景图片\n  drawBackgroundShape() {\n    this.backgroundShape = this.addShape('image', {\n      attrs: {\n        ...this.getCellArea(),\n        img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png',\n      },\n    });\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false, // 关闭 hover 十字高亮, 为了视觉效果，可不设置\n      },\n      dataCell: (viewMeta) => {\n        return new CustomDataCell(viewMeta, viewMeta?.spreadsheet);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    // 使用\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.dataCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  /**\n   * 自定义 DataCell，给数值单元格添加背景图\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/corner-cell.ts\n   */\n  var CustomDataCell = /*#__PURE__*/function (_DataCell) {\n    _inherits(CustomDataCell, _DataCell);\n\n    var _super = _createSuper(CustomDataCell);\n\n    function CustomDataCell() {\n      _classCallCheck(this, CustomDataCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomDataCell, [{\n      key: \"drawBackgroundShape\",\n      value: // 重写绘制背景方法, 添加一个背景图片\n      function drawBackgroundShape() {\n        this.backgroundShape = this.addShape('image', {\n          attrs: { ...this.getCellArea(),\n            img: 'https://gw.alipayobjects.com/zos/antfincdn/og1XQOMyyj/1e3a8de1-3b42-405d-9f82-f92cb1c10413.png'\n          }\n        });\n      }\n    }]);\n\n    return CustomDataCell;\n  }(_s.DataCell);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false // 关闭 hover 十字高亮, 为了视觉效果，可不设置\n\n      },\n      dataCell: function dataCell(viewMeta) {\n        return new CustomDataCell(viewMeta, viewMeta === null || viewMeta === void 0 ? void 0 : viewMeta.spreadsheet);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options); // 使用\n\n    s2.render();\n  });\n});"},{"relativePath":"custom/custom-cell/demo/totals-cell.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/custom/custom-cell/demo/totals-cell.ts","order":5,"filename":"totals-cell.ts","title":{"zh":"自定义小计/总计单元格","en":"custom totals cell"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/W22O8FkKz/8ab7d837-4d91-49c1-81a5-66d6de619206.png","source":"import { PivotSheet, RowCell, renderRect } from '@antv/s2';\n\n/**\n * 继承 RowCell, 单独修改小计/总计的背景色和文字颜色\n * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/row-cell.ts\n */\nclass CustomTotalsRowCell extends RowCell {\n  // 背景色\n  drawBackgroundShape() {\n    // 总计\n    if (this.meta.isGrandTotals) {\n      this.backgroundShape = renderRect(this, {\n        ...this.getCellArea(),\n        fill: '#f63',\n        fillOpacity: 0.9,\n      });\n      return;\n    }\n\n    // 小计\n    if (this.meta.isSubTotals) {\n      this.backgroundShape = renderRect(this, {\n        ...this.getCellArea(),\n        fill: '#06a',\n        fillOpacity: 0.9,\n      });\n      return;\n    }\n\n    return super.drawBackgroundShape();\n  }\n\n  // 文字\n  getTextStyle() {\n    const originTextStyle = super.getTextStyle();\n\n    // 总计\n    if (this.meta.isGrandTotals) {\n      return {\n        ...originTextStyle,\n        fill: '#fff',\n        fontWeight: 800,\n        fontSize: 16,\n      };\n    }\n\n    // 小计\n    if (this.meta.isSubTotals) {\n      return {\n        ...originTextStyle,\n        fill: '#fff',\n        fontWeight: 800,\n        fontSize: 12,\n      };\n    }\n\n    return super.getTextStyle();\n  }\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json',\n)\n  .then((res) => res.json())\n  .then((res) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number'],\n      },\n      meta: res.meta,\n      data: res.data,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          subTotalsDimensions: ['province'],\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          subTotalsDimensions: ['type'],\n        },\n      },\n      rowCell: (node, s2, headConfig) => {\n        return new CustomTotalsRowCell(node, s2, headConfig);\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.totalsCell = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  /**\n   * 继承 RowCell, 单独修改小计/总计的背景色和文字颜色\n   * 查看更多方法 https://github.com/antvis/S2/blob/master/packages/s2-core/src/cell/row-cell.ts\n   */\n  var CustomTotalsRowCell = /*#__PURE__*/function (_RowCell) {\n    _inherits(CustomTotalsRowCell, _RowCell);\n\n    var _super = _createSuper(CustomTotalsRowCell);\n\n    function CustomTotalsRowCell() {\n      _classCallCheck(this, CustomTotalsRowCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomTotalsRowCell, [{\n      key: \"drawBackgroundShape\",\n      value: // 背景色\n      function drawBackgroundShape() {\n        // 总计\n        if (this.meta.isGrandTotals) {\n          this.backgroundShape = (0, _s.renderRect)(this, { ...this.getCellArea(),\n            fill: '#f63',\n            fillOpacity: 0.9\n          });\n          return;\n        } // 小计\n\n\n        if (this.meta.isSubTotals) {\n          this.backgroundShape = (0, _s.renderRect)(this, { ...this.getCellArea(),\n            fill: '#06a',\n            fillOpacity: 0.9\n          });\n          return;\n        }\n\n        return _get(_getPrototypeOf(CustomTotalsRowCell.prototype), \"drawBackgroundShape\", this).call(this);\n      } // 文字\n\n    }, {\n      key: \"getTextStyle\",\n      value: function getTextStyle() {\n        var originTextStyle = _get(_getPrototypeOf(CustomTotalsRowCell.prototype), \"getTextStyle\", this).call(this); // 总计\n\n\n        if (this.meta.isGrandTotals) {\n          return { ...originTextStyle,\n            fill: '#fff',\n            fontWeight: 800,\n            fontSize: 16\n          };\n        } // 小计\n\n\n        if (this.meta.isSubTotals) {\n          return { ...originTextStyle,\n            fill: '#fff',\n            fontWeight: 800,\n            fontSize: 12\n          };\n        }\n\n        return _get(_getPrototypeOf(CustomTotalsRowCell.prototype), \"getTextStyle\", this).call(this);\n      }\n    }]);\n\n    return CustomTotalsRowCell;\n  }(_s.RowCell);\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/cd9814d0-6dfa-42a6-8455-5a6bd0ff93ca.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type', 'sub_type'],\n        values: ['number']\n      },\n      meta: res.meta,\n      data: res.data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          subTotalsDimensions: ['province']\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          subTotalsDimensions: ['type']\n        }\n      },\n      rowCell: function rowCell(node, s2, headConfig) {\n        return new CustomTotalsRowCell(node, s2, headConfig);\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"case/proportion/demo/group-drill-down.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/proportion/demo/group-drill-down.tsx","order":0,"filename":"group-drill-down.tsx","title":{"zh":"分群下钻表","en":"Group drill down sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/RYy4GI8Y8d/demo.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport { isUpDataValue } from '@antv/s2';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/ff31b171-17a7-4d29-b20a-0b90a810d2de.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const GridSheet = () => {\n      const [s2DataConfig, setS2DataConfig] = useState(data.dataCfg);\n      const [drillDownField, setDrillDownField] = useState('');\n      const s2Options = {\n        width: 800,\n        height: 600,\n        tooltip: {\n          showTooltip: false,\n        },\n        style: {\n          layoutWidthType: 'colAdaptive',\n          cellCfg: {\n            width: 400,\n            height: 100,\n            valuesCfg: {\n              widthPercent: [40, 20, 20, 20],\n            },\n          },\n        },\n        conditions: {\n          text: [\n            {\n              mapping: (value, cellInfo) => {\n                // 添加文本颜色映射逻辑\n                const { colIndex } = cellInfo;\n                if (colIndex <= 1) {\n                  // 主指标为黑色\n                  return {\n                    fill: '#000',\n                  };\n                }\n                return {\n                  fill: isUpDataValue(value) ? '#FF4D4F' : '#29A294', // 同环比红张绿跌\n                };\n              },\n            },\n          ],\n        },\n      };\n\n      const Breadcrumb = () => {\n        if (!drillDownField) {\n          return null;\n        }\n        return (\n          <div className=\"antv-s2-breadcrumb\">\n            <span\n              className=\"antv-s2-breadcrumb-all\"\n              onClick={() => {\n                setS2DataConfig(data.dataCfg);\n                setDrillDownField('');\n              }}\n            >\n              全部\n            </span>\n            <span> / {drillDownField}</span>\n          </div>\n        );\n      };\n\n      const dataCellTooltip = (viewMeta) => {\n        const { spreadsheet, fieldValue } = viewMeta;\n        return (\n          <div>\n            <div className=\"antv-s2-tooltip-operator\">\n              <div\n                className=\"antv-s2-tooltip-action\"\n                onClick={() => {\n                  setS2DataConfig(data.drillDownDataCfg);\n                  setDrillDownField(fieldValue.label);\n                }}\n              >\n                下钻\n              </div>\n              <div\n                className=\"antv-s2-tooltip-action\"\n                onClick={() => {\n                  spreadsheet.interaction.mergeCells();\n                }}\n              >\n                合并\n              </div>\n            </div>\n            <div className=\"antv-s2-tooltip-divider\"></div>\n            <div className=\"antv-s2-tooltip-head-info-list\">\n              {fieldValue.label}\n            </div>\n            <div className=\"antv-s2-tooltip-detail-list\">\n              {fieldValue.values.map((item, key) => (\n                <div key={key} className=\"antv-s2-tooltip-detail-item\">\n                  <span className=\"antv-s2-tooltip-detail-item-key\">\n                    {item[0]}\n                  </span>\n                  <span className=\"antv-s2-tooltip-detail-item-val antv-s2-tooltip-highlight\">\n                    {`${item[1]} | 环比率：${item[2]} | 环比差值：${item[3]}`}\n                  </span>\n                </div>\n              ))}\n            </div>\n            <div className=\"antv-s2-tooltip-infos\">\n              按住 Shift 多选单元格进行人群合并\n            </div>\n          </div>\n        );\n      };\n\n      const onDataCellMouseUp = (value) => {\n        const viewMeta = value?.viewMeta;\n        if (!viewMeta) {\n          return;\n        }\n\n        const position = {\n          x: value.event.clientX,\n          y: value.event.clientY,\n        };\n        viewMeta.spreadsheet.tooltip.show({\n          position,\n          content: dataCellTooltip(viewMeta),\n        });\n      };\n      return (\n        <SheetComponent\n          dataCfg={s2DataConfig}\n          options={s2Options}\n          sheetType=\"gridAnalysis\"\n          header={{\n            title: '人群网络分析',\n            advancedSortCfg: { open: true },\n            extra: [<Breadcrumb />],\n          }}\n          onDataCellMouseUp={onDataCellMouseUp}\n        />\n      );\n    };\n\n    ReactDOM.render(<GridSheet />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-tooltip-operator {\n    display: flex\n  }\n  .antv-s2-tooltip-action {\n    width: 50%;\n    text-align: center;\n  }\n  .antv-s2-breadcrumb {\n  position: absolute;\n    left: 130px;\n    top: 11px;\n  }\n  .antv-s2-breadcrumb-all {\n     color: #706f6f;\n  }\n  .antv-s2-breadcrumb-all:hover {\n    color: #873bf4;\n    cursor: pointer;\n  }\n  .antv-s2-advanced-sort {\n    display: none;\n  }\n  .s2-header {\n    margin:0px !important;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.s2, global.styleMin);\n    global.groupDrillDown = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _s2, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/ff31b171-17a7-4d29-b20a-0b90a810d2de.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var GridSheet = function GridSheet() {\n      var _useState = (0, _react.useState)(data.dataCfg),\n          _useState2 = _slicedToArray(_useState, 2),\n          s2DataConfig = _useState2[0],\n          setS2DataConfig = _useState2[1];\n\n      var _useState3 = (0, _react.useState)(''),\n          _useState4 = _slicedToArray(_useState3, 2),\n          drillDownField = _useState4[0],\n          setDrillDownField = _useState4[1];\n\n      var s2Options = {\n        width: 800,\n        height: 600,\n        tooltip: {\n          showTooltip: false\n        },\n        style: {\n          layoutWidthType: 'colAdaptive',\n          cellCfg: {\n            width: 400,\n            height: 100,\n            valuesCfg: {\n              widthPercent: [40, 20, 20, 20]\n            }\n          }\n        },\n        conditions: {\n          text: [{\n            mapping: function mapping(value, cellInfo) {\n              // 添加文本颜色映射逻辑\n              var colIndex = cellInfo.colIndex;\n\n              if (colIndex <= 1) {\n                // 主指标为黑色\n                return {\n                  fill: '#000'\n                };\n              }\n\n              return {\n                fill: (0, _s2.isUpDataValue)(value) ? '#FF4D4F' : '#29A294' // 同环比红张绿跌\n\n              };\n            }\n          }]\n        }\n      };\n\n      var Breadcrumb = function Breadcrumb() {\n        if (!drillDownField) {\n          return null;\n        }\n\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-breadcrumb\"\n        }, /*#__PURE__*/_react.default.createElement(\"span\", {\n          className: \"antv-s2-breadcrumb-all\",\n          onClick: function onClick() {\n            setS2DataConfig(data.dataCfg);\n            setDrillDownField('');\n          }\n        }, \"\\u5168\\u90E8\"), /*#__PURE__*/_react.default.createElement(\"span\", null, \" / \", drillDownField));\n      };\n\n      var dataCellTooltip = function dataCellTooltip(viewMeta) {\n        var spreadsheet = viewMeta.spreadsheet,\n            fieldValue = viewMeta.fieldValue;\n        return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-operator\"\n        }, /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-action\",\n          onClick: function onClick() {\n            setS2DataConfig(data.drillDownDataCfg);\n            setDrillDownField(fieldValue.label);\n          }\n        }, \"\\u4E0B\\u94BB\"), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-action\",\n          onClick: function onClick() {\n            spreadsheet.interaction.mergeCells();\n          }\n        }, \"\\u5408\\u5E76\")), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-divider\"\n        }), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-head-info-list\"\n        }, fieldValue.label), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-detail-list\"\n        }, fieldValue.values.map(function (item, key) {\n          return /*#__PURE__*/_react.default.createElement(\"div\", {\n            key: key,\n            className: \"antv-s2-tooltip-detail-item\"\n          }, /*#__PURE__*/_react.default.createElement(\"span\", {\n            className: \"antv-s2-tooltip-detail-item-key\"\n          }, item[0]), /*#__PURE__*/_react.default.createElement(\"span\", {\n            className: \"antv-s2-tooltip-detail-item-val antv-s2-tooltip-highlight\"\n          }, \"\".concat(item[1], \" | \\u73AF\\u6BD4\\u7387\\uFF1A\").concat(item[2], \" | \\u73AF\\u6BD4\\u5DEE\\u503C\\uFF1A\").concat(item[3])));\n        })), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"antv-s2-tooltip-infos\"\n        }, \"\\u6309\\u4F4F Shift \\u591A\\u9009\\u5355\\u5143\\u683C\\u8FDB\\u884C\\u4EBA\\u7FA4\\u5408\\u5E76\"));\n      };\n\n      var onDataCellMouseUp = function onDataCellMouseUp(value) {\n        var viewMeta = value === null || value === void 0 ? void 0 : value.viewMeta;\n\n        if (!viewMeta) {\n          return;\n        }\n\n        var position = {\n          x: value.event.clientX,\n          y: value.event.clientY\n        };\n        viewMeta.spreadsheet.tooltip.show({\n          position: position,\n          content: dataCellTooltip(viewMeta)\n        });\n      };\n\n      return /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        dataCfg: s2DataConfig,\n        options: s2Options,\n        sheetType: \"gridAnalysis\",\n        header: {\n          title: '人群网络分析',\n          advancedSortCfg: {\n            open: true\n          },\n          extra: [/*#__PURE__*/_react.default.createElement(Breadcrumb, null)]\n        },\n        onDataCellMouseUp: onDataCellMouseUp\n      });\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(GridSheet, null), document.getElementById('container'));\n  });\n  insertCss(\"\\n  .antv-s2-tooltip-operator {\\n    display: flex\\n  }\\n  .antv-s2-tooltip-action {\\n    width: 50%;\\n    text-align: center;\\n  }\\n  .antv-s2-breadcrumb {\\n  position: absolute;\\n    left: 130px;\\n    top: 11px;\\n  }\\n  .antv-s2-breadcrumb-all {\\n     color: #706f6f;\\n  }\\n  .antv-s2-breadcrumb-all:hover {\\n    color: #873bf4;\\n    cursor: pointer;\\n  }\\n  .antv-s2-advanced-sort {\\n    display: none;\\n  }\\n  .s2-header {\\n    margin:0px !important;\\n  }\\n\");\n});"},{"relativePath":"case/proportion/demo/single-population-proportion.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/proportion/demo/single-population-proportion.tsx","order":1,"filename":"single-population-proportion.tsx","title":{"zh":"单人群占比表","en":"Single population proportion Sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/clsZ0BSxpR/c315b0f0-03df-46e6-b470-7894c7fa5b17.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\nimport { S2Options } from '@antv/s2';\n\nconst PALETTE_COLORS = [\n  {\n    limit: 10,\n    background: '#b8e1ff',\n  },\n  {\n    limit: 20,\n    background: '#b4d3fb',\n  },\n  {\n    limit: 30,\n    background: '#7daaff',\n  },\n  {\n    limit: 40,\n    background: '#5b8ff9',\n  },\n  {\n    limit: 50,\n    background: '#3d76dd',\n  },\n  {\n    limit: 60,\n    background: '#085ec0',\n  },\n  {\n    limit: 70,\n    background: '#085ec0cc',\n  },\n  {\n    limit: 80,\n    background: '#0047a5',\n  },\n  {\n    limit: 90,\n    background: '#00318a',\n  },\n  {\n    limit: 100,\n    background: '#001d70',\n  },\n];\n\nconst getTargetColor = (value) => {\n  if (isNaN(Number(value))) {\n    return PALETTE_COLORS[0].background;\n  }\n  return PALETTE_COLORS[Math.floor(Number(value) / 10)].background;\n};\n\nconst PaletteLegend = () => {\n  return (\n    <div className=\"palette-legend\">\n      <div className=\"palette-limit\">0%</div>\n      {PALETTE_COLORS.map((color) => (\n        <span\n          key={color.background}\n          className=\"palette-color\"\n          style={{ background: color.background }}\n        />\n      ))}\n      <div className=\"palette-limit\">100%</div>\n    </div>\n  );\n};\n\nfetch('../data/single-population-proportion.json')\n  .then((res) => res.json())\n  .then(({ data }) => {\n    const s2DataConfig = {\n      fields: {\n        rows: ['type', 'job'],\n        columns: ['age', 'city'],\n        values: ['count'],\n        valueInCols: true,\n      },\n      meta: [\n        {\n          field: 'type',\n          name: '类别',\n        },\n        {\n          field: 'job',\n          name: '职业',\n        },\n        {\n          field: 'age',\n          name: '年龄分布',\n        },\n        {\n          field: 'city',\n          name: '所在城市',\n        },\n        {\n          field: 'count',\n          name: '数值',\n        },\n      ],\n      data,\n    };\n    const s2Options = {\n      width: 800,\n      height: 600,\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          hiddenColumns: true,\n        },\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: false,\n      },\n      style: {\n        layoutWidthType: 'colAdaptive',\n        colCfg: {\n          hideMeasureColumn: true,\n        },\n        cellCfg: {\n          width: 100,\n        },\n      },\n      conditions: {\n        text: [\n          {\n            field: 'count',\n            mapping(value) {\n              return {\n                fill: value >= 50 ? '#fff' : '#282b32',\n              };\n            },\n          },\n        ],\n        background: [\n          {\n            field: 'count',\n            mapping(value) {\n              const backgroundColor = getTargetColor(value);\n              return {\n                fill: backgroundColor,\n              };\n            },\n          },\n        ],\n      },\n    };\n\n    ReactDOM.render(\n      <div className=\"root\">\n        <SheetComponent\n          dataCfg={s2DataConfig}\n          options={s2Options as S2Options}\n          sheetType=\"pivot\"\n          adaptive={false}\n          header={{\n            title: '单人群占比表',\n            extra: [<PaletteLegend />],\n          }}\n        />\n      </div>,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .root{\n    display: inline-block;\n  }\n\n  .palette-legend {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n\n .palette-color {\n    width: 12px;\n    height: 12px;\n  }\n\n  .palette-limit{\n    font-size: 12px;\n    color: rgb(94,94,94);\n  }\n\n  .palette-color + .palette-limit {\n    margin-left: 5px;\n  }\n\n  .palette-limit + .palette-color {\n    margin-left: 5px;\n  }\n\n  .s2-header {\n    margin:0px !important;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"insert-css\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.insertCss, global.s2React, global.styleMin);\n    global.singlePopulationProportion = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _insertCss, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var PALETTE_COLORS = [{\n    limit: 10,\n    background: '#b8e1ff'\n  }, {\n    limit: 20,\n    background: '#b4d3fb'\n  }, {\n    limit: 30,\n    background: '#7daaff'\n  }, {\n    limit: 40,\n    background: '#5b8ff9'\n  }, {\n    limit: 50,\n    background: '#3d76dd'\n  }, {\n    limit: 60,\n    background: '#085ec0'\n  }, {\n    limit: 70,\n    background: '#085ec0cc'\n  }, {\n    limit: 80,\n    background: '#0047a5'\n  }, {\n    limit: 90,\n    background: '#00318a'\n  }, {\n    limit: 100,\n    background: '#001d70'\n  }];\n\n  var getTargetColor = function getTargetColor(value) {\n    if (isNaN(Number(value))) {\n      return PALETTE_COLORS[0].background;\n    }\n\n    return PALETTE_COLORS[Math.floor(Number(value) / 10)].background;\n  };\n\n  var PaletteLegend = function PaletteLegend() {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-legend\"\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-limit\"\n    }, \"0%\"), PALETTE_COLORS.map(function (color) {\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        key: color.background,\n        className: \"palette-color\",\n        style: {\n          background: color.background\n        }\n      });\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-limit\"\n    }, \"100%\"));\n  };\n\n  fetch('../data/single-population-proportion.json').then(function (res) {\n    return res.json();\n  }).then(function (_ref) {\n    var data = _ref.data;\n    var s2DataConfig = {\n      fields: {\n        rows: ['type', 'job'],\n        columns: ['age', 'city'],\n        values: ['count'],\n        valueInCols: true\n      },\n      meta: [{\n        field: 'type',\n        name: '类别'\n      }, {\n        field: 'job',\n        name: '职业'\n      }, {\n        field: 'age',\n        name: '年龄分布'\n      }, {\n        field: 'city',\n        name: '所在城市'\n      }, {\n        field: 'count',\n        name: '数值'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 800,\n      height: 600,\n      tooltip: {\n        showTooltip: true,\n        operation: {\n          hiddenColumns: true\n        }\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: false\n      },\n      style: {\n        layoutWidthType: 'colAdaptive',\n        colCfg: {\n          hideMeasureColumn: true\n        },\n        cellCfg: {\n          width: 100\n        }\n      },\n      conditions: {\n        text: [{\n          field: 'count',\n          mapping: function mapping(value) {\n            return {\n              fill: value >= 50 ? '#fff' : '#282b32'\n            };\n          }\n        }],\n        background: [{\n          field: 'count',\n          mapping: function mapping(value) {\n            var backgroundColor = getTargetColor(value);\n            return {\n              fill: backgroundColor\n            };\n          }\n        }]\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"root\"\n    }, /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\",\n      adaptive: false,\n      header: {\n        title: '单人群占比表',\n        extra: [/*#__PURE__*/_react.default.createElement(PaletteLegend, null)]\n      }\n    })), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .root{\\n    display: inline-block;\\n  }\\n\\n  .palette-legend {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    margin-bottom: 8px;\\n  }\\n\\n .palette-color {\\n    width: 12px;\\n    height: 12px;\\n  }\\n\\n  .palette-limit{\\n    font-size: 12px;\\n    color: rgb(94,94,94);\\n  }\\n\\n  .palette-color + .palette-limit {\\n    margin-left: 5px;\\n  }\\n\\n  .palette-limit + .palette-color {\\n    margin-left: 5px;\\n  }\\n\\n  .s2-header {\\n    margin:0px !important;\\n  }\\n\");\n});"},{"relativePath":"case/performance-compare/demo/basic.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/performance-compare/demo/basic.tsx","order":0,"filename":"basic.tsx","title":{"zh":"性能对比表","en":"Performance Compare"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/qOOrO1WEZr/41e23d54-9a21-4ef3-9609-aa46ca871d83.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { compact } from 'lodash';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst disableColor = '#d3d7d4';\nconst colors = [\n  '#62BF7F',\n  '#8ECB7D',\n  '#A1D17F',\n  '#C9DC81',\n  '#FBDD80',\n  '#FBB17B',\n  '#FA8672',\n  '#FB6A6D',\n];\n\nfunction getRange(data) {\n  const values = data.map((d) => d.value);\n  const compactValue = compact(values);\n  return {\n    min: Math.min(...compactValue),\n    max: Math.max(...compactValue),\n  };\n}\n\nfunction getIndex(fieldValue, rawData) {\n  const { min, max } = getRange(rawData);\n  const step = Math.floor((max - min) / (colors.length - 1));\n  return Math.floor((fieldValue - min) / step);\n}\n\nfunction getDataConfig(rawData) {\n  return {\n    fields: {\n      rows: ['size', 'name'],\n      columns: ['time'],\n      values: ['value'],\n    },\n    meta: [\n      {\n        field: 'size',\n        name: '数据规模',\n      },\n      {\n        field: 'name',\n        name: '框架名称',\n      },\n      {\n        field: 'time',\n        name: '实验次数',\n      },\n      {\n        field: 'value',\n        name: '渲染时间',\n      },\n    ],\n    data: rawData,\n  };\n}\n\nfunction getOptions(rawData) {\n  return {\n    width: 600,\n    height: 200,\n    interaction: {\n      selectedCellsSpotlight: false,\n      hoverHighlight: false,\n    },\n    conditions: {\n      background: [\n        {\n          field: 'value',\n          mapping(fieldValue) {\n            const index = getIndex(fieldValue, rawData);\n            return {\n              fill: fieldValue ? colors[index] : disableColor,\n            };\n          },\n        },\n      ],\n    },\n  };\n}\n\nfetch('../data/compare.json')\n  .then((res) => res.json())\n  .then((data) => {\n    ReactDOM.render(\n      <div>\n        <h3>1000 数据规模表格渲染时间对比</h3>\n        <SheetComponent\n          dataCfg={getDataConfig(data['1000'])}\n          options={getOptions(data['1000'])}\n          sheetType=\"pivot\"\n        />\n        <h3>10,000 数据规模表格渲染时间对比</h3>\n        <SheetComponent\n          dataCfg={getDataConfig(data['10000'])}\n          options={getOptions(data['10000'])}\n          sheetType=\"pivot\"\n        />\n        <h3>1,000,000 数据规模表格渲染时间对比</h3>\n        <SheetComponent\n          dataCfg={getDataConfig(data['1000000'])}\n          options={getOptions(data['1000000'])}\n          sheetType=\"pivot\"\n        />\n      </div>,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"lodash\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"lodash\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.lodash, global.s2React, global.styleMin);\n    global.basic = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _lodash, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var disableColor = '#d3d7d4';\n  var colors = ['#62BF7F', '#8ECB7D', '#A1D17F', '#C9DC81', '#FBDD80', '#FBB17B', '#FA8672', '#FB6A6D'];\n\n  function getRange(data) {\n    var values = data.map(function (d) {\n      return d.value;\n    });\n    var compactValue = (0, _lodash.compact)(values);\n    return {\n      min: Math.min.apply(Math, _toConsumableArray(compactValue)),\n      max: Math.max.apply(Math, _toConsumableArray(compactValue))\n    };\n  }\n\n  function getIndex(fieldValue, rawData) {\n    var _getRange = getRange(rawData),\n        min = _getRange.min,\n        max = _getRange.max;\n\n    var step = Math.floor((max - min) / (colors.length - 1));\n    return Math.floor((fieldValue - min) / step);\n  }\n\n  function getDataConfig(rawData) {\n    return {\n      fields: {\n        rows: ['size', 'name'],\n        columns: ['time'],\n        values: ['value']\n      },\n      meta: [{\n        field: 'size',\n        name: '数据规模'\n      }, {\n        field: 'name',\n        name: '框架名称'\n      }, {\n        field: 'time',\n        name: '实验次数'\n      }, {\n        field: 'value',\n        name: '渲染时间'\n      }],\n      data: rawData\n    };\n  }\n\n  function getOptions(rawData) {\n    return {\n      width: 600,\n      height: 200,\n      interaction: {\n        selectedCellsSpotlight: false,\n        hoverHighlight: false\n      },\n      conditions: {\n        background: [{\n          field: 'value',\n          mapping: function mapping(fieldValue) {\n            var index = getIndex(fieldValue, rawData);\n            return {\n              fill: fieldValue ? colors[index] : disableColor\n            };\n          }\n        }]\n      }\n    };\n  }\n\n  fetch('../data/compare.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"h3\", null, \"1000 \\u6570\\u636E\\u89C4\\u6A21\\u8868\\u683C\\u6E32\\u67D3\\u65F6\\u95F4\\u5BF9\\u6BD4\"), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: getDataConfig(data['1000']),\n      options: getOptions(data['1000']),\n      sheetType: \"pivot\"\n    }), /*#__PURE__*/_react.default.createElement(\"h3\", null, \"10,000 \\u6570\\u636E\\u89C4\\u6A21\\u8868\\u683C\\u6E32\\u67D3\\u65F6\\u95F4\\u5BF9\\u6BD4\"), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: getDataConfig(data['10000']),\n      options: getOptions(data['10000']),\n      sheetType: \"pivot\"\n    }), /*#__PURE__*/_react.default.createElement(\"h3\", null, \"1,000,000 \\u6570\\u636E\\u89C4\\u6A21\\u8868\\u683C\\u6E32\\u67D3\\u65F6\\u95F4\\u5BF9\\u6BD4\"), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: getDataConfig(data['1000000']),\n      options: getOptions(data['1000000']),\n      sheetType: \"pivot\"\n    })), document.getElementById('container'));\n  });\n});"},{"relativePath":"case/performance-compare/demo/pivot.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/performance-compare/demo/pivot.tsx","order":1,"filename":"pivot.tsx","title":{"zh":"100w条数据性能表现-透视表","en":"Performance Pivot Sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/aQQMy0LpzT/scroll-pivot.gif","source":"import { PivotSheet } from '@antv/s2';\n\nconst s2Options = {\n  width: 600,\n  height: 480,\n};\n\nexport function generateRawData(row, col) {\n  const res = [];\n  const rowKeys = Object.keys(row);\n  const colKeys = Object.keys(col);\n\n  for (let i = 0; i < row[rowKeys[0]]; i++) {\n    for (let j = 0; j < row[rowKeys[1]]; j++) {\n      for (let m = 0; m < col[colKeys[0]]; m++) {\n        for (let n = 0; n < col[colKeys[1]]; n++) {\n          res.push({\n            province: `p${i}`,\n            city: `c${j}`,\n            type: `type${m}`,\n            subType: `subType${n}`,\n            number: i * n,\n          });\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\nconst s2DataConfig = {\n  fields: {\n    rows: ['type', 'subType'],\n    columns: ['province', 'city'],\n    values: ['number'],\n  },\n  data: generateRawData(\n    { province: 10, city: 100 },\n    { type: 10, sub_type: 100 },\n  ),\n};\nconst container = document.getElementById('container');\n\nconst s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\ns2.render();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.s2);\n    global.pivot = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _s) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.generateRawData = generateRawData;\n  var s2Options = {\n    width: 600,\n    height: 480\n  };\n\n  function generateRawData(row, col) {\n    var res = [];\n    var rowKeys = Object.keys(row);\n    var colKeys = Object.keys(col);\n\n    for (var i = 0; i < row[rowKeys[0]]; i++) {\n      for (var j = 0; j < row[rowKeys[1]]; j++) {\n        for (var m = 0; m < col[colKeys[0]]; m++) {\n          for (var n = 0; n < col[colKeys[1]]; n++) {\n            res.push({\n              province: \"p\".concat(i),\n              city: \"c\".concat(j),\n              type: \"type\".concat(m),\n              subType: \"subType\".concat(n),\n              number: i * n\n            });\n          }\n        }\n      }\n    }\n\n    return res;\n  }\n\n  var s2DataConfig = {\n    fields: {\n      rows: ['type', 'subType'],\n      columns: ['province', 'city'],\n      values: ['number']\n    },\n    data: generateRawData({\n      province: 10,\n      city: 100\n    }, {\n      type: 10,\n      sub_type: 100\n    })\n  };\n  var container = document.getElementById('container');\n  var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n  s2.render();\n});"},{"relativePath":"case/performance-compare/demo/table.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/performance-compare/demo/table.tsx","order":2,"filename":"table.tsx","title":{"zh":"100w条数据性能表现-明细表","en":"Performance Table Sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/vkrof17e%24O/scroll-table.gif","source":"import { TableSheet } from '@antv/s2';\n\nconst s2Options = {\n  width: 600,\n  height: 480,\n  showSeriesNumber: true,\n};\n\nexport function generateRawData(row, col) {\n  const res = [];\n\n  const rowKeys = Object.keys(row);\n  const colKeys = Object.keys(col);\n\n  for (let i = 0; i < row[rowKeys[0]]; i++) {\n    for (let j = 0; j < row[rowKeys[1]]; j++) {\n      for (let m = 0; m < col[colKeys[0]]; m++) {\n        for (let n = 0; n < col[colKeys[1]]; n++) {\n          res.push({\n            province: `p${i}`,\n            city: `c${j}`,\n            type: `type${m}`,\n            subType: `subType${n}`,\n            number: i * n,\n          });\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\nconst s2DataConfig = {\n  fields: {\n    columns: ['province', 'city', 'type', 'subType', 'number'],\n  },\n  data: generateRawData(\n    { province: 100, city: 10 },\n    { type: 100, sub_type: 10 },\n  ),\n};\n\nconst container = document.getElementById('container');\n\nconst s2 = new TableSheet(container, s2DataConfig, s2Options);\n\ns2.render();\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.s2);\n    global.table = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _s) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.generateRawData = generateRawData;\n  var s2Options = {\n    width: 600,\n    height: 480,\n    showSeriesNumber: true\n  };\n\n  function generateRawData(row, col) {\n    var res = [];\n    var rowKeys = Object.keys(row);\n    var colKeys = Object.keys(col);\n\n    for (var i = 0; i < row[rowKeys[0]]; i++) {\n      for (var j = 0; j < row[rowKeys[1]]; j++) {\n        for (var m = 0; m < col[colKeys[0]]; m++) {\n          for (var n = 0; n < col[colKeys[1]]; n++) {\n            res.push({\n              province: \"p\".concat(i),\n              city: \"c\".concat(j),\n              type: \"type\".concat(m),\n              subType: \"subType\".concat(n),\n              number: i * n\n            });\n          }\n        }\n      }\n    }\n\n    return res;\n  }\n\n  var s2DataConfig = {\n    fields: {\n      columns: ['province', 'city', 'type', 'subType', 'number']\n    },\n    data: generateRawData({\n      province: 100,\n      city: 10\n    }, {\n      type: 100,\n      sub_type: 10\n    })\n  };\n  var container = document.getElementById('container');\n  var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n  s2.render();\n});"},{"relativePath":"case/kpi-strategy/demo/basic.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/kpi-strategy/demo/basic.tsx","order":0,"filename":"basic.tsx","title":{"zh":"KPI 趋势表","en":"KPI StrategySheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/BLitStN%24sR/196f5853-98cf-414f-af83-16b9c594c377.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { merge } from 'lodash';\nimport { DataCell, CornerCell, measureTextWidth } from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\n// 进度条\nconst PROGRESS_BAR = {\n  width: 80,\n  height: 10,\n  innerHeight: 6,\n};\n\n// 期望线\nconst EXPECTED_LINE = {\n  width: 1,\n  height: 12,\n  color: '#000',\n};\n\n// 当前进度状态颜色\nconst STATUS_COLOR = {\n  healthy: '#30BF78',\n  late: '#FAAD14',\n  danger: '#F4664A',\n};\n\nconst DERIVE_COLOR = {\n  up: '#F4664A',\n  down: '#30BF78',\n};\n\n// 间距\nconst PADDING = 10;\n\nfunction getStatusColorByProgress(realProgress, expectedProgress) {\n  const leftWorker = expectedProgress - realProgress;\n  if (leftWorker <= 0.1) {\n    return STATUS_COLOR.healthy;\n  }\n  if (leftWorker > 0.1 && leftWorker <= 0.3) {\n    return STATUS_COLOR.late;\n  }\n  return STATUS_COLOR.danger;\n}\n\nconst CONTAINER_COLOR = '#E9E9E9';\n\nclass KpiStrategyDataCell extends DataCell {\n  // 重写数值单元格\n  initCell() {\n    super.initCell();\n    // 在绘制完原本的单元格后, 再绘制进度条和衍生指标\n    this.renderProgressBar();\n    this.renderDeriveValue();\n  }\n\n  // 如果是进度, 格式化为百分比 (只做 demo 示例, 请根据实际情况使用)\n  getFormattedFieldValue() {\n    const { data } = this.meta;\n    if (!data || !data.isProgress) {\n      return super.getFormattedFieldValue();\n    }\n    const formattedValue = `${data.value * 100} %`;\n    return { formattedValue, value: data.value };\n  }\n\n  // 绘制衍生指标\n  renderDeriveValue() {\n    // 通过 this.meta 拿到当前单元格的有效信息\n    const { x, width, data } = this.meta;\n    if (!data || data.isExtra) {\n      return;\n    }\n    const value = data?.compare ?? '';\n    const isDown = value.startsWith('-');\n    const color = isDown ? DERIVE_COLOR.down : DERIVE_COLOR.up;\n    const displayValue = value.replace('-', '');\n    const text = isDown ? `↓${displayValue}` : `↑${displayValue}`;\n    const textStyle = {\n      fill: color,\n      fontSize: 12,\n    };\n    // 获取当前文本坐标\n    const { maxY } = this.textShape.getBBox();\n    // 获取当前文本宽度\n    const textWidth = measureTextWidth(text, textStyle);\n    // 衍生指标靠右显示\n    const textX = x + width - textWidth - PADDING;\n    // 衍生指标和数值对齐显示\n    const textY = maxY;\n\n    this.addShape('text', {\n      attrs: {\n        x: textX,\n        y: textY,\n        text,\n        ...textStyle,\n      },\n    });\n  }\n\n  // 绘制子弹进度条\n\n  renderProgressBar() {\n    const { x, y, width, height, data } = this.meta;\n    if (!data || !data.isProgress) {\n      return;\n    }\n    const currentProgress = data.value;\n    const expectedProgress = data.expectedValue;\n\n    const currentProgressWidth = Math.min(\n      PROGRESS_BAR.width * currentProgress,\n      PROGRESS_BAR.width,\n    );\n\n    // 总进度条\n    this.addShape('rect', {\n      attrs: {\n        x: x + width - PROGRESS_BAR.width - PADDING,\n        y: y + (height - PROGRESS_BAR.height) / 2,\n        width: PROGRESS_BAR.width,\n        height: PROGRESS_BAR.height,\n        fill: CONTAINER_COLOR,\n      },\n    });\n    // 当前进度条\n    this.addShape('rect', {\n      attrs: {\n        x: x + width - PROGRESS_BAR.width - PADDING,\n        y: y + (height - PROGRESS_BAR.innerHeight) / 2,\n        width: currentProgressWidth,\n        height: PROGRESS_BAR.innerHeight,\n        fill: getStatusColorByProgress(currentProgress, expectedProgress),\n      },\n    });\n    // 期望线\n    this.addShape('line', {\n      attrs: {\n        x1:\n          x +\n          width -\n          PROGRESS_BAR.width +\n          PROGRESS_BAR.width * expectedProgress,\n        y1: y + (height - EXPECTED_LINE.height) / 2,\n        x2:\n          x +\n          width -\n          PROGRESS_BAR.width +\n          PROGRESS_BAR.width * expectedProgress,\n        y2: y + (height - EXPECTED_LINE.height) / 2 + EXPECTED_LINE.height,\n        stroke: EXPECTED_LINE.color,\n        lineWidth: EXPECTED_LINE.width,\n        opacity: 0.25,\n      },\n    });\n  }\n}\n\nfetch('../data/kpi-strategy.json')\n  .then((res) => res.json())\n  .then(({ data, totalData }) => {\n    const s2DataConfig = {\n      fields: {\n        rows: ['type', 'subType'],\n        columns: ['name'],\n        values: ['value'],\n        valueInCols: true,\n      },\n      meta: [\n        {\n          field: 'type',\n          name: '指标',\n        },\n        {\n          field: 'name',\n          name: '日期',\n          formatter: (value) => value ?? '-',\n        },\n        {\n          field: 'subType',\n          name: '子类别',\n        },\n        {\n          field: 'value',\n        },\n      ],\n      data,\n      totalData,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      tooltip: {\n        operation: {\n          trend: true,\n          hiddenColumns: true,\n        },\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: true,\n      },\n      // 默认数值挂列头, 会同时显示列头和数值, 隐藏数值列, 使其列头只展示日期, 更美观\n      style: {\n        colCfg: {\n          hideMeasureColumn: true,\n        },\n        cellCfg: {\n          width: 150,\n        },\n      },\n      // 自定义角头文本\n      cornerText: '指标',\n      // 覆盖默认数值单元格, 额外绘制衍生指标和子弹图\n      dataCell: (viewMeta) =>\n        new KpiStrategyDataCell(viewMeta, viewMeta.spreadsheet),\n    };\n\n    // 覆盖默认主题, 让单元格文字靠左显示\n    const theme = {\n      dataCell: {\n        // 父节点\n        bolderText: {\n          textAlign: 'left',\n        },\n        // 子节点\n        text: {\n          textAlign: 'left',\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        sheetType=\"pivot\"\n        themeCfg={{\n          theme: merge({}, theme),\n        }}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"lodash\", \"@antv/s2\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"lodash\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.lodash, global.s2, global.s2React, global.styleMin);\n    global.basic = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _lodash, _s, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  // 进度条\n  var PROGRESS_BAR = {\n    width: 80,\n    height: 10,\n    innerHeight: 6\n  }; // 期望线\n\n  var EXPECTED_LINE = {\n    width: 1,\n    height: 12,\n    color: '#000'\n  }; // 当前进度状态颜色\n\n  var STATUS_COLOR = {\n    healthy: '#30BF78',\n    late: '#FAAD14',\n    danger: '#F4664A'\n  };\n  var DERIVE_COLOR = {\n    up: '#F4664A',\n    down: '#30BF78'\n  }; // 间距\n\n  var PADDING = 10;\n\n  function getStatusColorByProgress(realProgress, expectedProgress) {\n    var leftWorker = expectedProgress - realProgress;\n\n    if (leftWorker <= 0.1) {\n      return STATUS_COLOR.healthy;\n    }\n\n    if (leftWorker > 0.1 && leftWorker <= 0.3) {\n      return STATUS_COLOR.late;\n    }\n\n    return STATUS_COLOR.danger;\n  }\n\n  var CONTAINER_COLOR = '#E9E9E9';\n\n  var KpiStrategyDataCell = /*#__PURE__*/function (_DataCell) {\n    _inherits(KpiStrategyDataCell, _DataCell);\n\n    var _super = _createSuper(KpiStrategyDataCell);\n\n    function KpiStrategyDataCell() {\n      _classCallCheck(this, KpiStrategyDataCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(KpiStrategyDataCell, [{\n      key: \"initCell\",\n      value: // 重写数值单元格\n      function initCell() {\n        _get(_getPrototypeOf(KpiStrategyDataCell.prototype), \"initCell\", this).call(this); // 在绘制完原本的单元格后, 再绘制进度条和衍生指标\n\n\n        this.renderProgressBar();\n        this.renderDeriveValue();\n      } // 如果是进度, 格式化为百分比 (只做 demo 示例, 请根据实际情况使用)\n\n    }, {\n      key: \"getFormattedFieldValue\",\n      value: function getFormattedFieldValue() {\n        var data = this.meta.data;\n\n        if (!data || !data.isProgress) {\n          return _get(_getPrototypeOf(KpiStrategyDataCell.prototype), \"getFormattedFieldValue\", this).call(this);\n        }\n\n        var formattedValue = \"\".concat(data.value * 100, \" %\");\n        return {\n          formattedValue: formattedValue,\n          value: data.value\n        };\n      } // 绘制衍生指标\n\n    }, {\n      key: \"renderDeriveValue\",\n      value: function renderDeriveValue() {\n        var _data$compare;\n\n        // 通过 this.meta 拿到当前单元格的有效信息\n        var _this$meta = this.meta,\n            x = _this$meta.x,\n            width = _this$meta.width,\n            data = _this$meta.data;\n\n        if (!data || data.isExtra) {\n          return;\n        }\n\n        var value = (_data$compare = data === null || data === void 0 ? void 0 : data.compare) !== null && _data$compare !== void 0 ? _data$compare : '';\n        var isDown = value.startsWith('-');\n        var color = isDown ? DERIVE_COLOR.down : DERIVE_COLOR.up;\n        var displayValue = value.replace('-', '');\n        var text = isDown ? \"\\u2193\".concat(displayValue) : \"\\u2191\".concat(displayValue);\n        var textStyle = {\n          fill: color,\n          fontSize: 12\n        }; // 获取当前文本坐标\n\n        var _this$textShape$getBB = this.textShape.getBBox(),\n            maxY = _this$textShape$getBB.maxY; // 获取当前文本宽度\n\n\n        var textWidth = (0, _s.measureTextWidth)(text, textStyle); // 衍生指标靠右显示\n\n        var textX = x + width - textWidth - PADDING; // 衍生指标和数值对齐显示\n\n        var textY = maxY;\n        this.addShape('text', {\n          attrs: {\n            x: textX,\n            y: textY,\n            text: text,\n            ...textStyle\n          }\n        });\n      } // 绘制子弹进度条\n\n    }, {\n      key: \"renderProgressBar\",\n      value: function renderProgressBar() {\n        var _this$meta2 = this.meta,\n            x = _this$meta2.x,\n            y = _this$meta2.y,\n            width = _this$meta2.width,\n            height = _this$meta2.height,\n            data = _this$meta2.data;\n\n        if (!data || !data.isProgress) {\n          return;\n        }\n\n        var currentProgress = data.value;\n        var expectedProgress = data.expectedValue;\n        var currentProgressWidth = Math.min(PROGRESS_BAR.width * currentProgress, PROGRESS_BAR.width); // 总进度条\n\n        this.addShape('rect', {\n          attrs: {\n            x: x + width - PROGRESS_BAR.width - PADDING,\n            y: y + (height - PROGRESS_BAR.height) / 2,\n            width: PROGRESS_BAR.width,\n            height: PROGRESS_BAR.height,\n            fill: CONTAINER_COLOR\n          }\n        }); // 当前进度条\n\n        this.addShape('rect', {\n          attrs: {\n            x: x + width - PROGRESS_BAR.width - PADDING,\n            y: y + (height - PROGRESS_BAR.innerHeight) / 2,\n            width: currentProgressWidth,\n            height: PROGRESS_BAR.innerHeight,\n            fill: getStatusColorByProgress(currentProgress, expectedProgress)\n          }\n        }); // 期望线\n\n        this.addShape('line', {\n          attrs: {\n            x1: x + width - PROGRESS_BAR.width + PROGRESS_BAR.width * expectedProgress,\n            y1: y + (height - EXPECTED_LINE.height) / 2,\n            x2: x + width - PROGRESS_BAR.width + PROGRESS_BAR.width * expectedProgress,\n            y2: y + (height - EXPECTED_LINE.height) / 2 + EXPECTED_LINE.height,\n            stroke: EXPECTED_LINE.color,\n            lineWidth: EXPECTED_LINE.width,\n            opacity: 0.25\n          }\n        });\n      }\n    }]);\n\n    return KpiStrategyDataCell;\n  }(_s.DataCell);\n\n  fetch('../data/kpi-strategy.json').then(function (res) {\n    return res.json();\n  }).then(function (_ref) {\n    var data = _ref.data,\n        totalData = _ref.totalData;\n    var s2DataConfig = {\n      fields: {\n        rows: ['type', 'subType'],\n        columns: ['name'],\n        values: ['value'],\n        valueInCols: true\n      },\n      meta: [{\n        field: 'type',\n        name: '指标'\n      }, {\n        field: 'name',\n        name: '日期',\n        formatter: function formatter(value) {\n          return value !== null && value !== void 0 ? value : '-';\n        }\n      }, {\n        field: 'subType',\n        name: '子类别'\n      }, {\n        field: 'value'\n      }],\n      data: data,\n      totalData: totalData\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      tooltip: {\n        operation: {\n          trend: true,\n          hiddenColumns: true\n        }\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: true\n      },\n      // 默认数值挂列头, 会同时显示列头和数值, 隐藏数值列, 使其列头只展示日期, 更美观\n      style: {\n        colCfg: {\n          hideMeasureColumn: true\n        },\n        cellCfg: {\n          width: 150\n        }\n      },\n      // 自定义角头文本\n      cornerText: '指标',\n      // 覆盖默认数值单元格, 额外绘制衍生指标和子弹图\n      dataCell: function dataCell(viewMeta) {\n        return new KpiStrategyDataCell(viewMeta, viewMeta.spreadsheet);\n      }\n    }; // 覆盖默认主题, 让单元格文字靠左显示\n\n    var theme = {\n      dataCell: {\n        // 父节点\n        bolderText: {\n          textAlign: 'left'\n        },\n        // 子节点\n        text: {\n          textAlign: 'left'\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\",\n      themeCfg: {\n        theme: (0, _lodash.merge)({}, theme)\n      }\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"case/data-preview/demo/excel.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/data-preview/demo/excel.tsx","order":2,"filename":"excel.tsx","title":{"zh":"编辑模式","en":"Edit Mode"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*RF2ZQoZqI80AAAAAAAAAAAAAARQnAQ","source":"import React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\nimport 'antd/es/checkbox/style/index.css';\nimport { S2Event } from '@antv/s2';\nimport { isEqual, pick } from 'lodash';\n\n// 初始化配置\nconst s2Options = {\n  width: 600,\n  height: 400,\n  showSeriesNumber: true,\n  tooltip: { showTooltip: false },\n  interaction: { enableCopy: true, hoverHighlight: false },\n  showDefaultHeaderActionIcon: false,\n};\n\n// 初始化数据\nconst s2DataCfg = {\n  fields: { columns: ['province', 'city', 'type', 'price'] },\n  sortParams: [],\n};\n\nconst App = ({ data }) => {\n  const S2Ref = useRef(null);\n  const inputRef = useRef(null);\n  const [value, setValue] = useState('');\n  const [show, setShow] = useState(false);\n  const [position, setPosition] = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n  });\n  const [options, setOptions] = useState(s2Options);\n  const [dataCfg, setDataCfg] = useState({ ...s2DataCfg, data });\n  const [cell, setCell] = useState(null);\n  const [scroll, setScroll] = useState({\n    scrollX: 0,\n    scrollY: 0,\n  });\n\n  // 改变S2实际渲染内容\n  const onSave = (inputVal) => {\n    const spreadsheet = S2Ref.current;\n    if (spreadsheet && cell) {\n      const { rowIndex, valueField } = cell.getMeta();\n      spreadsheet.dataSet.originData[rowIndex][valueField] = inputVal;\n      spreadsheet.render(true);\n      setShow(false);\n    }\n  };\n\n  // 绑定 S2Event.DATA_CELL_CLICK 事件，触发时先将上一个cell的值保存，然后设置当前cell\n  useEffect(() => {\n    const spreadsheet = S2Ref.current;\n    const handleClick = (e) => {\n      onSave(value);\n      setCell(e.target.cfg.parent);\n    };\n    spreadsheet?.on(S2Event.DATA_CELL_CLICK, handleClick);\n    return () => {\n      spreadsheet?.off(S2Event.DATA_CELL_CLICK, handleClick);\n    };\n  }, [value]);\n\n  useEffect(() => {\n    const spreadsheet = S2Ref.current;\n    const handleScroll = (e) => {\n      if (spreadsheet) {\n        const newScroll = spreadsheet.facet.getScrollOffset();\n        if (!isEqual(newScroll, scroll)) {\n          const colCellHeight = (spreadsheet.getColumnNodes()[0] || { height: 0 }).height;\n          const inView = (x, y) => {\n            const inX = x > scroll.scrollX && x < scroll.scrollX + spreadsheet.options.width\n            const inY = y > scroll.scrollY + colCellHeight && y < scroll.scrollY + spreadsheet.options.height\n            return inX && inY\n          }\n          if (inView(position.left, position.top + colCellHeight)) {\n            if (show === false) {\n              setShow(true)\n            }\n          } else {\n            if (show === true) {\n              setShow(false)\n            }\n          }\n\n          setScroll(spreadsheet.facet.getScrollOffset());\n        }\n      }\n    };\n    spreadsheet?.on(S2Event.GLOBAL_SCROLL, handleScroll);\n    spreadsheet?.on(S2Event.LAYOUT_CELL_SCROLL, handleScroll);\n    return () => {\n      spreadsheet?.off(S2Event.GLOBAL_SCROLL, handleScroll);\n      spreadsheet?.off(S2Event.LAYOUT_CELL_SCROLL, handleScroll);\n    };\n  }, [position, scroll, show]);\n\n  const setCellPosition = (spreadsheet, cell) => {\n    const cellMeta = pick(cell.getMeta(), ['x', 'y', 'width', 'height']);\n    const colCellHeight = (spreadsheet.getColumnNodes()[0] || { height: 0 })\n      .height;\n    cellMeta.x -= scroll.scrollX || 0;\n    cellMeta.y -= (scroll.scrollY || 0) - colCellHeight;\n    setPosition({\n      left: cellMeta.x,\n      top: cellMeta.y,\n      width: cellMeta.width,\n      height: cellMeta.height,\n    });\n  };\n\n  // 设置 position 和 初始值\n  useEffect(() => {\n    const spreadsheet = S2Ref.current;\n    if (spreadsheet && cell) {\n      setCellPosition(spreadsheet, cell);\n      setShow(true);\n      setValue(cell.getMeta().fieldValue);\n    }\n  }, [cell]);\n\n  // 监听滚动\n  useEffect(() => {\n    const spreadsheet = S2Ref.current;\n    if (spreadsheet && cell) {\n      setCellPosition(spreadsheet, cell);\n    }\n  }, [scroll]);\n\n  // show的时候自动focus\n  useEffect(() => {\n    inputRef.current?.focus({ preventScroll: true });\n  }, [show]);\n\n  // 绑定回车键 回车的时候触发保存\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        console.log('value', value);\n        onSave(value);\n      }\n    };\n    if (inputRef.current) {\n      inputRef.current.addEventListener('keydown', onKeyDown);\n    }\n    return () => {\n      inputRef.current?.removeEventListener('keydown', onKeyDown);\n    };\n  }, [value]);\n\n  const style = {\n    ...position,\n    position: 'absolute',\n    textAlign: 'right',\n    zIndex: 1000,\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {show && (\n        <input\n          ref={inputRef}\n          style={style}\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          onBlur={() => onSave(value)}\n        />\n      )}\n      <SheetComponent\n        ref={S2Ref}\n        dataCfg={dataCfg}\n        options={options}\n        sheetType=\"table\"\n      />\n    </div>\n  );\n};\n\nfetch('../data/basic-table-mode.json')\n  .then((res) => res.json())\n  .then((res) => {\n    ReactDOM.render(<App data={res} />, document.getElementById('container'));\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\", \"antd/es/checkbox/style/index.css\", \"@antv/s2\", \"lodash\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"), require(\"antd/es/checkbox/style/index.css\"), require(\"@antv/s2\"), require(\"lodash\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin, global.index, global.s2, global.lodash);\n    global.excel = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin, _index, _s2, _lodash) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  // 初始化配置\n  var s2Options = {\n    width: 600,\n    height: 400,\n    showSeriesNumber: true,\n    tooltip: {\n      showTooltip: false\n    },\n    interaction: {\n      enableCopy: true,\n      hoverHighlight: false\n    },\n    showDefaultHeaderActionIcon: false\n  }; // 初始化数据\n\n  var s2DataCfg = {\n    fields: {\n      columns: ['province', 'city', 'type', 'price']\n    },\n    sortParams: []\n  };\n\n  var App = function App(_ref) {\n    var data = _ref.data;\n    var S2Ref = (0, _react.useRef)(null);\n    var inputRef = (0, _react.useRef)(null);\n\n    var _useState = (0, _react.useState)(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        show = _useState4[0],\n        setShow = _useState4[1];\n\n    var _useState5 = (0, _react.useState)({\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        position = _useState6[0],\n        setPosition = _useState6[1];\n\n    var _useState7 = (0, _react.useState)(s2Options),\n        _useState8 = _slicedToArray(_useState7, 2),\n        options = _useState8[0],\n        setOptions = _useState8[1];\n\n    var _useState9 = (0, _react.useState)({ ...s2DataCfg,\n      data: data\n    }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        dataCfg = _useState10[0],\n        setDataCfg = _useState10[1];\n\n    var _useState11 = (0, _react.useState)(null),\n        _useState12 = _slicedToArray(_useState11, 2),\n        cell = _useState12[0],\n        setCell = _useState12[1];\n\n    var _useState13 = (0, _react.useState)({\n      scrollX: 0,\n      scrollY: 0\n    }),\n        _useState14 = _slicedToArray(_useState13, 2),\n        scroll = _useState14[0],\n        setScroll = _useState14[1]; // 改变S2实际渲染内容\n\n\n    var onSave = function onSave(inputVal) {\n      var spreadsheet = S2Ref.current;\n\n      if (spreadsheet && cell) {\n        var _cell$getMeta = cell.getMeta(),\n            rowIndex = _cell$getMeta.rowIndex,\n            valueField = _cell$getMeta.valueField;\n\n        spreadsheet.dataSet.originData[rowIndex][valueField] = inputVal;\n        spreadsheet.render(true);\n        setShow(false);\n      }\n    }; // 绑定 S2Event.DATA_CELL_CLICK 事件，触发时先将上一个cell的值保存，然后设置当前cell\n\n\n    (0, _react.useEffect)(function () {\n      var spreadsheet = S2Ref.current;\n\n      var handleClick = function handleClick(e) {\n        onSave(value);\n        setCell(e.target.cfg.parent);\n      };\n\n      spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.on(_s2.S2Event.DATA_CELL_CLICK, handleClick);\n      return function () {\n        spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.off(_s2.S2Event.DATA_CELL_CLICK, handleClick);\n      };\n    }, [value]);\n    (0, _react.useEffect)(function () {\n      var spreadsheet = S2Ref.current;\n\n      var handleScroll = function handleScroll(e) {\n        if (spreadsheet) {\n          var newScroll = spreadsheet.facet.getScrollOffset();\n\n          if (!(0, _lodash.isEqual)(newScroll, scroll)) {\n            var colCellHeight = (spreadsheet.getColumnNodes()[0] || {\n              height: 0\n            }).height;\n\n            var inView = function inView(x, y) {\n              var inX = x > scroll.scrollX && x < scroll.scrollX + spreadsheet.options.width;\n              var inY = y > scroll.scrollY + colCellHeight && y < scroll.scrollY + spreadsheet.options.height;\n              return inX && inY;\n            };\n\n            if (inView(position.left, position.top + colCellHeight)) {\n              if (show === false) {\n                setShow(true);\n              }\n            } else {\n              if (show === true) {\n                setShow(false);\n              }\n            }\n\n            setScroll(spreadsheet.facet.getScrollOffset());\n          }\n        }\n      };\n\n      spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.on(_s2.S2Event.GLOBAL_SCROLL, handleScroll);\n      spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.on(_s2.S2Event.LAYOUT_CELL_SCROLL, handleScroll);\n      return function () {\n        spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.off(_s2.S2Event.GLOBAL_SCROLL, handleScroll);\n        spreadsheet === null || spreadsheet === void 0 ? void 0 : spreadsheet.off(_s2.S2Event.LAYOUT_CELL_SCROLL, handleScroll);\n      };\n    }, [position, scroll, show]);\n\n    var setCellPosition = function setCellPosition(spreadsheet, cell) {\n      var cellMeta = (0, _lodash.pick)(cell.getMeta(), ['x', 'y', 'width', 'height']);\n      var colCellHeight = (spreadsheet.getColumnNodes()[0] || {\n        height: 0\n      }).height;\n      cellMeta.x -= scroll.scrollX || 0;\n      cellMeta.y -= (scroll.scrollY || 0) - colCellHeight;\n      setPosition({\n        left: cellMeta.x,\n        top: cellMeta.y,\n        width: cellMeta.width,\n        height: cellMeta.height\n      });\n    }; // 设置 position 和 初始值\n\n\n    (0, _react.useEffect)(function () {\n      var spreadsheet = S2Ref.current;\n\n      if (spreadsheet && cell) {\n        setCellPosition(spreadsheet, cell);\n        setShow(true);\n        setValue(cell.getMeta().fieldValue);\n      }\n    }, [cell]); // 监听滚动\n\n    (0, _react.useEffect)(function () {\n      var spreadsheet = S2Ref.current;\n\n      if (spreadsheet && cell) {\n        setCellPosition(spreadsheet, cell);\n      }\n    }, [scroll]); // show的时候自动focus\n\n    (0, _react.useEffect)(function () {\n      var _inputRef$current;\n\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus({\n        preventScroll: true\n      });\n    }, [show]); // 绑定回车键 回车的时候触发保存\n\n    (0, _react.useEffect)(function () {\n      var onKeyDown = function onKeyDown(e) {\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          console.log('value', value);\n          onSave(value);\n        }\n      };\n\n      if (inputRef.current) {\n        inputRef.current.addEventListener('keydown', onKeyDown);\n      }\n\n      return function () {\n        var _inputRef$current2;\n\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.removeEventListener('keydown', onKeyDown);\n      };\n    }, [value]);\n    var style = { ...position,\n      position: 'absolute',\n      textAlign: 'right',\n      zIndex: 1000\n    };\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      }\n    }, show && /*#__PURE__*/_react.default.createElement(\"input\", {\n      ref: inputRef,\n      style: style,\n      value: value,\n      onChange: function onChange(e) {\n        return setValue(e.target.value);\n      },\n      onBlur: function onBlur() {\n        return onSave(value);\n      }\n    }), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      ref: S2Ref,\n      dataCfg: dataCfg,\n      options: options,\n      sheetType: \"table\"\n    }));\n  };\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, {\n      data: res\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"case/data-preview/demo/index.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/data-preview/demo/index.tsx","order":0,"filename":"index.tsx","title":{"zh":"数据预览表","en":"Data Preview Table"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/nVlBvKDBjT/search.gif","source":"import React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport {\n  TableColCell,\n  GuiIcon,\n  TableCornerCell,\n  S2Event,\n  InteractionStateName,\n  CellTypes,\n} from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport {\n  Input,\n  Divider,\n  Space,\n  Button,\n  Modal,\n  Radio,\n  Form,\n  Popover,\n  Checkbox,\n  message,\n} from 'antd';\nimport { get, uniq } from 'lodash';\nimport '@antv/s2-react/dist/style.min.css';\nimport 'antd/es/checkbox/style/index.css';\n\nconst { Search } = Input;\n\nconst ShowList = ({ columns, setColumns, allChecked }) => {\n  return (\n    <Popover\n      trigger=\"click\"\n      placement=\"bottomRight\"\n      title={\n        <div>\n          <Checkbox\n            checked={allChecked}\n            onChange={() =>\n              allChecked ? setColumns([]) : setColumns([...initColumns])\n            }\n          >\n            全选 {columns.length} / {initColumns.length}\n          </Checkbox>\n        </div>\n      }\n      content={initColumns.map((e, i) => (\n        <div key={e}>\n          <Checkbox\n            checked={columns.includes(e)}\n            onChange={() =>\n              columns.includes(e)\n                ? setColumns((fields) => fields.filter((item) => e !== item))\n                : setColumns((fields) => [...fields, e])\n            }\n          >\n            {e}\n          </Checkbox>\n        </div>\n      ))}\n    >\n      <Button>隐藏列</Button>\n    </Popover>\n  );\n};\n\nclass CustomCornerCell extends TableCornerCell {\n  drawBackgroundShape() {\n    super.drawBackgroundShape();\n  }\n\n  drawInteractiveBgShape() {\n    super.drawInteractiveBgShape();\n  }\n\n  drawTextShape() {\n    const { x, y, width: cellWidth, height: cellHeight, key } = this.meta;\n    const padding = 4;\n    this.textShape = this.addShape('polygon', {\n      zIndex: 4,\n      attrs: {\n        fill: 'rgba(0,0,0,0.1)',\n        points: [\n          [x + cellWidth - padding + 2, y + padding],\n          [x + cellWidth - padding + 2, y + cellHeight - padding],\n          [\n            x + cellWidth - padding - cellHeight + padding * 2,\n            y + cellHeight - padding,\n          ],\n        ],\n      },\n    });\n  }\n}\n\nclass CustomTableColCell extends TableColCell {\n  onIconClick;\n\n  constructor(meta, spreadsheet, headerConfig, callback) {\n    super(meta, spreadsheet, headerConfig);\n    this.onIconClick = callback;\n  }\n\n  drawTextShape() {\n    super.drawTextShape();\n\n    const { x, y, width: cellWidth, height: cellHeight } = this.meta;\n    const style = this.getStyle();\n    const iconSize = get(style, 'icon.size');\n    const iconMargin = get(style, 'icon.margin');\n\n    const iconX = x + cellWidth - iconSize - iconMargin?.right;\n    const iconY = y + cellHeight / 2 - iconSize / 2;\n\n    this.renderFilterIcon({\n      x: iconX,\n      y: iconY,\n      width: iconSize,\n      height: iconSize,\n    });\n  }\n\n  renderFilterIcon(position) {\n    const sortMethod = getCurrentSortMethod(\n      this.meta.value,\n      this.spreadsheet.dataCfg.sortParams,\n    );\n    /**\n     * 有值说明有加filter\n     */\n\n    const isFiltered = !!getCurrentFilterParams(\n      this.meta.value,\n      this.spreadsheet.dataCfg.filterParams,\n    ).length;\n\n    const { x, y, width, height } = position;\n    const icon = new GuiIcon({\n      name: iconMap[sortMethod.toLowerCase()],\n      x,\n      y,\n      width,\n      height,\n      fill: isFiltered ? '#873bf4' : 'rgb(67, 72, 91)',\n    });\n    this.add(icon);\n\n    icon.on('click', () => {\n      this.onIconClick?.({\n        meta: this.meta,\n      });\n    });\n  }\n}\n\nconst iconMap = {\n  none: 'Filter',\n  asc: 'SortUp',\n  desc: 'SortDown',\n};\n\nexport const filterIcon =\n  '<svg t=\"1633848048963\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"85936\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M0 0h1024L724.676923 488.369231V1024l-425.353846-141.784615v-393.846154L0 0z m196.923077 102.4l204.8 354.461538v362.338462l228.430769 63.015385V456.861538l212.676923-354.461538H196.923077z\" opacity=\".4\" p-id=\"85937\"></path></svg>';\nexport const sortUp =\n  '<svg t=\"1634734477742\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2208\" width=\"200\" height=\"200\"><path d=\"M569.508769 653.352619l151.594419 0 0 108.819221-151.594419 0L569.508769 653.352619zM569.508769 65.693452l385.479045 0 0 108.828814L569.508569 174.522266 569.508769 65.693452 569.508769 65.693452zM569.508769 261.583239l307.513506 0 0 108.819021L569.508769 370.402259 569.508769 261.583239 569.508769 261.583239zM569.508769 457.463032l229.552363 0 0 108.821019-229.552363 0C569.508769 566.284051 569.508769 457.463032 569.508769 457.463032zM569.508769 849.232612l73.62868 0 0 108.826815-73.62868 0L569.508769 849.232612zM354.693414 427.846912l0 530.212516L203.94622 958.059428 203.94622 427.846912 62.754748 427.846912 279.308125 65.187795 495.87849 427.846912 354.693414 427.846912z\" p-id=\"2209\"></path></svg>';\nexport const sortDown =\n  '<svg t=\"1634734501800\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2875\" width=\"200\" height=\"200\"><path d=\"M279.15323 958.059228l217.110799-363.160177-141.539436 0L354.724593 63.957829l-151.123938 0 0 530.943021L62.057421 594.900849 279.15323 958.059228 279.15323 958.059228zM570.078783 64.464885l386.443791 0 0 108.976114L570.078583 173.440999 570.078783 64.464885 570.078783 64.464885zM570.078783 369.594007 878.364965 369.594007l0-108.974515L570.078783 260.619492 570.078783 369.594007zM570.078783 565.747016l230.128573 0 0-108.976114L570.078783 456.770901 570.078783 565.747016 570.078783 565.747016zM570.078783 761.904621l151.972163 0L722.050945 652.930305l-151.972163 0L570.078783 761.904621zM570.078783 958.059228l73.813355 0 0-108.974315-73.813355 0L570.078783 958.059228z\" p-id=\"2876\"></path></svg>';\n\nconst getSearchResult = (searchKey, data, columns) => {\n  if (!searchKey) {\n    return [];\n  }\n  const results = [];\n  data.forEach((row, rowId) => {\n    columns.forEach((col, colId) => {\n      if (\n        (`${row[col]}` || '').toLowerCase().includes(searchKey.toLowerCase())\n      ) {\n        results.push({\n          col: colId,\n          row: rowId,\n        });\n      }\n    });\n  });\n\n  return results;\n};\n\nconst initColumns = ['province', 'city', 'type', 'price'];\n\nconst scrollToCell = (rowIndex, colIndex, options, facet, interaction) => {\n  const { frozenRowCount } = options;\n  const colsNodes = facet.layoutResult.colLeafNodes;\n\n  let offsetX = 0;\n  let offsetY = 0;\n\n  offsetY = facet.viewCellHeights.getCellOffsetY(rowIndex - 1);\n  offsetX = facet.layoutResult.colLeafNodes.find(\n    (item) => item.colIndex === colIndex,\n  )?.x;\n  if (frozenRowCount > 0 && rowIndex > frozenRowCount - 1) {\n    offsetY -= facet.getTotalHeightForRange(0, frozenRowCount - 1);\n  }\n\n  if (offsetY < 0) {\n    offsetY = 0;\n  }\n\n  facet.scrollWithAnimation({\n    offsetX: {\n      value: offsetX,\n    },\n    offsetY: {\n      value: offsetY,\n    },\n  });\n\n  interaction.changeState({\n    stateName: InteractionStateName.SELECTED,\n    cells: [\n      {\n        colIndex,\n        rowIndex,\n        id: `${String(rowIndex)}-${colsNodes[colIndex + 1].id}`,\n        type: CellTypes.DATA_CELL,\n      },\n    ],\n  });\n};\n\nconst App = ({ data }) => {\n  const onIconClick = ({ meta }) => {\n    setInteractedCol(meta.value);\n    setColModalVisible(!colModalVisible);\n  };\n  const s2Ref = useRef(null);\n  const [columns, setColumns] = React.useState(initColumns);\n\n  const [interactedCol, setInteractedCol] = useState('');\n  const modalCallbackRef = useRef((e) => {});\n\n  const [options, setOptions] = useState({\n    width: 600,\n    height: 400,\n    showSeriesNumber: true,\n    interaction: {\n      enableCopy: true,\n      autoResetSheetStyle: false,\n      hoverFocus: false,\n    },\n    colCell: (item, spreadsheet, headerConfig) => {\n      if (item.colIndex === 0) {\n        return new CustomCornerCell(item, spreadsheet, headerConfig);\n      }\n      return new CustomTableColCell(\n        item,\n        spreadsheet,\n        headerConfig,\n        onIconClick,\n      );\n    },\n    customSVGIcons: [\n      {\n        name: 'Filter',\n        svg: filterIcon,\n      },\n      {\n        name: 'SortUp',\n        svg: sortUp,\n      },\n      {\n        name: 'SortDown',\n        svg: sortDown,\n      },\n    ],\n    tooltip: {\n      operation: {\n        hiddenColumns: true,\n      },\n    },\n    showDefaultHeaderActionIcon: false,\n  });\n  const [dataCfg, setDataCfg] = useState({\n    fields: {\n      columns,\n    },\n    data,\n    sortParams: [],\n    filterParams: [],\n  });\n\n  useEffect(() => {\n    setDataCfg((cfg) => ({\n      ...cfg,\n      fields: { columns },\n    }));\n    s2Ref.current.render(true);\n  }, [columns.length]);\n\n  const [searchKey, setSearchKey] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [colModalVisible, setColModalVisible] = useState(false);\n  const [searchResultActiveIndex, setSearchResultActiveIndex] = useState(-1);\n  const [form] = Form.useForm();\n\n  const allChecked = columns.length === initColumns.length;\n\n  const focusNext = (results, currentIndex) => {\n    const length = results.length;\n    let nextIndex = currentIndex + 1;\n    if (nextIndex >= length) {\n      nextIndex = 0;\n    }\n    setSearchResultActiveIndex(nextIndex);\n    const current = results[nextIndex];\n    scrollToCell(\n      current.row,\n      current.col,\n      s2Ref.current.options,\n      s2Ref.current.facet,\n      s2Ref.current.interaction,\n    );\n  };\n\n  const focusPrev = (results) => {\n    const length = results.length;\n    let nextIndex = searchResultActiveIndex - 1;\n    if (nextIndex < 0) {\n      nextIndex = length - 1;\n    }\n    setSearchResultActiveIndex(nextIndex);\n    const current = results[nextIndex];\n    scrollToCell(\n      current.row,\n      current.col,\n      s2Ref.current.options,\n      s2Ref.current.facet,\n      s2Ref.current.interaction,\n    );\n  };\n\n  const search = (key) => {\n    let searchData = [];\n    if (s2Ref.current) {\n      searchData = s2Ref.current.dataSet.getDisplayDataSet();\n    }\n    const results = getSearchResult(key, searchData, columns);\n    setSearchResult(results);\n    setSearchResultActiveIndex(-1);\n    if (results.length > 0) {\n      focusNext(results, -1);\n    }\n  };\n\n  return (\n    <div>\n      <Space>\n        <ShowList\n          columns={columns}\n          allChecked={allChecked}\n          setColumns={setColumns}\n        />\n        <Search\n          placeholder=\"输入关键词搜索\"\n          allowClear\n          enterButton=\"Search\"\n          value={searchKey}\n          onChange={(e) => {\n            setSearchKey(e.target.value);\n          }}\n          onSearch={(key) => {\n            search(key);\n          }}\n        />\n\n        {searchResult.length ? (\n          <>\n            <div>{`${searchResultActiveIndex + 1}/${\n              searchResult.length + 1\n            }`}</div>\n            <Button\n              shape=\"circle\"\n              icon={<antdIcons.ArrowLeftOutlined />}\n              onClick={() => {\n                if (searchResult.length > 0) {\n                  focusPrev(searchResult, searchResultActiveIndex);\n                }\n              }}\n            />\n            <Button\n              shape=\"circle\"\n              icon={<antdIcons.ArrowRightOutlined />}\n              onClick={() => {\n                if (searchResult.length > 0) {\n                  focusNext(searchResult, searchResultActiveIndex);\n                }\n              }}\n            />\n          </>\n        ) : null}\n      </Space>\n\n      <Divider />\n      <SheetComponent\n        ref={s2Ref}\n        dataCfg={dataCfg}\n        options={options}\n        sheetType=\"table\"\n        onColCellClick={(e) => {\n          // 最左侧列的格子点击后全选\n          if (e.viewMeta.colIndex === 0) {\n            s2Ref.current?.interaction.selectAll();\n          }\n        }}\n        onCopied={() => {\n          message.success('复制成功');\n        }}\n      />\n      <Modal\n        title=\"列设置\"\n        visible={colModalVisible}\n        className=\"antv-s2-data-preview-demo-modal\"\n        onCancel={() => {\n          setColModalVisible(false);\n          form.resetFields();\n        }}\n        onOk={() => {\n          modalCallbackRef.current();\n          setColModalVisible(false);\n        }}\n      >\n        <SortPopover\n          spreadsheet={s2Ref.current}\n          fieldName={interactedCol}\n          modalCallbackRef={modalCallbackRef}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nconst convertToObject = (values) => {\n  const initData = {};\n\n  values.forEach((val) => {\n    initData[val] = true;\n  });\n\n  return initData;\n};\n\n/**\n * 返回当前sortMethod  默认为NONE\n * @param fieldName\n * @param sortParams\n * @returns\n */\n\nexport const getCurrentSortMethod = (fieldName, sortParams) => {\n  return (\n    get(\n      (sortParams || []).filter((param) => param.sortFieldId === fieldName),\n      '[0].sortMethod',\n      'NONE',\n    ) || 'NONE'\n  );\n};\n\n/**\n *\n * @param fieldName\n * @param filterParams\n * @returns\n */\nexport const getCurrentFilterParams = (fieldName, filterParams) => {\n  const filtered = get(\n    (filterParams || []).filter((param) => param.filterKey === fieldName),\n    '[0].filteredValues',\n    [],\n  );\n\n  return filtered;\n};\n\nconst SortPopover = ({ fieldName, spreadsheet, modalCallbackRef }) => {\n  const fieldData = React.useMemo(\n    () =>\n      uniq(\n        // slice掉第一行  （第一行是column名）\n        spreadsheet.dataSet.originData.slice(1).map((item) => item[fieldName]),\n      ),\n    [spreadsheet.dataSet.originData, fieldName],\n  );\n\n  const { sortParams, filterParams } = spreadsheet.dataCfg;\n  const [sort, setsort] = React.useState(\n    getCurrentSortMethod(fieldName, sortParams),\n  );\n  const [filtered, setfiltered] = React.useState(\n    convertToObject(getCurrentFilterParams(fieldName, filterParams)),\n  );\n  const [changed, setchanged] = React.useState({\n    sort: false,\n    filter: false,\n  });\n  const [searchKeyword, setsearchKeyword] = React.useState('');\n\n  const searchedFieldData = React.useMemo(\n    () =>\n      fieldData.filter((data) => {\n        if (searchKeyword) {\n          if (typeof data === 'string') {\n            return data.search(searchKeyword) !== -1;\n          }\n          return false;\n        }\n        return true;\n      }),\n    [searchKeyword, fieldData],\n  );\n\n  const onKeywordChange = (keyword) => {\n    // 关键词变化时将不在关键词内的值过滤\n    setsearchKeyword(keyword);\n    setchanged((old) => ({ ...old, filter: true }));\n    const newFilter = {};\n    fieldData\n      .filter(\n        (data) =>\n          !fieldData\n            .filter((field) => {\n              if (keyword) {\n                if (typeof field === 'string') {\n                  return field.search(keyword) !== -1;\n                }\n                return false;\n              }\n              return true;\n            })\n            .includes(data),\n      )\n      .forEach((data) => {\n        newFilter[data] = true;\n      });\n    setfiltered(newFilter);\n  };\n\n  modalCallbackRef.current = () => {\n    if (changed.sort) {\n      spreadsheet.emit(S2Event.RANGE_SORT, [\n        {\n          sortFieldId: fieldName,\n          sortMethod: sort,\n        },\n      ]);\n    }\n    if (changed.filter) {\n      spreadsheet.emit(S2Event.RANGE_FILTER, {\n        filterKey: fieldName,\n        // 将Object还原成数组\n        filteredValues: Object.entries(filtered)\n          .map(([fieldValue, isFiltered]) => {\n            if (isFiltered) return fieldValue;\n          })\n          .filter(Boolean),\n      });\n    }\n    setchanged({ filter: false, sort: false });\n  };\n\n  return (\n    <Form\n      style={{ padding: '1em' }}\n      labelCol={{ span: 6 }}\n      wrapperCol={{ span: 18 }}\n    >\n      <Form.Item label=\"数据排序: \" className=\"sort-item\">\n        <Radio.Group\n          onChange={(e) => {\n            setsort(e.target.value);\n            setchanged((val) => ({ ...val, sort: true }));\n          }}\n          value={sort}\n        >\n          <Radio value={'NONE'}>无</Radio>\n          <Radio value={'ASC'}>升序</Radio>\n          <Radio value={'DESC'}>降序</Radio>\n        </Radio.Group>\n        ,\n      </Form.Item>\n      <Form.Item label=\"数值筛选: \" className=\"filter-item\">\n        <div>\n          <Input.Search\n            value={searchKeyword}\n            onChange={(e) => onKeywordChange(e.target.value)}\n            placeholder=\"请输入搜索关键词\"\n            className=\"search-box\"\n          />\n          <div className=\"check-item-list\">\n            <Checkbox\n              className=\"check-item\"\n              checked={searchedFieldData.every(\n                (fieldValue) => !filtered[fieldValue],\n              )}\n              indeterminate={\n                searchedFieldData.some((fieldValue) => !filtered[fieldValue]) &&\n                !searchedFieldData.every((fieldValue) => !filtered[fieldValue])\n              }\n              onChange={(e) => {\n                const {\n                  target: { checked },\n                } = e;\n                setchanged((val) => ({ ...val, filter: true }));\n\n                if (checked) {\n                  setfiltered((old) => {\n                    const newValue = {};\n                    searchedFieldData.forEach((fieldValue) => {\n                      newValue[fieldValue] = false;\n                    });\n                    return newValue;\n                  });\n                } else {\n                  // 将全部过滤\n                  setfiltered((old) => {\n                    const newValue = {};\n                    searchedFieldData.forEach((fieldValue) => {\n                      newValue[fieldValue] = true;\n                    });\n\n                    return newValue;\n                  });\n                }\n              }}\n            >\n              {'全选'}\n            </Checkbox>\n\n            {searchedFieldData.map((item) => {\n              return (\n                <Checkbox\n                  className=\"check-item\"\n                  checked={!filtered[item]}\n                  onChange={(e) => {\n                    setchanged((old) => ({ ...old, filter: true }));\n                    setfiltered((old) => ({\n                      ...old,\n                      [item]: !e.target.checked,\n                    }));\n                  }}\n                >\n                  {item}\n                </Checkbox>\n              );\n            })}\n          </div>\n        </div>\n      </Form.Item>\n    </Form>\n  );\n};\n\nfetch('../data/basic-table-mode.json')\n  .then((res) => res.json())\n  .then((res) => {\n    ReactDOM.render(<App data={res} />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-data-preview-demo-modal .filter-item{\n    margin-top: 20px;\n  }\n  .antv-s2-data-preview-demo-modal .check-item-list{\n    display: flex;\n    flex-direction: column;\n  }\n  .ant-checkbox-wrapper.check-item {\n    margin-left: 0;\n  }\n  .antv-s2-data-preview-demo-modal .search-box{\n    margin-bottom: 5px\n  }\n`);\n","babeledSource":"function _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"react-dom\", \"insert-css\", \"@antv/s2\", \"@antv/s2-react\", \"antd\", \"lodash\", \"@antv/s2-react/dist/style.min.css\", \"antd/es/checkbox/style/index.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"antd\"), require(\"lodash\"), require(\"@antv/s2-react/dist/style.min.css\"), require(\"antd/es/checkbox/style/index.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactDom, global.insertCss, global.s2, global.s2React, global.antd, global.lodash, global.styleMin, global.index);\n    global.index = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _react, _reactDom, _insertCss, _s2, _s2React, _antd, _lodash, _styleMin, _index) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.sortUp = _exports.sortDown = _exports.getCurrentSortMethod = _exports.getCurrentFilterParams = _exports.filterIcon = void 0;\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var Search = _antd.Input.Search;\n\n  var ShowList = function ShowList(_ref) {\n    var columns = _ref.columns,\n        setColumns = _ref.setColumns,\n        allChecked = _ref.allChecked;\n    return /*#__PURE__*/_react.default.createElement(_antd.Popover, {\n      trigger: \"click\",\n      placement: \"bottomRight\",\n      title: /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_antd.Checkbox, {\n        checked: allChecked,\n        onChange: function onChange() {\n          return allChecked ? setColumns([]) : setColumns([].concat(initColumns));\n        }\n      }, \"\\u5168\\u9009 \", columns.length, \" / \", initColumns.length)),\n      content: initColumns.map(function (e, i) {\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          key: e\n        }, /*#__PURE__*/_react.default.createElement(_antd.Checkbox, {\n          checked: columns.includes(e),\n          onChange: function onChange() {\n            return columns.includes(e) ? setColumns(function (fields) {\n              return fields.filter(function (item) {\n                return e !== item;\n              });\n            }) : setColumns(function (fields) {\n              return [].concat(_toConsumableArray(fields), [e]);\n            });\n          }\n        }, e));\n      })\n    }, /*#__PURE__*/_react.default.createElement(_antd.Button, null, \"\\u9690\\u85CF\\u5217\"));\n  };\n\n  var CustomCornerCell = /*#__PURE__*/function (_TableCornerCell) {\n    _inherits(CustomCornerCell, _TableCornerCell);\n\n    var _super = _createSuper(CustomCornerCell);\n\n    function CustomCornerCell() {\n      _classCallCheck(this, CustomCornerCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomCornerCell, [{\n      key: \"drawBackgroundShape\",\n      value: function drawBackgroundShape() {\n        _get(_getPrototypeOf(CustomCornerCell.prototype), \"drawBackgroundShape\", this).call(this);\n      }\n    }, {\n      key: \"drawInteractiveBgShape\",\n      value: function drawInteractiveBgShape() {\n        _get(_getPrototypeOf(CustomCornerCell.prototype), \"drawInteractiveBgShape\", this).call(this);\n      }\n    }, {\n      key: \"drawTextShape\",\n      value: function drawTextShape() {\n        var _this$meta = this.meta,\n            x = _this$meta.x,\n            y = _this$meta.y,\n            cellWidth = _this$meta.width,\n            cellHeight = _this$meta.height,\n            key = _this$meta.key;\n        var padding = 4;\n        this.textShape = this.addShape('polygon', {\n          zIndex: 4,\n          attrs: {\n            fill: 'rgba(0,0,0,0.1)',\n            points: [[x + cellWidth - padding + 2, y + padding], [x + cellWidth - padding + 2, y + cellHeight - padding], [x + cellWidth - padding - cellHeight + padding * 2, y + cellHeight - padding]]\n          }\n        });\n      }\n    }]);\n\n    return CustomCornerCell;\n  }(_s2.TableCornerCell);\n\n  var CustomTableColCell = /*#__PURE__*/function (_TableColCell) {\n    _inherits(CustomTableColCell, _TableColCell);\n\n    var _super2 = _createSuper(CustomTableColCell);\n\n    function CustomTableColCell(meta, spreadsheet, headerConfig, callback) {\n      var _this;\n\n      _classCallCheck(this, CustomTableColCell);\n\n      _this = _super2.call(this, meta, spreadsheet, headerConfig);\n\n      _defineProperty(_assertThisInitialized(_this), \"onIconClick\", void 0);\n\n      _this.onIconClick = callback;\n      return _this;\n    }\n\n    _createClass(CustomTableColCell, [{\n      key: \"drawTextShape\",\n      value: function drawTextShape() {\n        _get(_getPrototypeOf(CustomTableColCell.prototype), \"drawTextShape\", this).call(this);\n\n        var _this$meta2 = this.meta,\n            x = _this$meta2.x,\n            y = _this$meta2.y,\n            cellWidth = _this$meta2.width,\n            cellHeight = _this$meta2.height;\n        var style = this.getStyle();\n        var iconSize = (0, _lodash.get)(style, 'icon.size');\n        var iconMargin = (0, _lodash.get)(style, 'icon.margin');\n        var iconX = x + cellWidth - iconSize - (iconMargin === null || iconMargin === void 0 ? void 0 : iconMargin.right);\n        var iconY = y + cellHeight / 2 - iconSize / 2;\n        this.renderFilterIcon({\n          x: iconX,\n          y: iconY,\n          width: iconSize,\n          height: iconSize\n        });\n      }\n    }, {\n      key: \"renderFilterIcon\",\n      value: function renderFilterIcon(position) {\n        var _this2 = this;\n\n        var sortMethod = getCurrentSortMethod(this.meta.value, this.spreadsheet.dataCfg.sortParams);\n        /**\n         * 有值说明有加filter\n         */\n\n        var isFiltered = !!getCurrentFilterParams(this.meta.value, this.spreadsheet.dataCfg.filterParams).length;\n        var x = position.x,\n            y = position.y,\n            width = position.width,\n            height = position.height;\n        var icon = new _s2.GuiIcon({\n          name: iconMap[sortMethod.toLowerCase()],\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          fill: isFiltered ? '#873bf4' : 'rgb(67, 72, 91)'\n        });\n        this.add(icon);\n        icon.on('click', function () {\n          var _this2$onIconClick;\n\n          (_this2$onIconClick = _this2.onIconClick) === null || _this2$onIconClick === void 0 ? void 0 : _this2$onIconClick.call(_this2, {\n            meta: _this2.meta\n          });\n        });\n      }\n    }]);\n\n    return CustomTableColCell;\n  }(_s2.TableColCell);\n\n  var iconMap = {\n    none: 'Filter',\n    asc: 'SortUp',\n    desc: 'SortDown'\n  };\n  var filterIcon = '<svg t=\"1633848048963\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"85936\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M0 0h1024L724.676923 488.369231V1024l-425.353846-141.784615v-393.846154L0 0z m196.923077 102.4l204.8 354.461538v362.338462l228.430769 63.015385V456.861538l212.676923-354.461538H196.923077z\" opacity=\".4\" p-id=\"85937\"></path></svg>';\n  _exports.filterIcon = filterIcon;\n  var sortUp = '<svg t=\"1634734477742\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2208\" width=\"200\" height=\"200\"><path d=\"M569.508769 653.352619l151.594419 0 0 108.819221-151.594419 0L569.508769 653.352619zM569.508769 65.693452l385.479045 0 0 108.828814L569.508569 174.522266 569.508769 65.693452 569.508769 65.693452zM569.508769 261.583239l307.513506 0 0 108.819021L569.508769 370.402259 569.508769 261.583239 569.508769 261.583239zM569.508769 457.463032l229.552363 0 0 108.821019-229.552363 0C569.508769 566.284051 569.508769 457.463032 569.508769 457.463032zM569.508769 849.232612l73.62868 0 0 108.826815-73.62868 0L569.508769 849.232612zM354.693414 427.846912l0 530.212516L203.94622 958.059428 203.94622 427.846912 62.754748 427.846912 279.308125 65.187795 495.87849 427.846912 354.693414 427.846912z\" p-id=\"2209\"></path></svg>';\n  _exports.sortUp = sortUp;\n  var sortDown = '<svg t=\"1634734501800\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2875\" width=\"200\" height=\"200\"><path d=\"M279.15323 958.059228l217.110799-363.160177-141.539436 0L354.724593 63.957829l-151.123938 0 0 530.943021L62.057421 594.900849 279.15323 958.059228 279.15323 958.059228zM570.078783 64.464885l386.443791 0 0 108.976114L570.078583 173.440999 570.078783 64.464885 570.078783 64.464885zM570.078783 369.594007 878.364965 369.594007l0-108.974515L570.078783 260.619492 570.078783 369.594007zM570.078783 565.747016l230.128573 0 0-108.976114L570.078783 456.770901 570.078783 565.747016 570.078783 565.747016zM570.078783 761.904621l151.972163 0L722.050945 652.930305l-151.972163 0L570.078783 761.904621zM570.078783 958.059228l73.813355 0 0-108.974315-73.813355 0L570.078783 958.059228z\" p-id=\"2876\"></path></svg>';\n  _exports.sortDown = sortDown;\n\n  var getSearchResult = function getSearchResult(searchKey, data, columns) {\n    if (!searchKey) {\n      return [];\n    }\n\n    var results = [];\n    data.forEach(function (row, rowId) {\n      columns.forEach(function (col, colId) {\n        if ((\"\".concat(row[col]) || '').toLowerCase().includes(searchKey.toLowerCase())) {\n          results.push({\n            col: colId,\n            row: rowId\n          });\n        }\n      });\n    });\n    return results;\n  };\n\n  var initColumns = ['province', 'city', 'type', 'price'];\n\n  var scrollToCell = function scrollToCell(rowIndex, colIndex, options, facet, interaction) {\n    var _facet$layoutResult$c;\n\n    var frozenRowCount = options.frozenRowCount;\n    var colsNodes = facet.layoutResult.colLeafNodes;\n    var offsetX = 0;\n    var offsetY = 0;\n    offsetY = facet.viewCellHeights.getCellOffsetY(rowIndex - 1);\n    offsetX = (_facet$layoutResult$c = facet.layoutResult.colLeafNodes.find(function (item) {\n      return item.colIndex === colIndex;\n    })) === null || _facet$layoutResult$c === void 0 ? void 0 : _facet$layoutResult$c.x;\n\n    if (frozenRowCount > 0 && rowIndex > frozenRowCount - 1) {\n      offsetY -= facet.getTotalHeightForRange(0, frozenRowCount - 1);\n    }\n\n    if (offsetY < 0) {\n      offsetY = 0;\n    }\n\n    facet.scrollWithAnimation({\n      offsetX: {\n        value: offsetX\n      },\n      offsetY: {\n        value: offsetY\n      }\n    });\n    interaction.changeState({\n      stateName: _s2.InteractionStateName.SELECTED,\n      cells: [{\n        colIndex: colIndex,\n        rowIndex: rowIndex,\n        id: \"\".concat(String(rowIndex), \"-\").concat(colsNodes[colIndex + 1].id),\n        type: _s2.CellTypes.DATA_CELL\n      }]\n    });\n  };\n\n  var App = function App(_ref2) {\n    var data = _ref2.data;\n\n    var onIconClick = function onIconClick(_ref3) {\n      var meta = _ref3.meta;\n      setInteractedCol(meta.value);\n      setColModalVisible(!colModalVisible);\n    };\n\n    var s2Ref = (0, _react.useRef)(null);\n\n    var _React$useState = _react.default.useState(initColumns),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        columns = _React$useState2[0],\n        setColumns = _React$useState2[1];\n\n    var _useState = (0, _react.useState)(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        interactedCol = _useState2[0],\n        setInteractedCol = _useState2[1];\n\n    var modalCallbackRef = (0, _react.useRef)(function (e) {});\n\n    var _useState3 = (0, _react.useState)({\n      width: 600,\n      height: 400,\n      showSeriesNumber: true,\n      interaction: {\n        enableCopy: true,\n        autoResetSheetStyle: false,\n        hoverFocus: false\n      },\n      colCell: function colCell(item, spreadsheet, headerConfig) {\n        if (item.colIndex === 0) {\n          return new CustomCornerCell(item, spreadsheet, headerConfig);\n        }\n\n        return new CustomTableColCell(item, spreadsheet, headerConfig, onIconClick);\n      },\n      customSVGIcons: [{\n        name: 'Filter',\n        svg: filterIcon\n      }, {\n        name: 'SortUp',\n        svg: sortUp\n      }, {\n        name: 'SortDown',\n        svg: sortDown\n      }],\n      tooltip: {\n        operation: {\n          hiddenColumns: true\n        }\n      },\n      showDefaultHeaderActionIcon: false\n    }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        options = _useState4[0],\n        setOptions = _useState4[1];\n\n    var _useState5 = (0, _react.useState)({\n      fields: {\n        columns: columns\n      },\n      data: data,\n      sortParams: [],\n      filterParams: []\n    }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        dataCfg = _useState6[0],\n        setDataCfg = _useState6[1];\n\n    (0, _react.useEffect)(function () {\n      setDataCfg(function (cfg) {\n        return { ...cfg,\n          fields: {\n            columns: columns\n          }\n        };\n      });\n      s2Ref.current.render(true);\n    }, [columns.length]);\n\n    var _useState7 = (0, _react.useState)(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        searchKey = _useState8[0],\n        setSearchKey = _useState8[1];\n\n    var _useState9 = (0, _react.useState)([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        searchResult = _useState10[0],\n        setSearchResult = _useState10[1];\n\n    var _useState11 = (0, _react.useState)(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        colModalVisible = _useState12[0],\n        setColModalVisible = _useState12[1];\n\n    var _useState13 = (0, _react.useState)(-1),\n        _useState14 = _slicedToArray(_useState13, 2),\n        searchResultActiveIndex = _useState14[0],\n        setSearchResultActiveIndex = _useState14[1];\n\n    var _Form$useForm = _antd.Form.useForm(),\n        _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n        form = _Form$useForm2[0];\n\n    var allChecked = columns.length === initColumns.length;\n\n    var focusNext = function focusNext(results, currentIndex) {\n      var length = results.length;\n      var nextIndex = currentIndex + 1;\n\n      if (nextIndex >= length) {\n        nextIndex = 0;\n      }\n\n      setSearchResultActiveIndex(nextIndex);\n      var current = results[nextIndex];\n      scrollToCell(current.row, current.col, s2Ref.current.options, s2Ref.current.facet, s2Ref.current.interaction);\n    };\n\n    var focusPrev = function focusPrev(results) {\n      var length = results.length;\n      var nextIndex = searchResultActiveIndex - 1;\n\n      if (nextIndex < 0) {\n        nextIndex = length - 1;\n      }\n\n      setSearchResultActiveIndex(nextIndex);\n      var current = results[nextIndex];\n      scrollToCell(current.row, current.col, s2Ref.current.options, s2Ref.current.facet, s2Ref.current.interaction);\n    };\n\n    var search = function search(key) {\n      var searchData = [];\n\n      if (s2Ref.current) {\n        searchData = s2Ref.current.dataSet.getDisplayDataSet();\n      }\n\n      var results = getSearchResult(key, searchData, columns);\n      setSearchResult(results);\n      setSearchResultActiveIndex(-1);\n\n      if (results.length > 0) {\n        focusNext(results, -1);\n      }\n    };\n\n    return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_antd.Space, null, /*#__PURE__*/_react.default.createElement(ShowList, {\n      columns: columns,\n      allChecked: allChecked,\n      setColumns: setColumns\n    }), /*#__PURE__*/_react.default.createElement(Search, {\n      placeholder: \"\\u8F93\\u5165\\u5173\\u952E\\u8BCD\\u641C\\u7D22\",\n      allowClear: true,\n      enterButton: \"Search\",\n      value: searchKey,\n      onChange: function onChange(e) {\n        setSearchKey(e.target.value);\n      },\n      onSearch: function onSearch(key) {\n        search(key);\n      }\n    }), searchResult.length ? /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"div\", null, \"\".concat(searchResultActiveIndex + 1, \"/\").concat(searchResult.length + 1)), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n      shape: \"circle\",\n      icon: /*#__PURE__*/_react.default.createElement(antdIcons.ArrowLeftOutlined, null),\n      onClick: function onClick() {\n        if (searchResult.length > 0) {\n          focusPrev(searchResult, searchResultActiveIndex);\n        }\n      }\n    }), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n      shape: \"circle\",\n      icon: /*#__PURE__*/_react.default.createElement(antdIcons.ArrowRightOutlined, null),\n      onClick: function onClick() {\n        if (searchResult.length > 0) {\n          focusNext(searchResult, searchResultActiveIndex);\n        }\n      }\n    })) : null), /*#__PURE__*/_react.default.createElement(_antd.Divider, null), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      ref: s2Ref,\n      dataCfg: dataCfg,\n      options: options,\n      sheetType: \"table\",\n      onColCellClick: function onColCellClick(e) {\n        // 最左侧列的格子点击后全选\n        if (e.viewMeta.colIndex === 0) {\n          var _s2Ref$current;\n\n          (_s2Ref$current = s2Ref.current) === null || _s2Ref$current === void 0 ? void 0 : _s2Ref$current.interaction.selectAll();\n        }\n      },\n      onCopied: function onCopied() {\n        _antd.message.success('复制成功');\n      }\n    }), /*#__PURE__*/_react.default.createElement(_antd.Modal, {\n      title: \"\\u5217\\u8BBE\\u7F6E\",\n      visible: colModalVisible,\n      className: \"antv-s2-data-preview-demo-modal\",\n      onCancel: function onCancel() {\n        setColModalVisible(false);\n        form.resetFields();\n      },\n      onOk: function onOk() {\n        modalCallbackRef.current();\n        setColModalVisible(false);\n      }\n    }, /*#__PURE__*/_react.default.createElement(SortPopover, {\n      spreadsheet: s2Ref.current,\n      fieldName: interactedCol,\n      modalCallbackRef: modalCallbackRef\n    })));\n  };\n\n  var convertToObject = function convertToObject(values) {\n    var initData = {};\n    values.forEach(function (val) {\n      initData[val] = true;\n    });\n    return initData;\n  };\n  /**\n   * 返回当前sortMethod  默认为NONE\n   * @param fieldName\n   * @param sortParams\n   * @returns\n   */\n\n\n  var getCurrentSortMethod = function getCurrentSortMethod(fieldName, sortParams) {\n    return (0, _lodash.get)((sortParams || []).filter(function (param) {\n      return param.sortFieldId === fieldName;\n    }), '[0].sortMethod', 'NONE') || 'NONE';\n  };\n  /**\n   *\n   * @param fieldName\n   * @param filterParams\n   * @returns\n   */\n\n\n  _exports.getCurrentSortMethod = getCurrentSortMethod;\n\n  var getCurrentFilterParams = function getCurrentFilterParams(fieldName, filterParams) {\n    var filtered = (0, _lodash.get)((filterParams || []).filter(function (param) {\n      return param.filterKey === fieldName;\n    }), '[0].filteredValues', []);\n    return filtered;\n  };\n\n  _exports.getCurrentFilterParams = getCurrentFilterParams;\n\n  var SortPopover = function SortPopover(_ref4) {\n    var fieldName = _ref4.fieldName,\n        spreadsheet = _ref4.spreadsheet,\n        modalCallbackRef = _ref4.modalCallbackRef;\n\n    var fieldData = _react.default.useMemo(function () {\n      return (0, _lodash.uniq)( // slice掉第一行  （第一行是column名）\n      spreadsheet.dataSet.originData.slice(1).map(function (item) {\n        return item[fieldName];\n      }));\n    }, [spreadsheet.dataSet.originData, fieldName]);\n\n    var _spreadsheet$dataCfg = spreadsheet.dataCfg,\n        sortParams = _spreadsheet$dataCfg.sortParams,\n        filterParams = _spreadsheet$dataCfg.filterParams;\n\n    var _React$useState3 = _react.default.useState(getCurrentSortMethod(fieldName, sortParams)),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        sort = _React$useState4[0],\n        setsort = _React$useState4[1];\n\n    var _React$useState5 = _react.default.useState(convertToObject(getCurrentFilterParams(fieldName, filterParams))),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        filtered = _React$useState6[0],\n        setfiltered = _React$useState6[1];\n\n    var _React$useState7 = _react.default.useState({\n      sort: false,\n      filter: false\n    }),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        changed = _React$useState8[0],\n        setchanged = _React$useState8[1];\n\n    var _React$useState9 = _react.default.useState(''),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        searchKeyword = _React$useState10[0],\n        setsearchKeyword = _React$useState10[1];\n\n    var searchedFieldData = _react.default.useMemo(function () {\n      return fieldData.filter(function (data) {\n        if (searchKeyword) {\n          if (typeof data === 'string') {\n            return data.search(searchKeyword) !== -1;\n          }\n\n          return false;\n        }\n\n        return true;\n      });\n    }, [searchKeyword, fieldData]);\n\n    var onKeywordChange = function onKeywordChange(keyword) {\n      // 关键词变化时将不在关键词内的值过滤\n      setsearchKeyword(keyword);\n      setchanged(function (old) {\n        return { ...old,\n          filter: true\n        };\n      });\n      var newFilter = {};\n      fieldData.filter(function (data) {\n        return !fieldData.filter(function (field) {\n          if (keyword) {\n            if (typeof field === 'string') {\n              return field.search(keyword) !== -1;\n            }\n\n            return false;\n          }\n\n          return true;\n        }).includes(data);\n      }).forEach(function (data) {\n        newFilter[data] = true;\n      });\n      setfiltered(newFilter);\n    };\n\n    modalCallbackRef.current = function () {\n      if (changed.sort) {\n        spreadsheet.emit(_s2.S2Event.RANGE_SORT, [{\n          sortFieldId: fieldName,\n          sortMethod: sort\n        }]);\n      }\n\n      if (changed.filter) {\n        spreadsheet.emit(_s2.S2Event.RANGE_FILTER, {\n          filterKey: fieldName,\n          // 将Object还原成数组\n          filteredValues: Object.entries(filtered).map(function (_ref5) {\n            var _ref6 = _slicedToArray(_ref5, 2),\n                fieldValue = _ref6[0],\n                isFiltered = _ref6[1];\n\n            if (isFiltered) return fieldValue;\n          }).filter(Boolean)\n        });\n      }\n\n      setchanged({\n        filter: false,\n        sort: false\n      });\n    };\n\n    return /*#__PURE__*/_react.default.createElement(_antd.Form, {\n      style: {\n        padding: '1em'\n      },\n      labelCol: {\n        span: 6\n      },\n      wrapperCol: {\n        span: 18\n      }\n    }, /*#__PURE__*/_react.default.createElement(_antd.Form.Item, {\n      label: \"\\u6570\\u636E\\u6392\\u5E8F: \",\n      className: \"sort-item\"\n    }, /*#__PURE__*/_react.default.createElement(_antd.Radio.Group, {\n      onChange: function onChange(e) {\n        setsort(e.target.value);\n        setchanged(function (val) {\n          return { ...val,\n            sort: true\n          };\n        });\n      },\n      value: sort\n    }, /*#__PURE__*/_react.default.createElement(_antd.Radio, {\n      value: 'NONE'\n    }, \"\\u65E0\"), /*#__PURE__*/_react.default.createElement(_antd.Radio, {\n      value: 'ASC'\n    }, \"\\u5347\\u5E8F\"), /*#__PURE__*/_react.default.createElement(_antd.Radio, {\n      value: 'DESC'\n    }, \"\\u964D\\u5E8F\")), \",\"), /*#__PURE__*/_react.default.createElement(_antd.Form.Item, {\n      label: \"\\u6570\\u503C\\u7B5B\\u9009: \",\n      className: \"filter-item\"\n    }, /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_antd.Input.Search, {\n      value: searchKeyword,\n      onChange: function onChange(e) {\n        return onKeywordChange(e.target.value);\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5173\\u952E\\u8BCD\",\n      className: \"search-box\"\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"check-item-list\"\n    }, /*#__PURE__*/_react.default.createElement(_antd.Checkbox, {\n      className: \"check-item\",\n      checked: searchedFieldData.every(function (fieldValue) {\n        return !filtered[fieldValue];\n      }),\n      indeterminate: searchedFieldData.some(function (fieldValue) {\n        return !filtered[fieldValue];\n      }) && !searchedFieldData.every(function (fieldValue) {\n        return !filtered[fieldValue];\n      }),\n      onChange: function onChange(e) {\n        var checked = e.target.checked;\n        setchanged(function (val) {\n          return { ...val,\n            filter: true\n          };\n        });\n\n        if (checked) {\n          setfiltered(function (old) {\n            var newValue = {};\n            searchedFieldData.forEach(function (fieldValue) {\n              newValue[fieldValue] = false;\n            });\n            return newValue;\n          });\n        } else {\n          // 将全部过滤\n          setfiltered(function (old) {\n            var newValue = {};\n            searchedFieldData.forEach(function (fieldValue) {\n              newValue[fieldValue] = true;\n            });\n            return newValue;\n          });\n        }\n      }\n    }, '全选'), searchedFieldData.map(function (item) {\n      return /*#__PURE__*/_react.default.createElement(_antd.Checkbox, {\n        className: \"check-item\",\n        checked: !filtered[item],\n        onChange: function onChange(e) {\n          setchanged(function (old) {\n            return { ...old,\n              filter: true\n            };\n          });\n          setfiltered(function (old) {\n            return _defineProperty({ ...old\n            }, item, !e.target.checked);\n          });\n        }\n      }, item);\n    })))));\n  };\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, {\n      data: res\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-data-preview-demo-modal .filter-item{\\n    margin-top: 20px;\\n  }\\n  .antv-s2-data-preview-demo-modal .check-item-list{\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  .ant-checkbox-wrapper.check-item {\\n    margin-left: 0;\\n  }\\n  .antv-s2-data-preview-demo-modal .search-box{\\n    margin-bottom: 5px\\n  }\\n\");\n});"},{"relativePath":"case/data-preview/demo/house.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/data-preview/demo/house.tsx","order":1,"filename":"house.tsx","title":{"zh":"如何用 S2 买房","en":"How to buy a house with S2"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/JgAFxd5G0/maifangfengmian1.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Select, InputNumber, Space } from 'antd';\nimport {\n  every,\n  filter, isNil,\n  last,\n  map,\n  omit,\n} from 'lodash';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\n\nconst ID_SEPARATOR = '[&]';\nconst defaultHouseInfo = {\n  name: ['15#', '16#', '21#', '22#'],\n  unit: ['1单元', '2单元'],\n  building: [1, 2, 3, 4, 5],\n  nearStreet: [true, false],\n  property: ['公寓', '住宅'],\n  toward: ['东', '南', '西', '北'],\n  level: [\n    2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22,\n    23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 34, 35, 36, 37, 38, 39,\n  ],\n  area: [92, 111, 114, 119, 120, 123, 125, 135, 138],\n};\nconst s2Options = {\n  width: 700,\n  height: 580,\n  pagination: {\n    pageSize: 50,\n    current: 1,\n  },\n  conditions: {\n    // 背景 (background) 字段标记\n    background: [\n      {\n        field: 'area',\n        mapping(value) {\n          if (value === 123 || value === 119) {\n            return {\n              // fill 是背景字段标记下唯一必须的字段，用于指定文本颜色\n              fill: '#b8e1ff',\n            };\n          }\n          return {\n            fill: '#fff',\n          };\n        },\n      },\n    ],\n  },\n};\nconst defaultSortParams = [\n  {\n    sortFieldId: 'name',\n    sortMethod: 'ASC',\n  },\n  {\n    sortFieldId: 'unit',\n    sortMethod: 'ASC',\n  },\n  {\n    sortFieldId: 'level',\n    sortFunc: (params) => {\n      const { data } = params;\n      return data.sort((a, b) => {\n        const aNum = last(a.split(ID_SEPARATOR));\n        const bNum = last(b.split(ID_SEPARATOR));\n        return aNum - bNum;\n      });\n    },\n  },\n];\nconst dataConfig = {\n  data: [],\n  describe: '如何使用 S2 买房',\n  fields: {\n    rows: [\n      'name',\n      'unit',\n      'building',\n      'level',\n      'nearStreet',\n      'toward',\n      'property',\n    ],\n    columns: [],\n    values: ['area'],\n    valueInCols: true,\n  },\n  meta: [\n    {\n      field: 'name',\n      name: '楼栋',\n    },\n    {\n      field: 'unit',\n      name: '单元号',\n    },\n    {\n      field: 'building',\n      name: '房号',\n    },\n    {\n      field: 'level',\n      name: '楼层',\n    },\n    {\n      field: 'property',\n      name: '房屋类型',\n    },\n    {\n      field: 'nearStreet',\n      name: '是否临街',\n    },\n    {\n      field: 'toward',\n      name: '朝向',\n    },\n    {\n      field: 'area',\n      name: '面积',\n    },\n    {\n      field: 'note',\n      name: '备注',\n    },\n    {\n      field: 'score',\n      name: '评分',\n    },\n  ],\n  sortParams: defaultSortParams,\n};\n\nconst SelectItem = (props) => {\n  const { data, dataName, onChange } = props;\n\n  return (\n    <Select\n      allowClear={true}\n      placeholder=\"全部\"\n      style={{ width: '150px' }}\n      onChange={(value) => {\n        onChange({\n          key: dataName,\n          value: value,\n        });\n      }}\n    >\n      {map(data, (item) => (\n        <Select.Option key={`${item}`} value={item}>\n          {`${item}`}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n};\n\nconst RangeSelect = (props) => {\n  const { data, dataName, onChange } = props;\n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const [info, setInfo] = useState({ min, max });\n  const handleChange = (value, key) => {\n    const tempInfo = Object.assign({}, info);\n    tempInfo[key] = value;\n    setInfo(tempInfo);\n\n    onChange({\n      key: dataName,\n      value: [tempInfo.min, tempInfo.max],\n    });\n  };\n\n  return (\n    <Space>\n      <InputNumber\n        placeholder={'最小值'}\n        min={min}\n        max={max}\n        defaultValue={min}\n        onChange={(e) => handleChange(e, 'min')}\n      />\n      <InputNumber\n        placeholder={'最大值'}\n        min={min}\n        max={max}\n        defaultValue={max}\n        onChange={(e) => handleChange(e, 'max')}\n      />\n    </Space>\n  );\n};\n\nconst SelectList = (props) => {\n  const { filterData } = props;\n  const [filterInfo, setFilterInfo] = useState({});\n\n  const onChange = ({ key, value }) => {\n    let tempHouseInfo = Object.assign({}, filterInfo);\n    if (isNil(value)) {\n      tempHouseInfo = omit(tempHouseInfo, key);\n    } else {\n      tempHouseInfo[key] = value;\n    }\n    setFilterInfo(tempHouseInfo);\n    filterData(tempHouseInfo);\n  };\n\n  return (\n    <div className=\"select-list\">\n      {map(defaultHouseInfo, (item, key) => {\n        return (\n          <Space className=\"select-item\" key={key}>\n            <span className=\"select-label\"> {key}</span>\n            {key === 'area' || key === 'level' ? (\n              <RangeSelect data={item} dataName={key} onChange={onChange} />\n            ) : (\n              <SelectItem data={item} dataName={key} onChange={onChange} />\n            )}\n          </Space>\n        );\n      })}\n    </div>\n  );\n};\n\nconst Sheet = ({ data }) => {\n  const [dataSource, setDataSource] = useState(data);\n\n  const filterData = (filterInfo) => {\n    const result = filter(data, (item) => {\n      return every(filterInfo, (value, key) => {\n        if (key === 'area') {\n          return value[0] <= item.area && value[1] >= item.area;\n        }\n        if (key === 'level') {\n          return value[0] <= item.level && value[1] >= item.level;\n        }\n        if(key === 'nearStreet') {\n          console.log(item.nearStreet, 'item.nearStreet',  value, 'value');\n          console.log(item.nearStreet === value, 'item.nearStreet === value');\n        }\n        return item[key] === value;\n      });\n    });\n    setDataSource(result);\n  };\n\n  return (\n    <div>\n      <SelectList filterData={filterData} />\n      <SheetComponent\n        sheetType={'pivot'}\n        dataCfg={{ ...dataConfig, data: dataSource }}\n        options={s2Options}\n        showPagination={true}\n      />\n    </div>\n  );\n};\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/6420f338-9169-4b1f-b0f0-35f1a8295e67.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    ReactDOM.render(\n      <Sheet data={data} />,\n      document.getElementById('container'),\n    );\n  });\n\n// We use 'insert-css' to insert custom styles\n// It is recommended to add the style to your own style sheet files\n// If you want to copy the code directly, please remember to install the npm package 'insert-css\ninsertCss(`\n  .select-item {\n      margin: 5px 16px 0 0;\n  }\n  .select-list {\n      display: flex;\n      flex-wrap: wrap;\n      margin-bottom: 20px;\n  }\n  .select-label {\n    display: inline-block;\n    width: 80px;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"antd\", \"lodash\", \"@antv/s2-react\", \"insert-css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"antd\"), require(\"lodash\"), require(\"@antv/s2-react\"), require(\"insert-css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.antd, global.lodash, global.s2React, global.insertCss);\n    global.house = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _antd, _lodash, _s2React, _insertCss) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var ID_SEPARATOR = '[&]';\n  var defaultHouseInfo = {\n    name: ['15#', '16#', '21#', '22#'],\n    unit: ['1单元', '2单元'],\n    building: [1, 2, 3, 4, 5],\n    nearStreet: [true, false],\n    property: ['公寓', '住宅'],\n    toward: ['东', '南', '西', '北'],\n    level: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 34, 35, 36, 37, 38, 39],\n    area: [92, 111, 114, 119, 120, 123, 125, 135, 138]\n  };\n  var s2Options = {\n    width: 700,\n    height: 580,\n    pagination: {\n      pageSize: 50,\n      current: 1\n    },\n    conditions: {\n      // 背景 (background) 字段标记\n      background: [{\n        field: 'area',\n        mapping: function mapping(value) {\n          if (value === 123 || value === 119) {\n            return {\n              // fill 是背景字段标记下唯一必须的字段，用于指定文本颜色\n              fill: '#b8e1ff'\n            };\n          }\n\n          return {\n            fill: '#fff'\n          };\n        }\n      }]\n    }\n  };\n  var defaultSortParams = [{\n    sortFieldId: 'name',\n    sortMethod: 'ASC'\n  }, {\n    sortFieldId: 'unit',\n    sortMethod: 'ASC'\n  }, {\n    sortFieldId: 'level',\n    sortFunc: function sortFunc(params) {\n      var data = params.data;\n      return data.sort(function (a, b) {\n        var aNum = (0, _lodash.last)(a.split(ID_SEPARATOR));\n        var bNum = (0, _lodash.last)(b.split(ID_SEPARATOR));\n        return aNum - bNum;\n      });\n    }\n  }];\n  var dataConfig = {\n    data: [],\n    describe: '如何使用 S2 买房',\n    fields: {\n      rows: ['name', 'unit', 'building', 'level', 'nearStreet', 'toward', 'property'],\n      columns: [],\n      values: ['area'],\n      valueInCols: true\n    },\n    meta: [{\n      field: 'name',\n      name: '楼栋'\n    }, {\n      field: 'unit',\n      name: '单元号'\n    }, {\n      field: 'building',\n      name: '房号'\n    }, {\n      field: 'level',\n      name: '楼层'\n    }, {\n      field: 'property',\n      name: '房屋类型'\n    }, {\n      field: 'nearStreet',\n      name: '是否临街'\n    }, {\n      field: 'toward',\n      name: '朝向'\n    }, {\n      field: 'area',\n      name: '面积'\n    }, {\n      field: 'note',\n      name: '备注'\n    }, {\n      field: 'score',\n      name: '评分'\n    }],\n    sortParams: defaultSortParams\n  };\n\n  var SelectItem = function SelectItem(props) {\n    var data = props.data,\n        dataName = props.dataName,\n        _onChange = props.onChange;\n    return /*#__PURE__*/_react.default.createElement(_antd.Select, {\n      allowClear: true,\n      placeholder: \"\\u5168\\u90E8\",\n      style: {\n        width: '150px'\n      },\n      onChange: function onChange(value) {\n        _onChange({\n          key: dataName,\n          value: value\n        });\n      }\n    }, (0, _lodash.map)(data, function (item) {\n      return /*#__PURE__*/_react.default.createElement(_antd.Select.Option, {\n        key: \"\".concat(item),\n        value: item\n      }, \"\".concat(item));\n    }));\n  };\n\n  var RangeSelect = function RangeSelect(props) {\n    var data = props.data,\n        dataName = props.dataName,\n        onChange = props.onChange;\n    var min = Math.min.apply(Math, _toConsumableArray(data));\n    var max = Math.max.apply(Math, _toConsumableArray(data));\n\n    var _useState = (0, _react.useState)({\n      min: min,\n      max: max\n    }),\n        _useState2 = _slicedToArray(_useState, 2),\n        info = _useState2[0],\n        setInfo = _useState2[1];\n\n    var handleChange = function handleChange(value, key) {\n      var tempInfo = Object.assign({}, info);\n      tempInfo[key] = value;\n      setInfo(tempInfo);\n      onChange({\n        key: dataName,\n        value: [tempInfo.min, tempInfo.max]\n      });\n    };\n\n    return /*#__PURE__*/_react.default.createElement(_antd.Space, null, /*#__PURE__*/_react.default.createElement(_antd.InputNumber, {\n      placeholder: '最小值',\n      min: min,\n      max: max,\n      defaultValue: min,\n      onChange: function onChange(e) {\n        return handleChange(e, 'min');\n      }\n    }), /*#__PURE__*/_react.default.createElement(_antd.InputNumber, {\n      placeholder: '最大值',\n      min: min,\n      max: max,\n      defaultValue: max,\n      onChange: function onChange(e) {\n        return handleChange(e, 'max');\n      }\n    }));\n  };\n\n  var SelectList = function SelectList(props) {\n    var filterData = props.filterData;\n\n    var _useState3 = (0, _react.useState)({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        filterInfo = _useState4[0],\n        setFilterInfo = _useState4[1];\n\n    var onChange = function onChange(_ref) {\n      var key = _ref.key,\n          value = _ref.value;\n      var tempHouseInfo = Object.assign({}, filterInfo);\n\n      if ((0, _lodash.isNil)(value)) {\n        tempHouseInfo = (0, _lodash.omit)(tempHouseInfo, key);\n      } else {\n        tempHouseInfo[key] = value;\n      }\n\n      setFilterInfo(tempHouseInfo);\n      filterData(tempHouseInfo);\n    };\n\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"select-list\"\n    }, (0, _lodash.map)(defaultHouseInfo, function (item, key) {\n      return /*#__PURE__*/_react.default.createElement(_antd.Space, {\n        className: \"select-item\",\n        key: key\n      }, /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"select-label\"\n      }, \" \", key), key === 'area' || key === 'level' ? /*#__PURE__*/_react.default.createElement(RangeSelect, {\n        data: item,\n        dataName: key,\n        onChange: onChange\n      }) : /*#__PURE__*/_react.default.createElement(SelectItem, {\n        data: item,\n        dataName: key,\n        onChange: onChange\n      }));\n    }));\n  };\n\n  var Sheet = function Sheet(_ref2) {\n    var data = _ref2.data;\n\n    var _useState5 = (0, _react.useState)(data),\n        _useState6 = _slicedToArray(_useState5, 2),\n        dataSource = _useState6[0],\n        setDataSource = _useState6[1];\n\n    var filterData = function filterData(filterInfo) {\n      var result = (0, _lodash.filter)(data, function (item) {\n        return (0, _lodash.every)(filterInfo, function (value, key) {\n          if (key === 'area') {\n            return value[0] <= item.area && value[1] >= item.area;\n          }\n\n          if (key === 'level') {\n            return value[0] <= item.level && value[1] >= item.level;\n          }\n\n          if (key === 'nearStreet') {\n            console.log(item.nearStreet, 'item.nearStreet', value, 'value');\n            console.log(item.nearStreet === value, 'item.nearStreet === value');\n          }\n\n          return item[key] === value;\n        });\n      });\n      setDataSource(result);\n    };\n\n    return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(SelectList, {\n      filterData: filterData\n    }), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: 'pivot',\n      dataCfg: { ...dataConfig,\n        data: dataSource\n      },\n      options: s2Options,\n      showPagination: true\n    }));\n  };\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/6420f338-9169-4b1f-b0f0-35f1a8295e67.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(Sheet, {\n      data: data\n    }), document.getElementById('container'));\n  }); // We use 'insert-css' to insert custom styles\n  // It is recommended to add the style to your own style sheet files\n  // If you want to copy the code directly, please remember to install the npm package 'insert-css\n\n  (0, _insertCss.default)(\"\\n  .select-item {\\n      margin: 5px 16px 0 0;\\n  }\\n  .select-list {\\n      display: flex;\\n      flex-wrap: wrap;\\n      margin-bottom: 20px;\\n  }\\n  .select-label {\\n    display: inline-block;\\n    width: 80px;\\n  }\\n\");\n});"},{"relativePath":"case/comparison/demo/multiple-people-comparison.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/comparison/demo/multiple-people-comparison.tsx","order":1,"filename":"multiple-people-comparison.tsx","title":{"zh":"多人群对比表","en":"Multiple People Comparison Sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/GVz3yaFf5O/b57857b9-a307-474a-a418-c97f627311a1.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport { ColCell } from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst PALETTE_COLORS = [\n  {\n    limit: -50,\n    background: 'rgb(62,144,109)',\n    color: 'black',\n  },\n  {\n    limit: -35,\n    background: 'rgb(74,181,120)',\n    color: 'black',\n  },\n  {\n    limit: -20,\n    background: 'rgb(112,196,121)',\n    color: 'black',\n  },\n  {\n    limit: -5,\n    background: 'rgb(150,212,164)',\n    color: 'black',\n  },\n  {\n    limit: 10,\n    background: 'rgb(190,226,188)',\n    color: 'black',\n  },\n  {\n    limit: 25,\n    background: 'rgb(238,229,229)',\n    color: 'black',\n  },\n  {\n    limit: 40,\n    background: 'rgb(243,187,161)',\n    color: 'white',\n  },\n  {\n    limit: 55,\n    background: 'rgb(238,154,119)',\n    color: 'white',\n  },\n  {\n    limit: 70,\n    background: 'rgb(235,123,85)',\n    color: 'white',\n  },\n  {\n    limit: 85,\n    background: 'rgb(230,91,55)',\n    color: 'white',\n  },\n  {\n    limit: 100,\n    background: 'rgb(214,61,33)',\n    color: 'white',\n  },\n];\n\nconst GROUP_COLOR = {\n  'people-group-a': 'rgb(99,133,241)',\n  'people-group-b': 'rgb(116,213,157)',\n};\n\nconst GROUP_SEPARATOR_WIDTH = 4;\n\nconst getFormatter =\n  (enablePrefix = false) =>\n  (value) => {\n    const prefix = enablePrefix && value > 0 ? '+' : '';\n    const suffix = value !== 0 ? '%' : '';\n    return `${prefix}${value}${suffix}`;\n  };\n\nconst getTargetColor = (value) =>\n  PALETTE_COLORS.find((color) => color.limit >= value) ??\n  PALETTE_COLORS[PALETTE_COLORS.length - 1];\n\nclass CustomColCell extends ColCell {\n  initCell() {\n    super.initCell();\n    this.renderGroupSeparator();\n  }\n\n  renderGroupSeparator() {\n    const { label, isLeaf } = this.meta;\n    // 只需要为 A B 群组绘制标识\n    if (!isLeaf || label === 'people-group-delta') {\n      return;\n    }\n\n    const fill = GROUP_COLOR[label];\n    const { x, y, height } = this.textShape.getBBox();\n    this.addShape('rect', {\n      attrs: {\n        x: x - GROUP_SEPARATOR_WIDTH * 1.5,\n        y,\n        height,\n        width: GROUP_SEPARATOR_WIDTH,\n        fill,\n      },\n    });\n  }\n}\n\nconst PaletteLegend = () => {\n  return (\n    <div className=\"palette-legend\">\n      <div className=\"palette-limit\">-56%</div>\n      {PALETTE_COLORS.map((color) => (\n        <span\n          key={color.background}\n          className=\"palette-color\"\n          style={{ background: color.background }}\n        />\n      ))}\n      <div className=\"palette-limit\">96.32%</div>\n    </div>\n  );\n};\n\nfetch('../data/multiple-people-comparison.json')\n  .then((res) => res.json())\n  .then(({ data }) => {\n    const s2DataConfig = {\n      fields: {\n        rows: ['type', 'job'],\n        columns: ['age', 'city'],\n        values: ['people-group-a', 'people-group-b', 'people-group-delta'],\n        valueInCols: true,\n      },\n      meta: [\n        {\n          field: 'type',\n          name: '类别',\n        },\n        {\n          field: 'job',\n          name: '职业',\n        },\n        {\n          field: 'age',\n          name: '年龄分布',\n        },\n        {\n          field: 'city',\n          name: '所在城市',\n        },\n        {\n          field: 'people-group-a',\n          name: 'A人群',\n          formatter: getFormatter(),\n        },\n        {\n          field: 'people-group-b',\n          name: 'B人群',\n          formatter: getFormatter(),\n        },\n        {\n          field: 'people-group-delta',\n          name: '差值',\n          formatter: getFormatter(true),\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          trend: true,\n          hiddenColumns: true,\n        },\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: false,\n      },\n      style: {\n        layoutWidthType: 'colAdaptive',\n        cellCfg: {\n          width: 100,\n        },\n      },\n      conditions: {\n        text: [\n          {\n            field: 'people-group-delta',\n            mapping(value) {\n              const { color } = getTargetColor(value);\n              return {\n                fill: color,\n              };\n            },\n          },\n        ],\n        background: [\n          {\n            field: 'people-group-delta',\n            mapping(value) {\n              const { background } = getTargetColor(value);\n              return {\n                fill: background,\n              };\n            },\n          },\n        ],\n      },\n      colCell(viewMeta, spreadsheet, headerConfig) {\n        return new CustomColCell(viewMeta, spreadsheet, headerConfig);\n      },\n    };\n\n    const theme = {\n      dataCell: {\n        // 父节点\n        bolderText: {\n          fill: 'rgb(84,84,84)',\n        },\n        // 子节点\n        text: {\n          fill: 'rgb(84,84,84)',\n        },\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        sheetType=\"pivot\"\n        themeCfg={{ theme }}\n        header={{\n          title: '多人群对比表',\n          extra: [<PaletteLegend />],\n        }}\n      />,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n\n  .ant-page-header {\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n\n  .palette-legend {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    margin-top: 8px;\n  }\n\n  .palette-color {\n    width: 12px;\n    height: 12px;\n  }\n\n  .palette-limit{\n    font-size: 12px;\n    color: rgb(94,94,94);\n  }\n\n  .palette-color + .palette-limit {\n    margin-left: 5px;\n  }\n\n  .palette-limit + .palette-color {\n    margin-left: 5px;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"insert-css\", \"@antv/s2\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.insertCss, global.s2, global.s2React, global.styleMin);\n    global.multiplePeopleComparison = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _insertCss, _s, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var PALETTE_COLORS = [{\n    limit: -50,\n    background: 'rgb(62,144,109)',\n    color: 'black'\n  }, {\n    limit: -35,\n    background: 'rgb(74,181,120)',\n    color: 'black'\n  }, {\n    limit: -20,\n    background: 'rgb(112,196,121)',\n    color: 'black'\n  }, {\n    limit: -5,\n    background: 'rgb(150,212,164)',\n    color: 'black'\n  }, {\n    limit: 10,\n    background: 'rgb(190,226,188)',\n    color: 'black'\n  }, {\n    limit: 25,\n    background: 'rgb(238,229,229)',\n    color: 'black'\n  }, {\n    limit: 40,\n    background: 'rgb(243,187,161)',\n    color: 'white'\n  }, {\n    limit: 55,\n    background: 'rgb(238,154,119)',\n    color: 'white'\n  }, {\n    limit: 70,\n    background: 'rgb(235,123,85)',\n    color: 'white'\n  }, {\n    limit: 85,\n    background: 'rgb(230,91,55)',\n    color: 'white'\n  }, {\n    limit: 100,\n    background: 'rgb(214,61,33)',\n    color: 'white'\n  }];\n  var GROUP_COLOR = {\n    'people-group-a': 'rgb(99,133,241)',\n    'people-group-b': 'rgb(116,213,157)'\n  };\n  var GROUP_SEPARATOR_WIDTH = 4;\n\n  var getFormatter = function getFormatter() {\n    var enablePrefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return function (value) {\n      var prefix = enablePrefix && value > 0 ? '+' : '';\n      var suffix = value !== 0 ? '%' : '';\n      return \"\".concat(prefix).concat(value).concat(suffix);\n    };\n  };\n\n  var getTargetColor = function getTargetColor(value) {\n    var _PALETTE_COLORS$find;\n\n    return (_PALETTE_COLORS$find = PALETTE_COLORS.find(function (color) {\n      return color.limit >= value;\n    })) !== null && _PALETTE_COLORS$find !== void 0 ? _PALETTE_COLORS$find : PALETTE_COLORS[PALETTE_COLORS.length - 1];\n  };\n\n  var CustomColCell = /*#__PURE__*/function (_ColCell) {\n    _inherits(CustomColCell, _ColCell);\n\n    var _super = _createSuper(CustomColCell);\n\n    function CustomColCell() {\n      _classCallCheck(this, CustomColCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomColCell, [{\n      key: \"initCell\",\n      value: function initCell() {\n        _get(_getPrototypeOf(CustomColCell.prototype), \"initCell\", this).call(this);\n\n        this.renderGroupSeparator();\n      }\n    }, {\n      key: \"renderGroupSeparator\",\n      value: function renderGroupSeparator() {\n        var _this$meta = this.meta,\n            label = _this$meta.label,\n            isLeaf = _this$meta.isLeaf; // 只需要为 A B 群组绘制标识\n\n        if (!isLeaf || label === 'people-group-delta') {\n          return;\n        }\n\n        var fill = GROUP_COLOR[label];\n\n        var _this$textShape$getBB = this.textShape.getBBox(),\n            x = _this$textShape$getBB.x,\n            y = _this$textShape$getBB.y,\n            height = _this$textShape$getBB.height;\n\n        this.addShape('rect', {\n          attrs: {\n            x: x - GROUP_SEPARATOR_WIDTH * 1.5,\n            y: y,\n            height: height,\n            width: GROUP_SEPARATOR_WIDTH,\n            fill: fill\n          }\n        });\n      }\n    }]);\n\n    return CustomColCell;\n  }(_s.ColCell);\n\n  var PaletteLegend = function PaletteLegend() {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-legend\"\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-limit\"\n    }, \"-56%\"), PALETTE_COLORS.map(function (color) {\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        key: color.background,\n        className: \"palette-color\",\n        style: {\n          background: color.background\n        }\n      });\n    }), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"palette-limit\"\n    }, \"96.32%\"));\n  };\n\n  fetch('../data/multiple-people-comparison.json').then(function (res) {\n    return res.json();\n  }).then(function (_ref) {\n    var data = _ref.data;\n    var s2DataConfig = {\n      fields: {\n        rows: ['type', 'job'],\n        columns: ['age', 'city'],\n        values: ['people-group-a', 'people-group-b', 'people-group-delta'],\n        valueInCols: true\n      },\n      meta: [{\n        field: 'type',\n        name: '类别'\n      }, {\n        field: 'job',\n        name: '职业'\n      }, {\n        field: 'age',\n        name: '年龄分布'\n      }, {\n        field: 'city',\n        name: '所在城市'\n      }, {\n        field: 'people-group-a',\n        name: 'A人群',\n        formatter: getFormatter()\n      }, {\n        field: 'people-group-b',\n        name: 'B人群',\n        formatter: getFormatter()\n      }, {\n        field: 'people-group-delta',\n        name: '差值',\n        formatter: getFormatter(true)\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      tooltip: {\n        operation: {\n          trend: true,\n          hiddenColumns: true\n        }\n      },\n      interaction: {\n        selectedCellsSpotlight: true,\n        hoverHighlight: false\n      },\n      style: {\n        layoutWidthType: 'colAdaptive',\n        cellCfg: {\n          width: 100\n        }\n      },\n      conditions: {\n        text: [{\n          field: 'people-group-delta',\n          mapping: function mapping(value) {\n            var _getTargetColor = getTargetColor(value),\n                color = _getTargetColor.color;\n\n            return {\n              fill: color\n            };\n          }\n        }],\n        background: [{\n          field: 'people-group-delta',\n          mapping: function mapping(value) {\n            var _getTargetColor2 = getTargetColor(value),\n                background = _getTargetColor2.background;\n\n            return {\n              fill: background\n            };\n          }\n        }]\n      },\n      colCell: function colCell(viewMeta, spreadsheet, headerConfig) {\n        return new CustomColCell(viewMeta, spreadsheet, headerConfig);\n      }\n    };\n    var theme = {\n      dataCell: {\n        // 父节点\n        bolderText: {\n          fill: 'rgb(84,84,84)'\n        },\n        // 子节点\n        text: {\n          fill: 'rgb(84,84,84)'\n        }\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\",\n      themeCfg: {\n        theme: theme\n      },\n      header: {\n        title: '多人群对比表',\n        extra: [/*#__PURE__*/_react.default.createElement(PaletteLegend, null)]\n      }\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n\\n  .ant-page-header {\\n    margin: 0 !important;\\n    padding: 0 !important;\\n  }\\n\\n  .palette-legend {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    margin-top: 8px;\\n  }\\n\\n  .palette-color {\\n    width: 12px;\\n    height: 12px;\\n  }\\n\\n  .palette-limit{\\n    font-size: 12px;\\n    color: rgb(94,94,94);\\n  }\\n\\n  .palette-color + .palette-limit {\\n    margin-left: 5px;\\n  }\\n\\n  .palette-limit + .palette-color {\\n    margin-left: 5px;\\n  }\\n\");\n});"},{"relativePath":"case/comparison/demo/measure-comparison.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/comparison/demo/measure-comparison.tsx","order":0,"filename":"measure-comparison.tsx","title":{"zh":"指标对比表","en":"Measure Comparison Sheet"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/Hp592db5za/60960a3d-f405-4474-a412-95721a21654d.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  ColCell,\n  DataCell,\n  CornerCell,\n  Frame,\n  ID_SEPARATOR,\n  measureTextWidth,\n} from '@antv/s2';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst UP_COLOR = '#F46649';\nconst DOWN_COLOR = '#2AA491';\nconst TAG_HEIGHT = 20; // 指标高度\nconst TAG_WIDTH = 80; // 指标宽度\n\nclass CustomColCell extends ColCell {\n  lineConfig = {};\n\n  lineConfigStyle = {};\n\n  initCell() {\n    super.initCell();\n    this.drawLeftBorder();\n  }\n\n  handleRestOptions(...[headerConfig, lineConfig, lineConfigStyle]) {\n    this.headerConfig = headerConfig;\n    this.lineConfig = lineConfig || {};\n    this.lineConfigStyle = lineConfigStyle || {};\n  }\n\n  getCellArea() {\n    const { x, y, height, width, parent } = this.meta;\n    if (parent?.id === 'root') {\n      return {\n        x,\n        y: y + (height - TAG_HEIGHT),\n        height: TAG_HEIGHT,\n        width: TAG_WIDTH,\n      };\n    }\n    return { x, y, height, width };\n  }\n\n  // 绘制背景\n  drawBackgroundShape() {\n    const { parent } = this.meta;\n    if (parent?.id === 'root' && this.lineConfigStyle.stroke) {\n      this.backgroundShape = this.addShape('rect', {\n        attrs: {\n          ...this.getCellArea(),\n          fill: this.lineConfigStyle.stroke,\n        },\n      });\n    } else {\n      super.drawBackgroundShape();\n    }\n  }\n\n  // 交互显示\n  drawInteractiveBgShape() {\n    const { parent } = this.meta;\n    if (parent?.id === 'root') {\n      return;\n    }\n    super.drawInteractiveBgShape();\n  }\n\n  // 绘制文本\n  drawTextShape() {\n    const { value, parent } = this.meta;\n    if (parent?.id === 'root') {\n      const position = this.getTextPosition();\n      const textStyle = this.getTextStyle();\n      this.textShape = this.addShape('text', {\n        attrs: {\n          x: position.x,\n          y: position.y,\n          text: value,\n          fill: this.lineConfigStyle.stroke ? '#FFF' : textStyle.fill,\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n      });\n    } else {\n      super.drawTextShape();\n    }\n  }\n\n  drawLeftBorder() {\n    const { x, y, children, parent, colIndex, value, height } = this.meta;\n    const groupCache = this?.spreadsheet?.store?.get('groupCache') || {};\n    const indexCache = this?.spreadsheet?.store?.get('indexCache') || {};\n    const {\n      horizontalBorderColor,\n      horizontalBorderWidth,\n      verticalBorderColorOpacity,\n    } = this.getStyle().cell;\n    if (parent?.id === 'root') {\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y + height - TAG_HEIGHT,\n          x2: x,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n        },\n      });\n      groupCache[children?.[0]?.value] = 1;\n      this?.spreadsheet?.store?.set('groupCache', groupCache);\n    } else if (groupCache[value]) {\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y,\n          x2: x,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n        },\n      });\n    }\n    if (parent?.parent?.id === 'root') {\n      if (this.lineConfig[value]) {\n        indexCache[colIndex + 1] = 1;\n        this.spreadsheet?.store?.set('indexCache', indexCache);\n      }\n      if (indexCache[colIndex]) {\n        this.addShape('line', {\n          attrs: {\n            x1: x,\n            y1: y,\n            x2: x,\n            y2: y + height,\n            stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n            lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n            opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity,\n          },\n        });\n      }\n    }\n  }\n}\n\nclass CustomDataCell extends DataCell {\n  lineConfig = {};\n\n  lineConfigStyle = {};\n\n  customConditions = {};\n\n  textConfig = {};\n\n  initCell() {\n    super.initCell();\n    this.drawLeftBorder();\n    this.drawRightBorder();\n  }\n\n  handleRestOptions(options) {\n    const { lineConfig, lineConfigStyle, conditions, textConfig } = options;\n    this.lineConfig = lineConfig;\n    this.lineConfigStyle = lineConfigStyle;\n    this.customConditions = conditions;\n    this.textConfig = textConfig;\n  }\n\n  // 自定义icon显示\n  getIconStyle() {\n    const tagName = Object.keys(this.customConditions).find((item) =>\n      this.meta.colId?.includes(`root${ID_SEPARATOR}${item}${ID_SEPARATOR}`),\n    );\n    if (tagName) {\n      this.conditions = {\n        ...this.conditions,\n        ...(this.customConditions?.[tagName] || []),\n      };\n    }\n    return super.getIconStyle();\n  }\n\n  drawTextShape() {\n    const { fieldValue } = this.meta;\n    const tagName = Object.keys(this.textConfig).find((item) =>\n      this.meta.colId?.includes(`root${ID_SEPARATOR}${item}${ID_SEPARATOR}`),\n    );\n\n    if (tagName) {\n      const { getCustomFormattedValue, getCustomTextStyle } =\n        this.textConfig[tagName] || {};\n      const { formattedValue: defaultFormattedValue } =\n        this.getFormattedFieldValue();\n      let formattedValue = defaultFormattedValue;\n      if (getCustomFormattedValue) {\n        formattedValue = getCustomFormattedValue(fieldValue);\n      }\n      const textStyle = this.getTextStyle();\n      this.actualTextWidth = measureTextWidth(formattedValue, textStyle);\n      const position = this.getTextPosition();\n\n      this.textShape = this.addShape('text', {\n        attrs: {\n          x: position.x,\n          y: position.y,\n          text: formattedValue,\n          ...textStyle,\n          ...(getCustomTextStyle(fieldValue, textStyle) || {}),\n        },\n      });\n    } else {\n      super.drawTextShape();\n    }\n  }\n\n  drawLeftBorder() {\n    const { x, y, colIndex, valueField, height } = this.meta;\n    const indexCache = this.spreadsheet.store.get('dataIndexCache') || {};\n    const valueLength = this.spreadsheet.dataCfg.fields.values.length;\n    const currentConfig = this.lineConfig[valueField];\n    const {\n      horizontalBorderColor,\n      horizontalBorderWidth,\n      verticalBorderColorOpacity,\n    } = this.getStyle().cell;\n\n    if (colIndex % valueLength === 0) {\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y,\n          x2: x,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n        },\n      });\n    }\n    if (indexCache[colIndex]) {\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y,\n          x2: x,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n          opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity,\n        },\n      });\n    }\n    if (currentConfig) {\n      indexCache[colIndex + 1] = 1;\n      this.spreadsheet?.store?.set('dataIndexCache', indexCache);\n    }\n  }\n\n  drawRightBorder() {\n    const { x, y, width, valueField, colIndex, height, spreadsheet } =\n      this.meta;\n    const valueLength = spreadsheet.dataCfg.fields.values.length;\n    const currentConfig = this.lineConfig[valueField];\n    const {\n      horizontalBorderColor,\n      horizontalBorderWidth,\n      verticalBorderColorOpacity,\n    } = this.getStyle().cell;\n    if (currentConfig) {\n      this.addShape('line', {\n        attrs: {\n          x1: x + width,\n          y1: y,\n          x2: x + width,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n          opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity,\n        },\n      });\n    }\n    const tagLength = [...(spreadsheet.dataSet.colPivotMeta || [])].length;\n    const shouldAddRightLine =\n      (colIndex + 1) % valueLength === 0 &&\n      colIndex + 1 !== tagLength * valueLength; // 除了表格最后一列,每个 tag 最后一个子列加 right line\n    if (shouldAddRightLine) {\n      this.addShape('line', {\n        attrs: {\n          x1: x + width,\n          y1: y,\n          x2: x + width,\n          y2: y + height,\n          stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n          lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n        },\n      });\n    }\n  }\n}\n\nclass CustomFrame extends Frame {\n  layout() {\n    super.layout();\n    // corner右边的竖线条\n    this.addCornerRightBorder();\n  }\n\n  addCornerRightBorder() {\n    const {\n      width,\n      height,\n      viewportHeight,\n      position,\n      spreadsheet,\n      lineConfigStyle,\n    } = this.cfg;\n    const {\n      verticalBorderColor,\n      verticalBorderWidth,\n      verticalBorderColorOpacity,\n    } = spreadsheet.theme?.splitLine || {};\n    const x = position.x + width;\n    const y1 = position.y;\n    const y2 = position.y + height + viewportHeight;\n    if (spreadsheet.store.get('scrollX') > 0) {\n      // 滚动时使用默认的颜色\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y1 + height / 2 - TAG_HEIGHT,\n          x2: x,\n          y2,\n          stroke: verticalBorderColor,\n          lineWidth: verticalBorderWidth,\n          opacity: verticalBorderColorOpacity,\n        },\n      });\n    } else {\n      this.addShape('line', {\n        attrs: {\n          x1: x,\n          y1: y1 + height / 2 - TAG_HEIGHT,\n          x2: x,\n          y2,\n          stroke: lineConfigStyle?.stroke || verticalBorderColor,\n          lineWidth: lineConfigStyle?.lineWidth || verticalBorderWidth,\n        },\n      });\n    }\n  }\n\n  addSplitLineRightShadow() {\n    const {\n      width,\n      height,\n      viewportHeight,\n      position,\n      isPivotMode,\n      spreadsheet,\n      showViewPortRightShadow,\n    } = this.cfg;\n    if (!isPivotMode || spreadsheet.store.get('scrollX') === 0) {\n      return;\n    }\n    // 滚动时使用默认的颜色\n    const { showRightShadow, shadowWidth, shadowColors } =\n      spreadsheet.theme?.splitLine || {};\n    if (\n      showRightShadow &&\n      showViewPortRightShadow &&\n      spreadsheet.isFrozenRowHeader()\n    ) {\n      const x = position.x + width;\n      const y = position.y;\n      this.addShape('rect', {\n        attrs: {\n          x,\n          y: y + height / 2,\n          width: shadowWidth,\n          height: viewportHeight + height - height / 2,\n          fill: `l (0) 0:${shadowColors?.left} 1:${shadowColors?.right}`,\n        },\n      });\n    }\n  }\n}\n\nclass CustomCornelCell extends CornerCell {\n  drawCellText() {\n    if (this.meta.cornerType === 'col') {\n      return;\n    }\n    super.drawCellText();\n  }\n  drawBackgroundShape() {\n    const { backgroundColorOpacity, backgroundColor } = this.getStyle().cell;\n    const attrs = {\n      ...this.getCellArea(),\n      fill: this.meta.cornerType === 'col' ? '#FFF' : backgroundColor,\n      opacity: backgroundColorOpacity,\n    };\n    this.backgroundShape = this.addShape('rect', {\n      attrs,\n    });\n  }\n  drawBorderShape() {}\n}\n\nfetch('../data/index-comparison.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const s2DataConfig = {\n      fields: {\n        rows: ['type'],\n        columns: ['tag'],\n        values: ['price', 'uv', 'pv', 'click_uv'],\n      },\n      meta: [\n        {\n          field: 'type',\n          name: '服装服饰',\n        },\n        {\n          field: 'price',\n          name: '金额',\n        },\n        {\n          field: 'uv',\n          name: '搜索uv',\n        },\n        {\n          field: 'pv',\n          name: '搜索pv',\n        },\n        {\n          field: 'click_uv',\n          name: '点击uv',\n        },\n      ],\n      data,\n    };\n    const getIcon = (fieldValue) => {\n      return parseFloat(fieldValue) > 0\n        ? 'CellUp'\n        : fieldValue < 0\n        ? 'CellDown'\n        : '';\n    };\n    const conditionsIcon = [\n      {\n        field: 'price',\n        mapping(fieldValue) {\n          return {\n            icon: getIcon(fieldValue),\n          };\n        },\n      },\n      {\n        field: 'uv',\n        mapping(fieldValue) {\n          return {\n            icon: getIcon(fieldValue),\n          };\n        },\n      },\n      {\n        field: 'click_uv',\n        mapping(fieldValue) {\n          return {\n            icon: getIcon(fieldValue),\n          };\n        },\n      },\n    ];\n    // 自定义文字样式\n    const getCustomTextStyle = (value, textStyle) => {\n      return {\n        fill:\n          parseFloat(value) > 0\n            ? UP_COLOR\n            : parseFloat(value) < 0\n            ? DOWN_COLOR\n            : textStyle?.fill,\n      };\n    };\n    // 列分组竖线样式配置\n    const lineConfigStyle = {\n      stroke: '#3471F9',\n      lineWidth: 1,\n      opacity: 0.5,\n    };\n    // 列分组配置\n    const lineConfig = {\n      price: 1,\n      pv: 1,\n    };\n    const s2Options = {\n      width: 600,\n      height: 480,\n      showDefaultHeaderActionIcon: false,\n      tooltip: {\n        showTooltip: false,\n      },\n      colCell: (node, spreadsheet, ...restOptions) => {\n        return new CustomColCell(\n          node,\n          spreadsheet,\n          ...restOptions,\n          lineConfig,\n          lineConfigStyle,\n        );\n      },\n      dataCell: (viewMeta) => {\n        return new CustomDataCell(viewMeta, viewMeta.spreadsheet, {\n          lineConfig,\n          lineConfigStyle,\n          conditions: {\n            周环比差值: {\n              icon: conditionsIcon,\n            },\n            周环比率: {\n              icon: conditionsIcon,\n            },\n          },\n          textConfig: {\n            周环比差值: {\n              // 自定义文字样式\n              getCustomTextStyle,\n            },\n            周环比率: {\n              // 自定义文字formatted\n              getCustomFormattedValue: (value) => {\n                return `${parseFloat(value)?.toFixed(4) * 100}%`;\n              },\n              // 自定义文字样式\n              getCustomTextStyle,\n            },\n          },\n        });\n      },\n      cornerCell: (node, s2, headConfig) => {\n        return new CustomCornelCell(node, s2, headConfig);\n      },\n      frame: (cfg) => {\n        return new CustomFrame({ ...cfg, lineConfigStyle });\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        sheetType=\"pivot\"\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2, global.s2React, global.styleMin);\n    global.measureComparison = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  var UP_COLOR = '#F46649';\n  var DOWN_COLOR = '#2AA491';\n  var TAG_HEIGHT = 20; // 指标高度\n\n  var TAG_WIDTH = 80; // 指标宽度\n\n  var CustomColCell = /*#__PURE__*/function (_ColCell) {\n    _inherits(CustomColCell, _ColCell);\n\n    var _super = _createSuper(CustomColCell);\n\n    function CustomColCell() {\n      var _this;\n\n      _classCallCheck(this, CustomColCell);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this), \"lineConfig\", {});\n\n      _defineProperty(_assertThisInitialized(_this), \"lineConfigStyle\", {});\n\n      return _this;\n    }\n\n    _createClass(CustomColCell, [{\n      key: \"initCell\",\n      value: function initCell() {\n        _get(_getPrototypeOf(CustomColCell.prototype), \"initCell\", this).call(this);\n\n        this.drawLeftBorder();\n      }\n    }, {\n      key: \"handleRestOptions\",\n      value: function handleRestOptions() {\n        for (var _len2 = arguments.length, _ref = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          _ref[_key2] = arguments[_key2];\n        }\n\n        var headerConfig = _ref[0],\n            lineConfig = _ref[1],\n            lineConfigStyle = _ref[2];\n        this.headerConfig = headerConfig;\n        this.lineConfig = lineConfig || {};\n        this.lineConfigStyle = lineConfigStyle || {};\n      }\n    }, {\n      key: \"getCellArea\",\n      value: function getCellArea() {\n        var _this$meta = this.meta,\n            x = _this$meta.x,\n            y = _this$meta.y,\n            height = _this$meta.height,\n            width = _this$meta.width,\n            parent = _this$meta.parent;\n\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === 'root') {\n          return {\n            x: x,\n            y: y + (height - TAG_HEIGHT),\n            height: TAG_HEIGHT,\n            width: TAG_WIDTH\n          };\n        }\n\n        return {\n          x: x,\n          y: y,\n          height: height,\n          width: width\n        };\n      } // 绘制背景\n\n    }, {\n      key: \"drawBackgroundShape\",\n      value: function drawBackgroundShape() {\n        var parent = this.meta.parent;\n\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === 'root' && this.lineConfigStyle.stroke) {\n          this.backgroundShape = this.addShape('rect', {\n            attrs: { ...this.getCellArea(),\n              fill: this.lineConfigStyle.stroke\n            }\n          });\n        } else {\n          _get(_getPrototypeOf(CustomColCell.prototype), \"drawBackgroundShape\", this).call(this);\n        }\n      } // 交互显示\n\n    }, {\n      key: \"drawInteractiveBgShape\",\n      value: function drawInteractiveBgShape() {\n        var parent = this.meta.parent;\n\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === 'root') {\n          return;\n        }\n\n        _get(_getPrototypeOf(CustomColCell.prototype), \"drawInteractiveBgShape\", this).call(this);\n      } // 绘制文本\n\n    }, {\n      key: \"drawTextShape\",\n      value: function drawTextShape() {\n        var _this$meta2 = this.meta,\n            value = _this$meta2.value,\n            parent = _this$meta2.parent;\n\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === 'root') {\n          var position = this.getTextPosition();\n          var textStyle = this.getTextStyle();\n          this.textShape = this.addShape('text', {\n            attrs: {\n              x: position.x,\n              y: position.y,\n              text: value,\n              fill: this.lineConfigStyle.stroke ? '#FFF' : textStyle.fill,\n              textAlign: 'center',\n              textBaseline: 'middle'\n            }\n          });\n        } else {\n          _get(_getPrototypeOf(CustomColCell.prototype), \"drawTextShape\", this).call(this);\n        }\n      }\n    }, {\n      key: \"drawLeftBorder\",\n      value: function drawLeftBorder() {\n        var _this$spreadsheet, _this$spreadsheet$sto, _this$spreadsheet2, _this$spreadsheet2$st, _parent$parent;\n\n        var _this$meta3 = this.meta,\n            x = _this$meta3.x,\n            y = _this$meta3.y,\n            children = _this$meta3.children,\n            parent = _this$meta3.parent,\n            colIndex = _this$meta3.colIndex,\n            value = _this$meta3.value,\n            height = _this$meta3.height;\n        var groupCache = (this === null || this === void 0 ? void 0 : (_this$spreadsheet = this.spreadsheet) === null || _this$spreadsheet === void 0 ? void 0 : (_this$spreadsheet$sto = _this$spreadsheet.store) === null || _this$spreadsheet$sto === void 0 ? void 0 : _this$spreadsheet$sto.get('groupCache')) || {};\n        var indexCache = (this === null || this === void 0 ? void 0 : (_this$spreadsheet2 = this.spreadsheet) === null || _this$spreadsheet2 === void 0 ? void 0 : (_this$spreadsheet2$st = _this$spreadsheet2.store) === null || _this$spreadsheet2$st === void 0 ? void 0 : _this$spreadsheet2$st.get('indexCache')) || {};\n        var _this$getStyle$cell = this.getStyle().cell,\n            horizontalBorderColor = _this$getStyle$cell.horizontalBorderColor,\n            horizontalBorderWidth = _this$getStyle$cell.horizontalBorderWidth,\n            verticalBorderColorOpacity = _this$getStyle$cell.verticalBorderColorOpacity;\n\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === 'root') {\n          var _children$, _this$spreadsheet3, _this$spreadsheet3$st;\n\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y + height - TAG_HEIGHT,\n              x2: x,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth\n            }\n          });\n          groupCache[children === null || children === void 0 ? void 0 : (_children$ = children[0]) === null || _children$ === void 0 ? void 0 : _children$.value] = 1;\n          this === null || this === void 0 ? void 0 : (_this$spreadsheet3 = this.spreadsheet) === null || _this$spreadsheet3 === void 0 ? void 0 : (_this$spreadsheet3$st = _this$spreadsheet3.store) === null || _this$spreadsheet3$st === void 0 ? void 0 : _this$spreadsheet3$st.set('groupCache', groupCache);\n        } else if (groupCache[value]) {\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y,\n              x2: x,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth\n            }\n          });\n        }\n\n        if ((parent === null || parent === void 0 ? void 0 : (_parent$parent = parent.parent) === null || _parent$parent === void 0 ? void 0 : _parent$parent.id) === 'root') {\n          if (this.lineConfig[value]) {\n            var _this$spreadsheet4, _this$spreadsheet4$st;\n\n            indexCache[colIndex + 1] = 1;\n            (_this$spreadsheet4 = this.spreadsheet) === null || _this$spreadsheet4 === void 0 ? void 0 : (_this$spreadsheet4$st = _this$spreadsheet4.store) === null || _this$spreadsheet4$st === void 0 ? void 0 : _this$spreadsheet4$st.set('indexCache', indexCache);\n          }\n\n          if (indexCache[colIndex]) {\n            this.addShape('line', {\n              attrs: {\n                x1: x,\n                y1: y,\n                x2: x,\n                y2: y + height,\n                stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n                lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n                opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity\n              }\n            });\n          }\n        }\n      }\n    }]);\n\n    return CustomColCell;\n  }(_s.ColCell);\n\n  var CustomDataCell = /*#__PURE__*/function (_DataCell) {\n    _inherits(CustomDataCell, _DataCell);\n\n    var _super2 = _createSuper(CustomDataCell);\n\n    function CustomDataCell() {\n      var _this2;\n\n      _classCallCheck(this, CustomDataCell);\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      _this2 = _super2.call.apply(_super2, [this].concat(args));\n\n      _defineProperty(_assertThisInitialized(_this2), \"lineConfig\", {});\n\n      _defineProperty(_assertThisInitialized(_this2), \"lineConfigStyle\", {});\n\n      _defineProperty(_assertThisInitialized(_this2), \"customConditions\", {});\n\n      _defineProperty(_assertThisInitialized(_this2), \"textConfig\", {});\n\n      return _this2;\n    }\n\n    _createClass(CustomDataCell, [{\n      key: \"initCell\",\n      value: function initCell() {\n        _get(_getPrototypeOf(CustomDataCell.prototype), \"initCell\", this).call(this);\n\n        this.drawLeftBorder();\n        this.drawRightBorder();\n      }\n    }, {\n      key: \"handleRestOptions\",\n      value: function handleRestOptions(options) {\n        var lineConfig = options.lineConfig,\n            lineConfigStyle = options.lineConfigStyle,\n            conditions = options.conditions,\n            textConfig = options.textConfig;\n        this.lineConfig = lineConfig;\n        this.lineConfigStyle = lineConfigStyle;\n        this.customConditions = conditions;\n        this.textConfig = textConfig;\n      } // 自定义icon显示\n\n    }, {\n      key: \"getIconStyle\",\n      value: function getIconStyle() {\n        var _this3 = this;\n\n        var tagName = Object.keys(this.customConditions).find(function (item) {\n          var _this3$meta$colId;\n\n          return (_this3$meta$colId = _this3.meta.colId) === null || _this3$meta$colId === void 0 ? void 0 : _this3$meta$colId.includes(\"root\".concat(_s.ID_SEPARATOR).concat(item).concat(_s.ID_SEPARATOR));\n        });\n\n        if (tagName) {\n          var _this$customCondition;\n\n          this.conditions = { ...this.conditions,\n            ...(((_this$customCondition = this.customConditions) === null || _this$customCondition === void 0 ? void 0 : _this$customCondition[tagName]) || [])\n          };\n        }\n\n        return _get(_getPrototypeOf(CustomDataCell.prototype), \"getIconStyle\", this).call(this);\n      }\n    }, {\n      key: \"drawTextShape\",\n      value: function drawTextShape() {\n        var _this4 = this;\n\n        var fieldValue = this.meta.fieldValue;\n        var tagName = Object.keys(this.textConfig).find(function (item) {\n          var _this4$meta$colId;\n\n          return (_this4$meta$colId = _this4.meta.colId) === null || _this4$meta$colId === void 0 ? void 0 : _this4$meta$colId.includes(\"root\".concat(_s.ID_SEPARATOR).concat(item).concat(_s.ID_SEPARATOR));\n        });\n\n        if (tagName) {\n          var _ref2 = this.textConfig[tagName] || {},\n              getCustomFormattedValue = _ref2.getCustomFormattedValue,\n              getCustomTextStyle = _ref2.getCustomTextStyle;\n\n          var _this$getFormattedFie = this.getFormattedFieldValue(),\n              defaultFormattedValue = _this$getFormattedFie.formattedValue;\n\n          var formattedValue = defaultFormattedValue;\n\n          if (getCustomFormattedValue) {\n            formattedValue = getCustomFormattedValue(fieldValue);\n          }\n\n          var textStyle = this.getTextStyle();\n          this.actualTextWidth = (0, _s.measureTextWidth)(formattedValue, textStyle);\n          var position = this.getTextPosition();\n          this.textShape = this.addShape('text', {\n            attrs: {\n              x: position.x,\n              y: position.y,\n              text: formattedValue,\n              ...textStyle,\n              ...(getCustomTextStyle(fieldValue, textStyle) || {})\n            }\n          });\n        } else {\n          _get(_getPrototypeOf(CustomDataCell.prototype), \"drawTextShape\", this).call(this);\n        }\n      }\n    }, {\n      key: \"drawLeftBorder\",\n      value: function drawLeftBorder() {\n        var _this$meta4 = this.meta,\n            x = _this$meta4.x,\n            y = _this$meta4.y,\n            colIndex = _this$meta4.colIndex,\n            valueField = _this$meta4.valueField,\n            height = _this$meta4.height;\n        var indexCache = this.spreadsheet.store.get('dataIndexCache') || {};\n        var valueLength = this.spreadsheet.dataCfg.fields.values.length;\n        var currentConfig = this.lineConfig[valueField];\n        var _this$getStyle$cell2 = this.getStyle().cell,\n            horizontalBorderColor = _this$getStyle$cell2.horizontalBorderColor,\n            horizontalBorderWidth = _this$getStyle$cell2.horizontalBorderWidth,\n            verticalBorderColorOpacity = _this$getStyle$cell2.verticalBorderColorOpacity;\n\n        if (colIndex % valueLength === 0) {\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y,\n              x2: x,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth\n            }\n          });\n        }\n\n        if (indexCache[colIndex]) {\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y,\n              x2: x,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n              opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity\n            }\n          });\n        }\n\n        if (currentConfig) {\n          var _this$spreadsheet5, _this$spreadsheet5$st;\n\n          indexCache[colIndex + 1] = 1;\n          (_this$spreadsheet5 = this.spreadsheet) === null || _this$spreadsheet5 === void 0 ? void 0 : (_this$spreadsheet5$st = _this$spreadsheet5.store) === null || _this$spreadsheet5$st === void 0 ? void 0 : _this$spreadsheet5$st.set('dataIndexCache', indexCache);\n        }\n      }\n    }, {\n      key: \"drawRightBorder\",\n      value: function drawRightBorder() {\n        var _this$meta5 = this.meta,\n            x = _this$meta5.x,\n            y = _this$meta5.y,\n            width = _this$meta5.width,\n            valueField = _this$meta5.valueField,\n            colIndex = _this$meta5.colIndex,\n            height = _this$meta5.height,\n            spreadsheet = _this$meta5.spreadsheet;\n        var valueLength = spreadsheet.dataCfg.fields.values.length;\n        var currentConfig = this.lineConfig[valueField];\n        var _this$getStyle$cell3 = this.getStyle().cell,\n            horizontalBorderColor = _this$getStyle$cell3.horizontalBorderColor,\n            horizontalBorderWidth = _this$getStyle$cell3.horizontalBorderWidth,\n            verticalBorderColorOpacity = _this$getStyle$cell3.verticalBorderColorOpacity;\n\n        if (currentConfig) {\n          this.addShape('line', {\n            attrs: {\n              x1: x + width,\n              y1: y,\n              x2: x + width,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth,\n              opacity: this.lineConfigStyle.opacity || verticalBorderColorOpacity\n            }\n          });\n        }\n\n        var tagLength = _toConsumableArray(spreadsheet.dataSet.colPivotMeta || []).length;\n\n        var shouldAddRightLine = (colIndex + 1) % valueLength === 0 && colIndex + 1 !== tagLength * valueLength; // 除了表格最后一列,每个 tag 最后一个子列加 right line\n\n        if (shouldAddRightLine) {\n          this.addShape('line', {\n            attrs: {\n              x1: x + width,\n              y1: y,\n              x2: x + width,\n              y2: y + height,\n              stroke: this.lineConfigStyle.stroke || horizontalBorderColor,\n              lineWidth: this.lineConfigStyle.lineWidth || horizontalBorderWidth\n            }\n          });\n        }\n      }\n    }]);\n\n    return CustomDataCell;\n  }(_s.DataCell);\n\n  var CustomFrame = /*#__PURE__*/function (_Frame) {\n    _inherits(CustomFrame, _Frame);\n\n    var _super3 = _createSuper(CustomFrame);\n\n    function CustomFrame() {\n      _classCallCheck(this, CustomFrame);\n\n      return _super3.apply(this, arguments);\n    }\n\n    _createClass(CustomFrame, [{\n      key: \"layout\",\n      value: function layout() {\n        _get(_getPrototypeOf(CustomFrame.prototype), \"layout\", this).call(this); // corner右边的竖线条\n\n\n        this.addCornerRightBorder();\n      }\n    }, {\n      key: \"addCornerRightBorder\",\n      value: function addCornerRightBorder() {\n        var _spreadsheet$theme;\n\n        var _this$cfg = this.cfg,\n            width = _this$cfg.width,\n            height = _this$cfg.height,\n            viewportHeight = _this$cfg.viewportHeight,\n            position = _this$cfg.position,\n            spreadsheet = _this$cfg.spreadsheet,\n            lineConfigStyle = _this$cfg.lineConfigStyle;\n\n        var _ref3 = ((_spreadsheet$theme = spreadsheet.theme) === null || _spreadsheet$theme === void 0 ? void 0 : _spreadsheet$theme.splitLine) || {},\n            verticalBorderColor = _ref3.verticalBorderColor,\n            verticalBorderWidth = _ref3.verticalBorderWidth,\n            verticalBorderColorOpacity = _ref3.verticalBorderColorOpacity;\n\n        var x = position.x + width;\n        var y1 = position.y;\n        var y2 = position.y + height + viewportHeight;\n\n        if (spreadsheet.store.get('scrollX') > 0) {\n          // 滚动时使用默认的颜色\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y1 + height / 2 - TAG_HEIGHT,\n              x2: x,\n              y2: y2,\n              stroke: verticalBorderColor,\n              lineWidth: verticalBorderWidth,\n              opacity: verticalBorderColorOpacity\n            }\n          });\n        } else {\n          this.addShape('line', {\n            attrs: {\n              x1: x,\n              y1: y1 + height / 2 - TAG_HEIGHT,\n              x2: x,\n              y2: y2,\n              stroke: (lineConfigStyle === null || lineConfigStyle === void 0 ? void 0 : lineConfigStyle.stroke) || verticalBorderColor,\n              lineWidth: (lineConfigStyle === null || lineConfigStyle === void 0 ? void 0 : lineConfigStyle.lineWidth) || verticalBorderWidth\n            }\n          });\n        }\n      }\n    }, {\n      key: \"addSplitLineRightShadow\",\n      value: function addSplitLineRightShadow() {\n        var _spreadsheet$theme2;\n\n        var _this$cfg2 = this.cfg,\n            width = _this$cfg2.width,\n            height = _this$cfg2.height,\n            viewportHeight = _this$cfg2.viewportHeight,\n            position = _this$cfg2.position,\n            isPivotMode = _this$cfg2.isPivotMode,\n            spreadsheet = _this$cfg2.spreadsheet,\n            showViewPortRightShadow = _this$cfg2.showViewPortRightShadow;\n\n        if (!isPivotMode || spreadsheet.store.get('scrollX') === 0) {\n          return;\n        } // 滚动时使用默认的颜色\n\n\n        var _ref4 = ((_spreadsheet$theme2 = spreadsheet.theme) === null || _spreadsheet$theme2 === void 0 ? void 0 : _spreadsheet$theme2.splitLine) || {},\n            showRightShadow = _ref4.showRightShadow,\n            shadowWidth = _ref4.shadowWidth,\n            shadowColors = _ref4.shadowColors;\n\n        if (showRightShadow && showViewPortRightShadow && spreadsheet.isFrozenRowHeader()) {\n          var x = position.x + width;\n          var y = position.y;\n          this.addShape('rect', {\n            attrs: {\n              x: x,\n              y: y + height / 2,\n              width: shadowWidth,\n              height: viewportHeight + height - height / 2,\n              fill: \"l (0) 0:\".concat(shadowColors === null || shadowColors === void 0 ? void 0 : shadowColors.left, \" 1:\").concat(shadowColors === null || shadowColors === void 0 ? void 0 : shadowColors.right)\n            }\n          });\n        }\n      }\n    }]);\n\n    return CustomFrame;\n  }(_s.Frame);\n\n  var CustomCornelCell = /*#__PURE__*/function (_CornerCell) {\n    _inherits(CustomCornelCell, _CornerCell);\n\n    var _super4 = _createSuper(CustomCornelCell);\n\n    function CustomCornelCell() {\n      _classCallCheck(this, CustomCornelCell);\n\n      return _super4.apply(this, arguments);\n    }\n\n    _createClass(CustomCornelCell, [{\n      key: \"drawCellText\",\n      value: function drawCellText() {\n        if (this.meta.cornerType === 'col') {\n          return;\n        }\n\n        _get(_getPrototypeOf(CustomCornelCell.prototype), \"drawCellText\", this).call(this);\n      }\n    }, {\n      key: \"drawBackgroundShape\",\n      value: function drawBackgroundShape() {\n        var _this$getStyle$cell4 = this.getStyle().cell,\n            backgroundColorOpacity = _this$getStyle$cell4.backgroundColorOpacity,\n            backgroundColor = _this$getStyle$cell4.backgroundColor;\n        var attrs = { ...this.getCellArea(),\n          fill: this.meta.cornerType === 'col' ? '#FFF' : backgroundColor,\n          opacity: backgroundColorOpacity\n        };\n        this.backgroundShape = this.addShape('rect', {\n          attrs: attrs\n        });\n      }\n    }, {\n      key: \"drawBorderShape\",\n      value: function drawBorderShape() {}\n    }]);\n\n    return CustomCornelCell;\n  }(_s.CornerCell);\n\n  fetch('../data/index-comparison.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var s2DataConfig = {\n      fields: {\n        rows: ['type'],\n        columns: ['tag'],\n        values: ['price', 'uv', 'pv', 'click_uv']\n      },\n      meta: [{\n        field: 'type',\n        name: '服装服饰'\n      }, {\n        field: 'price',\n        name: '金额'\n      }, {\n        field: 'uv',\n        name: '搜索uv'\n      }, {\n        field: 'pv',\n        name: '搜索pv'\n      }, {\n        field: 'click_uv',\n        name: '点击uv'\n      }],\n      data: data\n    };\n\n    var getIcon = function getIcon(fieldValue) {\n      return parseFloat(fieldValue) > 0 ? 'CellUp' : fieldValue < 0 ? 'CellDown' : '';\n    };\n\n    var conditionsIcon = [{\n      field: 'price',\n      mapping: function mapping(fieldValue) {\n        return {\n          icon: getIcon(fieldValue)\n        };\n      }\n    }, {\n      field: 'uv',\n      mapping: function mapping(fieldValue) {\n        return {\n          icon: getIcon(fieldValue)\n        };\n      }\n    }, {\n      field: 'click_uv',\n      mapping: function mapping(fieldValue) {\n        return {\n          icon: getIcon(fieldValue)\n        };\n      }\n    }]; // 自定义文字样式\n\n    var getCustomTextStyle = function getCustomTextStyle(value, textStyle) {\n      return {\n        fill: parseFloat(value) > 0 ? UP_COLOR : parseFloat(value) < 0 ? DOWN_COLOR : textStyle === null || textStyle === void 0 ? void 0 : textStyle.fill\n      };\n    }; // 列分组竖线样式配置\n\n\n    var lineConfigStyle = {\n      stroke: '#3471F9',\n      lineWidth: 1,\n      opacity: 0.5\n    }; // 列分组配置\n\n    var lineConfig = {\n      price: 1,\n      pv: 1\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      showDefaultHeaderActionIcon: false,\n      tooltip: {\n        showTooltip: false\n      },\n      colCell: function colCell(node, spreadsheet) {\n        for (var _len4 = arguments.length, restOptions = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n          restOptions[_key4 - 2] = arguments[_key4];\n        }\n\n        return _construct(CustomColCell, [node, spreadsheet].concat(restOptions, [lineConfig, lineConfigStyle]));\n      },\n      dataCell: function dataCell(viewMeta) {\n        return new CustomDataCell(viewMeta, viewMeta.spreadsheet, {\n          lineConfig: lineConfig,\n          lineConfigStyle: lineConfigStyle,\n          conditions: {\n            周环比差值: {\n              icon: conditionsIcon\n            },\n            周环比率: {\n              icon: conditionsIcon\n            }\n          },\n          textConfig: {\n            周环比差值: {\n              // 自定义文字样式\n              getCustomTextStyle: getCustomTextStyle\n            },\n            周环比率: {\n              // 自定义文字formatted\n              getCustomFormattedValue: function getCustomFormattedValue(value) {\n                var _parseFloat;\n\n                return \"\".concat(((_parseFloat = parseFloat(value)) === null || _parseFloat === void 0 ? void 0 : _parseFloat.toFixed(4)) * 100, \"%\");\n              },\n              // 自定义文字样式\n              getCustomTextStyle: getCustomTextStyle\n            }\n          }\n        });\n      },\n      cornerCell: function cornerCell(node, s2, headConfig) {\n        return new CustomCornelCell(node, s2, headConfig);\n      },\n      frame: function frame(cfg) {\n        return new CustomFrame({ ...cfg,\n          lineConfigStyle: lineConfigStyle\n        });\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\"\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"case/comparison/demo/philosophers.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/comparison/demo/philosophers.tsx","order":3,"filename":"philosophers.tsx","title":{"zh":"哲学家的观点","en":"Points of Philosophers"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/lnIo05mgw%26/1e369f72-be9b-4be8-804d-33445bf72d41.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { max, min, replace } from 'lodash';\nimport insertCss from 'insert-css';\n\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst PALETTE_COLORS = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/24cac0f7-70f0-4131-be61-df11da3ca921.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const weights = data.map((item) => item.weight);\n    const maxWeight = max(weights);\n    const minWeight = min(weights);\n    const weightSpan = maxWeight - minWeight;\n\n    const PaletteLegend = () => (\n      <div className=\"legend\">\n        <div className=\"legend-limit\">{minWeight.toFixed(2)}</div>\n        {PALETTE_COLORS.map((color, index) => (\n          <span\n            key={index}\n            className=\"legend-color\"\n            style={{ background: color }}\n          />\n        ))}\n        <div className=\"legend-limit\">{maxWeight.toFixed(2)}</div>\n      </div>\n    );\n\n    const getFormatter = (val) => {\n      if (val < 0) {\n        return `公元前${replace(val, '-', '')}年`;\n      } else {\n        return `${val}年`;\n      }\n    };\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['country', 'name', 'start', 'end', 'points', 'word'],\n        columns: [],\n        values: ['weight'],\n      },\n      meta: [\n        {\n          field: 'word',\n          name: '关键词',\n        },\n        {\n          field: 'points',\n          name: '观点',\n        },\n        {\n          field: 'name',\n          name: '姓名',\n        },\n        {\n          field: 'country',\n          name: '国家',\n        },\n        {\n          field: 'start',\n          name: '出生',\n          formatter: getFormatter,\n        },\n        {\n          field: 'end',\n          name: '逝世',\n          formatter: getFormatter,\n        },\n        {\n          field: 'weight',\n          name: '权重',\n          formatter: (val) => val.toFixed(2),\n        },\n      ],\n      data,\n    };\n    const TooltipContent = (props) => {\n      const { rowQuery, fieldValue } = props;\n      const { name, country, start, end, points } = rowQuery;\n      const ponitsLines = points.split('&');\n      return (\n        <div className=\"antv-s2-tooltip-container\">\n          <div className=\"antv-s2-tooltip-head-info-list\">\n            <div>姓名：{name}</div>\n            <div>国家：{country}</div>\n            <div>出生：{getFormatter(start)}</div>\n            <div>逝世：{getFormatter(end)}</div>\n            {ponitsLines.length > 1 ? (\n              <div>\n                观点:\n                {ponitsLines.map((point, index) => (\n                  <div>\n                    {index + 1}: {point}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div>观点: {ponitsLines[0]}</div>\n            )}\n          </div>\n          <div className=\"antv-s2-tooltip-divider\"></div>\n          <div className=\"antv-s2-tooltip-detail-list\">\n            <div className=\"antv-s2-tooltip-detail-item\">\n              <span className=\"antv-s2-tooltip-detail-item-key\">权重</span>\n              <span className=\"antv-s2-tooltip-detail-item-val\">\n                {fieldValue}\n              </span>\n            </div>\n          </div>\n        </div>\n      );\n    };\n    const s2Options = {\n      width: '',\n      height: 400,\n      conditions: {\n        text: [\n          {\n            field: 'weight',\n            mapping(value) {\n              if (value >= 20) {\n                return {\n                  fill: '#fff',\n                };\n              }\n            },\n          },\n        ],\n        background: [\n          {\n            field: 'weight',\n            mapping(value) {\n              let backgroundColor;\n              const colorIndex =\n                Math.floor(\n                  (((value - minWeight) / weightSpan) * 100) /\n                    PALETTE_COLORS.length,\n                ) - 1;\n              if (colorIndex <= 0) {\n                backgroundColor = PALETTE_COLORS[0];\n              } else if (colorIndex >= PALETTE_COLORS.length) {\n                backgroundColor = PALETTE_COLORS[PALETTE_COLORS.length - 1];\n              } else {\n                backgroundColor = PALETTE_COLORS[colorIndex];\n              }\n\n              return {\n                fill: backgroundColor,\n              };\n            },\n          },\n        ],\n      },\n      interaction: {\n        selectedCellsSpotlight: false,\n        hoverHighlight: false,\n      },\n    };\n\n    const onDataCellMouseUp = (value) => {\n      const viewMeta = value?.viewMeta;\n      if (!viewMeta) {\n        return;\n      }\n\n      const position = {\n        x: value.event.clientX,\n        y: value.event.clientY,\n      };\n      viewMeta.spreadsheet.tooltip.show({\n        position,\n        content: TooltipContent(viewMeta),\n      });\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={s2DataConfig}\n        options={s2Options}\n        adaptive={true}\n        header={{\n          title: '哲学家的观点',\n          extra: [<PaletteLegend />],\n        }}\n        onDataCellMouseUp={onDataCellMouseUp}\n      />,\n\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .ant-page-header-compact {\n    width: 100% ;\n  }\n  .legend {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n  .legend-color {\n    width: 12px;\n    height: 12px;\n  }\n\n  .legend-limit{\n    font-size: 12px;\n    color: rgb(94,94,94);\n  }\n\n  .legend-color + .legend-limit {\n    margin-left: 5px;\n  }\n\n  .legend-limit + .legend-color {\n    margin-left: 5px;\n  }\n  .s2-header {\n    margin:0px !important;\n  }\n`);\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"lodash\", \"insert-css\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"lodash\"), require(\"insert-css\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.lodash, global.insertCss, global.s2React, global.styleMin);\n    global.philosophers = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _lodash, _insertCss, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  var PALETTE_COLORS = ['#B8E1FF', '#9AC5FF', '#7DAAFF', '#5B8FF9', '#3D76DD', '#085EC0', '#0047A5', '#00318A', '#001D70'];\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/24cac0f7-70f0-4131-be61-df11da3ca921.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var weights = data.map(function (item) {\n      return item.weight;\n    });\n    var maxWeight = (0, _lodash.max)(weights);\n    var minWeight = (0, _lodash.min)(weights);\n    var weightSpan = maxWeight - minWeight;\n\n    var PaletteLegend = function PaletteLegend() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"legend\"\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"legend-limit\"\n      }, minWeight.toFixed(2)), PALETTE_COLORS.map(function (color, index) {\n        return /*#__PURE__*/_react.default.createElement(\"span\", {\n          key: index,\n          className: \"legend-color\",\n          style: {\n            background: color\n          }\n        });\n      }), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"legend-limit\"\n      }, maxWeight.toFixed(2)));\n    };\n\n    var getFormatter = function getFormatter(val) {\n      if (val < 0) {\n        return \"\\u516C\\u5143\\u524D\".concat((0, _lodash.replace)(val, '-', ''), \"\\u5E74\");\n      } else {\n        return \"\".concat(val, \"\\u5E74\");\n      }\n    };\n\n    var s2DataConfig = {\n      fields: {\n        rows: ['country', 'name', 'start', 'end', 'points', 'word'],\n        columns: [],\n        values: ['weight']\n      },\n      meta: [{\n        field: 'word',\n        name: '关键词'\n      }, {\n        field: 'points',\n        name: '观点'\n      }, {\n        field: 'name',\n        name: '姓名'\n      }, {\n        field: 'country',\n        name: '国家'\n      }, {\n        field: 'start',\n        name: '出生',\n        formatter: getFormatter\n      }, {\n        field: 'end',\n        name: '逝世',\n        formatter: getFormatter\n      }, {\n        field: 'weight',\n        name: '权重',\n        formatter: function formatter(val) {\n          return val.toFixed(2);\n        }\n      }],\n      data: data\n    };\n\n    var TooltipContent = function TooltipContent(props) {\n      var rowQuery = props.rowQuery,\n          fieldValue = props.fieldValue;\n      var name = rowQuery.name,\n          country = rowQuery.country,\n          start = rowQuery.start,\n          end = rowQuery.end,\n          points = rowQuery.points;\n      var ponitsLines = points.split('&');\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"antv-s2-tooltip-container\"\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"antv-s2-tooltip-head-info-list\"\n      }, /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u59D3\\u540D\\uFF1A\", name), /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u56FD\\u5BB6\\uFF1A\", country), /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u51FA\\u751F\\uFF1A\", getFormatter(start)), /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u901D\\u4E16\\uFF1A\", getFormatter(end)), ponitsLines.length > 1 ? /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u89C2\\u70B9:\", ponitsLines.map(function (point, index) {\n        return /*#__PURE__*/_react.default.createElement(\"div\", null, index + 1, \": \", point);\n      })) : /*#__PURE__*/_react.default.createElement(\"div\", null, \"\\u89C2\\u70B9: \", ponitsLines[0])), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"antv-s2-tooltip-divider\"\n      }), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"antv-s2-tooltip-detail-list\"\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"antv-s2-tooltip-detail-item\"\n      }, /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"antv-s2-tooltip-detail-item-key\"\n      }, \"\\u6743\\u91CD\"), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"antv-s2-tooltip-detail-item-val\"\n      }, fieldValue))));\n    };\n\n    var s2Options = {\n      width: '',\n      height: 400,\n      conditions: {\n        text: [{\n          field: 'weight',\n          mapping: function mapping(value) {\n            if (value >= 20) {\n              return {\n                fill: '#fff'\n              };\n            }\n          }\n        }],\n        background: [{\n          field: 'weight',\n          mapping: function mapping(value) {\n            var backgroundColor;\n            var colorIndex = Math.floor((value - minWeight) / weightSpan * 100 / PALETTE_COLORS.length) - 1;\n\n            if (colorIndex <= 0) {\n              backgroundColor = PALETTE_COLORS[0];\n            } else if (colorIndex >= PALETTE_COLORS.length) {\n              backgroundColor = PALETTE_COLORS[PALETTE_COLORS.length - 1];\n            } else {\n              backgroundColor = PALETTE_COLORS[colorIndex];\n            }\n\n            return {\n              fill: backgroundColor\n            };\n          }\n        }]\n      },\n      interaction: {\n        selectedCellsSpotlight: false,\n        hoverHighlight: false\n      }\n    };\n\n    var onDataCellMouseUp = function onDataCellMouseUp(value) {\n      var viewMeta = value === null || value === void 0 ? void 0 : value.viewMeta;\n\n      if (!viewMeta) {\n        return;\n      }\n\n      var position = {\n        x: value.event.clientX,\n        y: value.event.clientY\n      };\n      viewMeta.spreadsheet.tooltip.show({\n        position: position,\n        content: TooltipContent(viewMeta)\n      });\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      adaptive: true,\n      header: {\n        title: '哲学家的观点',\n        extra: [/*#__PURE__*/_react.default.createElement(PaletteLegend, null)]\n      },\n      onDataCellMouseUp: onDataCellMouseUp\n    }), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .ant-page-header-compact {\\n    width: 100% ;\\n  }\\n  .legend {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    margin-bottom: 8px;\\n  }\\n  .legend-color {\\n    width: 12px;\\n    height: 12px;\\n  }\\n\\n  .legend-limit{\\n    font-size: 12px;\\n    color: rgb(94,94,94);\\n  }\\n\\n  .legend-color + .legend-limit {\\n    margin-left: 5px;\\n  }\\n\\n  .legend-limit + .legend-color {\\n    margin-left: 5px;\\n  }\\n  .s2-header {\\n    margin:0px !important;\\n  }\\n\");\n});"},{"relativePath":"case/comparison/demo/time-spend.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/comparison/demo/time-spend.tsx","order":2,"filename":"time-spend.tsx","title":{"zh":"想如何度过一天","en":"How to spend the day"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/dTESDSdF%262/a364a2c2-c4e1-4b01-a616-927bf41d7a86.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport { SheetComponent } from '@antv/s2-react';\nimport { DataCell, Frame } from '@antv/s2';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst paletteLegendMap = [\n  {\n    text: '睡觉',\n    color: '#6974EF',\n  },\n  {\n    text: '工作',\n    color: '#18E7CF',\n  },\n\n  {\n    text: '上学',\n    color: '#89E48A',\n  },\n  {\n    text: '吃饭',\n    color: '#FAE232',\n  },\n  {\n    text: '学习',\n    color: '#FAA140',\n  },\n  {\n    text: '娱乐',\n    color: '#E491BA',\n  },\n  {\n    text: '运动',\n    color: '#61AEFE',\n  },\n  {\n    text: '其他',\n    color: '#FAD5BB',\n  },\n];\n\n// 自定义单元格\nclass CustomDataCell extends DataCell {\n  initCell() {\n    this.drawInteractiveBgShape();\n    this.drawCircle();\n    this.drawBorderShape();\n    if (JSON.stringify(this.meta.colQuery).includes('合计')) {\n      this.drawTextShape();\n    }\n    this.update();\n  }\n  drawCircle() {\n    const radius = 12;\n    const { x, y, height, width, fieldValue, colQuery } = this.meta;\n    const positionX = x + width / 2;\n    const positionY = y + height / 2;\n\n    let fill;\n    let opacity = 1;\n    if (!isNaN(fieldValue)) {\n      fill =\n        paletteLegendMap.find((v) => v.text === colQuery['时刻'])?.color ??\n        '#FAD5BB';\n      opacity = 0.5;\n    } else {\n      fill =\n        paletteLegendMap.find((v) => v.text === fieldValue)?.color ?? '#FAD5BB';\n    }\n    this.backgroundShape = this.addShape('circle', {\n      attrs: {\n        x: positionX,\n        y: positionY,\n        width,\n        height,\n        fill,\n        opacity,\n        r: radius,\n      },\n    });\n  }\n}\n\n// 自定义分割线\nclass CustomFrame extends Frame {\n  layout() {\n    super.layout();\n    // 水平二级分割线\n    this.addHorizontalSplitLine();\n    // 垂直二级分割线\n    this.addVerticalSplitLine();\n  }\n  addHorizontalSplitLine() {\n    const cfg = this.cfg;\n    const {\n      width,\n      height,\n      viewportWidth,\n      position,\n      scrollX,\n      scrollContainsRowHeader,\n      spreadsheet,\n    } = cfg;\n    const splitLine = spreadsheet.theme?.splitLine;\n    const { rowsHierarchy } = spreadsheet.facet.layoutResult;\n    const rootNodes = rowsHierarchy.getNodesLessThanLevel(0);\n    rootNodes.forEach((node, key) => {\n      if (key < rootNodes.length - 1) {\n        const { children } = node;\n        const lastChild = children[children.length - 1];\n        const x1 = position.x;\n        const x2 =\n          x1 + width + viewportWidth + (scrollContainsRowHeader ? scrollX : 0);\n        const y = position.y + height + lastChild.y + lastChild.height;\n        this.addShape('line', {\n          attrs: {\n            x1,\n            y1: y,\n            x2,\n            y2: y,\n            stroke: splitLine.verticalBorderColor,\n            lineWidth: 1,\n            opacity: splitLine.verticalBorderColorOpacity,\n          },\n        });\n      }\n    });\n  }\n\n  addVerticalSplitLine() {\n    const cfg = this.cfg;\n    const { height, viewportHeight, position, width, spreadsheet } = cfg;\n    const splitLine = spreadsheet.theme?.splitLine;\n    const { colsHierarchy } = spreadsheet.facet.layoutResult;\n    const rootNodes = colsHierarchy.getNodesLessThanLevel(0);\n    rootNodes.forEach((node, key) => {\n      if (key < rootNodes.length - 1) {\n        const { children } = node;\n        const lastChild = children[children.length - 1];\n        const x = lastChild.x + lastChild.width + width;\n        const y1 = position.y;\n        const y2 = position.y + height + viewportHeight;\n        this.addShape('line', {\n          attrs: {\n            x1: x,\n            y1,\n            x2: x,\n            y2,\n            stroke: splitLine.verticalBorderColor,\n            lineWidth: 1,\n            opacity: splitLine.verticalBorderColorOpacity,\n          },\n        });\n      }\n    });\n  }\n}\n\nfetch('../data/time-spend.json')\n  .then((res) => res.json())\n  .then((s2DataConfig) => {\n    const s2Palette = {\n      basicColors: [\n        '#FFFFFF',\n        '#020138',\n        'rgba(255,255,255,0.18)',\n        '#020138',\n        'rgba(255,255,255,0.18)',\n        '#7232CF',\n        '#7232CF',\n        '#AB76F7',\n        '#020138',\n        'rgba(255,255,255,0)',\n        'rgba(255,255,255,0)',\n        '#FFFFFF',\n        '#FFFFFF',\n        '#FFFFFF',\n        '#FFFFFF',\n      ],\n      // ---------- semantic colors ----------\n      semanticColors: {\n        red: '#FF4D4F',\n        green: '#29A294',\n      },\n    };\n    const s2Theme = {\n      colCell: {\n        bolderText: {\n          fontSize: 12,\n          textAlign: 'center',\n          fontWeight: 'normal',\n        },\n\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3,\n        },\n      },\n      rowCell: {\n        text: {\n          textAlign: 'right',\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3,\n        },\n      },\n      dataCell: {\n        text: {\n          textAlign: 'center',\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3,\n        },\n      },\n      cornerCell: {\n        bolderText: {\n          textAlign: 'right',\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3,\n        },\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0.3,\n        horizontalBorderWidth: 2,\n\n        shadowColors: {\n          left: 'rgba(255,255,255, 0.3)',\n          right: 'rgba(255,255,255, 0.01)',\n        },\n      },\n    };\n\n    const s2Options = {\n      width: 1150,\n      height: 420,\n      showDefaultHeaderActionIcon: false,\n      dataCell: (viewMeta) => {\n        return new CustomDataCell(viewMeta, viewMeta?.spreadsheet);\n      },\n      frame: (cfg) => {\n        return new CustomFrame(cfg);\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          hideMeasureColumn: true,\n        },\n        cellCfg: {\n          width: 40,\n          height: 40,\n        },\n      },\n    };\n    const PaletteLegend = () => (\n      <div className=\"palette\">\n        {paletteLegendMap.map((value, key) => (\n          <div key={key} className=\"palette-group\">\n            <span\n              className=\"palette-color\"\n              style={{ background: value.color }}\n            />\n            <span className=\"palette-text\">{value.text}</span>\n          </div>\n        ))}\n      </div>\n    );\n    ReactDOM.render(\n      <div className=\"sheet-wrapper\">\n        <PaletteLegend />\n        <SheetComponent\n          dataCfg={s2DataConfig}\n          options={s2Options}\n          sheetType=\"pivot\"\n          themeCfg={{ theme: s2Theme, palette: s2Palette }}\n        />\n      </div>,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .sheet-wrapper {\n    background: #010138;\n    padding: 16px;\n  }\n  .palette {\n    display: flex;\n    width: 100%;\n    overflow: hidden;\n    margin-bottom: 16px;\n  }\n  .palette-group {\n    display: flex;\n  }\n  .palette-color {\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    \n  }\n  .palette-text {\n    color: #FFF;\n    width: 50px;\n    font-size: 12px;\n    padding-left: 8px;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"insert-css\", \"@antv/s2-react\", \"@antv/s2\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"@antv/s2-react\"), require(\"@antv/s2\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.insertCss, global.s2React, global.s2, global.styleMin);\n    global.timeSpend = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _insertCss, _s2React, _s, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var paletteLegendMap = [{\n    text: '睡觉',\n    color: '#6974EF'\n  }, {\n    text: '工作',\n    color: '#18E7CF'\n  }, {\n    text: '上学',\n    color: '#89E48A'\n  }, {\n    text: '吃饭',\n    color: '#FAE232'\n  }, {\n    text: '学习',\n    color: '#FAA140'\n  }, {\n    text: '娱乐',\n    color: '#E491BA'\n  }, {\n    text: '运动',\n    color: '#61AEFE'\n  }, {\n    text: '其他',\n    color: '#FAD5BB'\n  }]; // 自定义单元格\n\n  var CustomDataCell = /*#__PURE__*/function (_DataCell) {\n    _inherits(CustomDataCell, _DataCell);\n\n    var _super = _createSuper(CustomDataCell);\n\n    function CustomDataCell() {\n      _classCallCheck(this, CustomDataCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomDataCell, [{\n      key: \"initCell\",\n      value: function initCell() {\n        this.drawInteractiveBgShape();\n        this.drawCircle();\n        this.drawBorderShape();\n\n        if (JSON.stringify(this.meta.colQuery).includes('合计')) {\n          this.drawTextShape();\n        }\n\n        this.update();\n      }\n    }, {\n      key: \"drawCircle\",\n      value: function drawCircle() {\n        var radius = 12;\n        var _this$meta = this.meta,\n            x = _this$meta.x,\n            y = _this$meta.y,\n            height = _this$meta.height,\n            width = _this$meta.width,\n            fieldValue = _this$meta.fieldValue,\n            colQuery = _this$meta.colQuery;\n        var positionX = x + width / 2;\n        var positionY = y + height / 2;\n        var fill;\n        var opacity = 1;\n\n        if (!isNaN(fieldValue)) {\n          var _paletteLegendMap$fin, _paletteLegendMap$fin2;\n\n          fill = (_paletteLegendMap$fin = (_paletteLegendMap$fin2 = paletteLegendMap.find(function (v) {\n            return v.text === colQuery['时刻'];\n          })) === null || _paletteLegendMap$fin2 === void 0 ? void 0 : _paletteLegendMap$fin2.color) !== null && _paletteLegendMap$fin !== void 0 ? _paletteLegendMap$fin : '#FAD5BB';\n          opacity = 0.5;\n        } else {\n          var _paletteLegendMap$fin3, _paletteLegendMap$fin4;\n\n          fill = (_paletteLegendMap$fin3 = (_paletteLegendMap$fin4 = paletteLegendMap.find(function (v) {\n            return v.text === fieldValue;\n          })) === null || _paletteLegendMap$fin4 === void 0 ? void 0 : _paletteLegendMap$fin4.color) !== null && _paletteLegendMap$fin3 !== void 0 ? _paletteLegendMap$fin3 : '#FAD5BB';\n        }\n\n        this.backgroundShape = this.addShape('circle', {\n          attrs: {\n            x: positionX,\n            y: positionY,\n            width: width,\n            height: height,\n            fill: fill,\n            opacity: opacity,\n            r: radius\n          }\n        });\n      }\n    }]);\n\n    return CustomDataCell;\n  }(_s.DataCell); // 自定义分割线\n\n\n  var CustomFrame = /*#__PURE__*/function (_Frame) {\n    _inherits(CustomFrame, _Frame);\n\n    var _super2 = _createSuper(CustomFrame);\n\n    function CustomFrame() {\n      _classCallCheck(this, CustomFrame);\n\n      return _super2.apply(this, arguments);\n    }\n\n    _createClass(CustomFrame, [{\n      key: \"layout\",\n      value: function layout() {\n        _get(_getPrototypeOf(CustomFrame.prototype), \"layout\", this).call(this); // 水平二级分割线\n\n\n        this.addHorizontalSplitLine(); // 垂直二级分割线\n\n        this.addVerticalSplitLine();\n      }\n    }, {\n      key: \"addHorizontalSplitLine\",\n      value: function addHorizontalSplitLine() {\n        var _spreadsheet$theme,\n            _this = this;\n\n        var cfg = this.cfg;\n        var width = cfg.width,\n            height = cfg.height,\n            viewportWidth = cfg.viewportWidth,\n            position = cfg.position,\n            scrollX = cfg.scrollX,\n            scrollContainsRowHeader = cfg.scrollContainsRowHeader,\n            spreadsheet = cfg.spreadsheet;\n        var splitLine = (_spreadsheet$theme = spreadsheet.theme) === null || _spreadsheet$theme === void 0 ? void 0 : _spreadsheet$theme.splitLine;\n        var rowsHierarchy = spreadsheet.facet.layoutResult.rowsHierarchy;\n        var rootNodes = rowsHierarchy.getNodesLessThanLevel(0);\n        rootNodes.forEach(function (node, key) {\n          if (key < rootNodes.length - 1) {\n            var children = node.children;\n            var lastChild = children[children.length - 1];\n            var x1 = position.x;\n            var x2 = x1 + width + viewportWidth + (scrollContainsRowHeader ? scrollX : 0);\n            var y = position.y + height + lastChild.y + lastChild.height;\n\n            _this.addShape('line', {\n              attrs: {\n                x1: x1,\n                y1: y,\n                x2: x2,\n                y2: y,\n                stroke: splitLine.verticalBorderColor,\n                lineWidth: 1,\n                opacity: splitLine.verticalBorderColorOpacity\n              }\n            });\n          }\n        });\n      }\n    }, {\n      key: \"addVerticalSplitLine\",\n      value: function addVerticalSplitLine() {\n        var _spreadsheet$theme2,\n            _this2 = this;\n\n        var cfg = this.cfg;\n        var height = cfg.height,\n            viewportHeight = cfg.viewportHeight,\n            position = cfg.position,\n            width = cfg.width,\n            spreadsheet = cfg.spreadsheet;\n        var splitLine = (_spreadsheet$theme2 = spreadsheet.theme) === null || _spreadsheet$theme2 === void 0 ? void 0 : _spreadsheet$theme2.splitLine;\n        var colsHierarchy = spreadsheet.facet.layoutResult.colsHierarchy;\n        var rootNodes = colsHierarchy.getNodesLessThanLevel(0);\n        rootNodes.forEach(function (node, key) {\n          if (key < rootNodes.length - 1) {\n            var children = node.children;\n            var lastChild = children[children.length - 1];\n            var x = lastChild.x + lastChild.width + width;\n            var y1 = position.y;\n            var y2 = position.y + height + viewportHeight;\n\n            _this2.addShape('line', {\n              attrs: {\n                x1: x,\n                y1: y1,\n                x2: x,\n                y2: y2,\n                stroke: splitLine.verticalBorderColor,\n                lineWidth: 1,\n                opacity: splitLine.verticalBorderColorOpacity\n              }\n            });\n          }\n        });\n      }\n    }]);\n\n    return CustomFrame;\n  }(_s.Frame);\n\n  fetch('../data/time-spend.json').then(function (res) {\n    return res.json();\n  }).then(function (s2DataConfig) {\n    var s2Palette = {\n      basicColors: ['#FFFFFF', '#020138', 'rgba(255,255,255,0.18)', '#020138', 'rgba(255,255,255,0.18)', '#7232CF', '#7232CF', '#AB76F7', '#020138', 'rgba(255,255,255,0)', 'rgba(255,255,255,0)', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF'],\n      // ---------- semantic colors ----------\n      semanticColors: {\n        red: '#FF4D4F',\n        green: '#29A294'\n      }\n    };\n    var s2Theme = {\n      colCell: {\n        bolderText: {\n          fontSize: 12,\n          textAlign: 'center',\n          fontWeight: 'normal'\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3\n        }\n      },\n      rowCell: {\n        text: {\n          textAlign: 'right'\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3\n        }\n      },\n      dataCell: {\n        text: {\n          textAlign: 'center'\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3\n        }\n      },\n      cornerCell: {\n        bolderText: {\n          textAlign: 'right'\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0.3,\n          verticalBorderColorOpacity: 0.3\n        }\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0.3,\n        horizontalBorderWidth: 2,\n        shadowColors: {\n          left: 'rgba(255,255,255, 0.3)',\n          right: 'rgba(255,255,255, 0.01)'\n        }\n      }\n    };\n    var s2Options = {\n      width: 1150,\n      height: 420,\n      showDefaultHeaderActionIcon: false,\n      dataCell: function dataCell(viewMeta) {\n        return new CustomDataCell(viewMeta, viewMeta === null || viewMeta === void 0 ? void 0 : viewMeta.spreadsheet);\n      },\n      frame: function frame(cfg) {\n        return new CustomFrame(cfg);\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          hideMeasureColumn: true\n        },\n        cellCfg: {\n          width: 40,\n          height: 40\n        }\n      }\n    };\n\n    var PaletteLegend = function PaletteLegend() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"palette\"\n      }, paletteLegendMap.map(function (value, key) {\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          key: key,\n          className: \"palette-group\"\n        }, /*#__PURE__*/_react.default.createElement(\"span\", {\n          className: \"palette-color\",\n          style: {\n            background: value.color\n          }\n        }), /*#__PURE__*/_react.default.createElement(\"span\", {\n          className: \"palette-text\"\n        }, value.text));\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"sheet-wrapper\"\n    }, /*#__PURE__*/_react.default.createElement(PaletteLegend, null), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\",\n      themeCfg: {\n        theme: s2Theme,\n        palette: s2Palette\n      }\n    })), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .sheet-wrapper {\\n    background: #010138;\\n    padding: 16px;\\n  }\\n  .palette {\\n    display: flex;\\n    width: 100%;\\n    overflow: hidden;\\n    margin-bottom: 16px;\\n  }\\n  .palette-group {\\n    display: flex;\\n  }\\n  .palette-color {\\n    width: 16px;\\n    height: 16px;\\n    border-radius: 50%;\\n    \\n  }\\n  .palette-text {\\n    color: #FFF;\\n    width: 50px;\\n    font-size: 12px;\\n    padding-left: 8px;\\n  }\\n\");\n});"},{"relativePath":"case/art/demo/mosaic.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/art/demo/mosaic.tsx","order":0,"filename":"mosaic.tsx","title":{"zh":"马赛克","en":"Mosaic"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/CT6lTXeKB6/20690319-81f8-4847-9247-c1f7e7f2d9d1.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\n// more Info https://observablehq.com/@pearmini/mosaic-antv-s2\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/7f6ebbb4-ffeb-4f6c-a763-6faa8c0ccf7a.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const s2Options = {\n      width: 700,\n      height: 575,\n      frozenRowHeader: false,\n      conditions: {\n        background: [\n          {\n            field: 'color',\n            mapping: (fill) => ({ fill }),\n          },\n        ],\n      },\n      interaction: {\n        hoverHighlight: false,\n        hoverFocus: false,\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          height: 0,\n          widthByFieldValue: {\n            color: 23,\n          },\n        },\n        cellCfg: {\n          height: 23,\n        },\n      },\n    };\n\n    const customTheme = {\n      rowCell: {\n        cell: {\n          backgroundColor: dataCfg.data[0].color,\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n        },\n      },\n      dataCell: {\n        text: {\n          opacity: 0,\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n        },\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0,\n        verticalBorderColorOpacity: 0,\n      },\n      background: {\n        color: dataCfg.data[0].color,\n      },\n      scrollBar: {\n        size: 0,\n      },\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        dataCfg={dataCfg}\n        options={s2Options}\n        themeCfg={{ theme: customTheme }}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.mosaic = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // more Info https://observablehq.com/@pearmini/mosaic-antv-s2\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/7f6ebbb4-ffeb-4f6c-a763-6faa8c0ccf7a.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var s2Options = {\n      width: 700,\n      height: 575,\n      frozenRowHeader: false,\n      conditions: {\n        background: [{\n          field: 'color',\n          mapping: function mapping(fill) {\n            return {\n              fill: fill\n            };\n          }\n        }]\n      },\n      interaction: {\n        hoverHighlight: false,\n        hoverFocus: false\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          height: 0,\n          widthByFieldValue: {\n            color: 23\n          }\n        },\n        cellCfg: {\n          height: 23\n        }\n      }\n    };\n    var customTheme = {\n      rowCell: {\n        cell: {\n          backgroundColor: dataCfg.data[0].color,\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0\n        }\n      },\n      dataCell: {\n        text: {\n          opacity: 0\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0\n        }\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0,\n        verticalBorderColorOpacity: 0\n      },\n      background: {\n        color: dataCfg.data[0].color\n      },\n      scrollBar: {\n        size: 0\n      }\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: dataCfg,\n      options: s2Options,\n      themeCfg: {\n        theme: customTheme\n      }\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"case/art/demo/time-spend-abstract.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/case/art/demo/time-spend-abstract.tsx","order":1,"filename":"time-spend-abstract.tsx","title":{"zh":"想如何度过一天(抽象版)","en":"How to spend the day"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/lN8USZvMEV/f6b5e06f-5def-4db8-a9c8-826e347d0fa1.png","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport insertCss from 'insert-css';\nimport { SheetComponent } from '@antv/s2-react';\nimport { DataCell } from '@antv/s2';\nimport '@antv/s2-react/dist/style.min.css';\n\nconst paletteLegendMap = [\n  {\n    text: '睡觉',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*zGyiSa2A8ZMAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '工作',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*RdyWRpg3hRAAAAAAAAAAAAAAARQnAQ',\n  },\n\n  {\n    text: '上学',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*1p5iTYDCkKEAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '吃饭',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*XHHcSZxmR7gAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '学习',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*1p5iTYDCkKEAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '娱乐',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*ZRaUT55QCaoAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '运动',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*xpO5Sawk8YIAAAAAAAAAAAAAARQnAQ',\n  },\n  {\n    text: '其他',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*e5A3SKifw1EAAAAAAAAAAAAAARQnAQ',\n  },\n];\n// 自定义单元格\nclass CustomDataCell extends DataCell {\n  drawTextShape() {\n    const { fieldValue } = this.meta;\n    const url =\n      paletteLegendMap.find((v) => v.text === fieldValue)?.img ??\n      'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*e5A3SKifw1EAAAAAAAAAAAAAARQnAQ';\n    const img = new Image();\n    img.src = url;\n    const { x, y, width, height } = this.meta;\n    img.onload = () => {\n      this.textShape = this.addShape('image', {\n        attrs: {\n          x: x + (width - img?.width) / 2,\n          y: y + (height - img?.height) / 2,\n          width: img?.width ?? width,\n          height: img?.height ?? height,\n          img: url,\n        },\n      });\n    };\n  }\n}\n\nfetch('../data/time-spend.json')\n  .then((res) => res.json())\n  .then((s2DataConfig) => {\n    const s2Theme = {\n      colCell: {\n        text: {\n          opacity: 0,\n        },\n        bolderText: {\n          opacity: 0,\n        },\n        cell: {\n          backgroundColor: '#020138',\n        },\n      },\n      rowCell: {\n        text: {\n          opacity: 0,\n        },\n        bolderText: {\n          opacity: 0,\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          backgroundColor: '#020138',\n          interactionState: {\n            // -------------- hover -------------------\n            hover: {\n              backgroundColor: 'rgba(255,255,255,0.18)',\n            },\n            // -------------- selected -------------------\n            selected: {\n              backgroundColor: 'rgba(255,255,255,0.18)',\n            },\n          },\n        },\n      },\n      dataCell: {\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          crossBackgroundColor: '#020138',\n          backgroundColor: '#020138',\n          interactionState: {\n            // -------------- hover -------------------\n            hover: {\n              backgroundColor: 'rgba(255,255,255,0.18)',\n            },\n            // -------------- keep hover -------------------\n            hoverFocus: {\n              backgroundColor: 'rgba(255, 255, 255, 0.18)',\n              borderOpacity: 0,\n            },\n            // -------------- selected -------------------\n            selected: {\n              backgroundColor: 'rgba(255,255,255,0.18)',\n            },\n          },\n        },\n      },\n      cornerCell: {\n        bolderText: {\n          opacity: 0,\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          backgroundColor: '#020138',\n        },\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0,\n        verticalBorderColorOpacity: 0,\n      },\n      background: {\n        color: '#020138',\n      },\n    };\n\n    const s2Options = {\n      width: 1150,\n      height: 720,\n      showDefaultHeaderActionIcon: false,\n      dataCell: (viewMeta) => {\n        return new CustomDataCell(viewMeta, viewMeta?.spreadsheet);\n      },\n      interaction: {\n        hoverHighlight: false,\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          hideMeasureColumn: true,\n          height: 0,\n        },\n        cellCfg: {\n          height: 80,\n        },\n      },\n    };\n    const PaletteLegend = () => (\n      <div className=\"palette\">\n        {paletteLegendMap.map((value, key) => (\n          <div key={key} className=\"palette-group\">\n            <img className=\"palette-img\" src={value.img} />\n            <span className=\"palette-text\">{value.text}</span>\n          </div>\n        ))}\n      </div>\n    );\n    ReactDOM.render(\n      <div className=\"sheet-wrapper\">\n        <PaletteLegend />\n        <SheetComponent\n          dataCfg={s2DataConfig}\n          options={s2Options}\n          sheetType=\"pivot\"\n          themeCfg={{ theme: s2Theme }}\n        />\n      </div>,\n      document.getElementById('container'),\n    );\n  });\n\ninsertCss(`\n  .sheet-wrapper {\n    background: #010138;\n    padding: 16px;\n  }\n  .palette {\n    display: flex;\n    width: 100%;\n    overflow: hidden;\n    margin-bottom: 16px;\n    margin-left: 88px;\n  }\n  .palette-group {\n    display: flex;\n  }\n  .palette-img {\n    width: auto;\n    height: 20px;\n  }\n  .palette-text {\n    color: #FFF;\n    width: 50px;\n    font-size: 12px;\n    padding-left: 8px;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _instanceof(left, right) { if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"insert-css\", \"@antv/s2-react\", \"@antv/s2\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"insert-css\"), require(\"@antv/s2-react\"), require(\"@antv/s2\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.insertCss, global.s2React, global.s2, global.styleMin);\n    global.timeSpendAbstract = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _insertCss, _s2React, _s, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n  var paletteLegendMap = [{\n    text: '睡觉',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*zGyiSa2A8ZMAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '工作',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*RdyWRpg3hRAAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '上学',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*1p5iTYDCkKEAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '吃饭',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*XHHcSZxmR7gAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '学习',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*1p5iTYDCkKEAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '娱乐',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*ZRaUT55QCaoAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '运动',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*xpO5Sawk8YIAAAAAAAAAAAAAARQnAQ'\n  }, {\n    text: '其他',\n    img: 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*e5A3SKifw1EAAAAAAAAAAAAAARQnAQ'\n  }]; // 自定义单元格\n\n  var CustomDataCell = /*#__PURE__*/function (_DataCell) {\n    _inherits(CustomDataCell, _DataCell);\n\n    var _super = _createSuper(CustomDataCell);\n\n    function CustomDataCell() {\n      _classCallCheck(this, CustomDataCell);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(CustomDataCell, [{\n      key: \"drawTextShape\",\n      value: function drawTextShape() {\n        var _paletteLegendMap$fin,\n            _paletteLegendMap$fin2,\n            _this = this;\n\n        var fieldValue = this.meta.fieldValue;\n        var url = (_paletteLegendMap$fin = (_paletteLegendMap$fin2 = paletteLegendMap.find(function (v) {\n          return v.text === fieldValue;\n        })) === null || _paletteLegendMap$fin2 === void 0 ? void 0 : _paletteLegendMap$fin2.img) !== null && _paletteLegendMap$fin !== void 0 ? _paletteLegendMap$fin : 'https://gw.alipayobjects.com/mdn/rms_56cbb2/afts/img/A*e5A3SKifw1EAAAAAAAAAAAAAARQnAQ';\n        var img = new Image();\n        img.src = url;\n        var _this$meta = this.meta,\n            x = _this$meta.x,\n            y = _this$meta.y,\n            width = _this$meta.width,\n            height = _this$meta.height;\n\n        img.onload = function () {\n          var _img$width, _img$height;\n\n          _this.textShape = _this.addShape('image', {\n            attrs: {\n              x: x + (width - (img === null || img === void 0 ? void 0 : img.width)) / 2,\n              y: y + (height - (img === null || img === void 0 ? void 0 : img.height)) / 2,\n              width: (_img$width = img === null || img === void 0 ? void 0 : img.width) !== null && _img$width !== void 0 ? _img$width : width,\n              height: (_img$height = img === null || img === void 0 ? void 0 : img.height) !== null && _img$height !== void 0 ? _img$height : height,\n              img: url\n            }\n          });\n        };\n      }\n    }]);\n\n    return CustomDataCell;\n  }(_s.DataCell);\n\n  fetch('../data/time-spend.json').then(function (res) {\n    return res.json();\n  }).then(function (s2DataConfig) {\n    var s2Theme = {\n      colCell: {\n        text: {\n          opacity: 0\n        },\n        bolderText: {\n          opacity: 0\n        },\n        cell: {\n          backgroundColor: '#020138'\n        }\n      },\n      rowCell: {\n        text: {\n          opacity: 0\n        },\n        bolderText: {\n          opacity: 0\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          backgroundColor: '#020138',\n          interactionState: {\n            // -------------- hover -------------------\n            hover: {\n              backgroundColor: 'rgba(255,255,255,0.18)'\n            },\n            // -------------- selected -------------------\n            selected: {\n              backgroundColor: 'rgba(255,255,255,0.18)'\n            }\n          }\n        }\n      },\n      dataCell: {\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          crossBackgroundColor: '#020138',\n          backgroundColor: '#020138',\n          interactionState: {\n            // -------------- hover -------------------\n            hover: {\n              backgroundColor: 'rgba(255,255,255,0.18)'\n            },\n            // -------------- keep hover -------------------\n            hoverFocus: {\n              backgroundColor: 'rgba(255, 255, 255, 0.18)',\n              borderOpacity: 0\n            },\n            // -------------- selected -------------------\n            selected: {\n              backgroundColor: 'rgba(255,255,255,0.18)'\n            }\n          }\n        }\n      },\n      cornerCell: {\n        bolderText: {\n          opacity: 0\n        },\n        cell: {\n          horizontalBorderColorOpacity: 0,\n          verticalBorderColorOpacity: 0,\n          backgroundColor: '#020138'\n        }\n      },\n      splitLine: {\n        horizontalBorderColorOpacity: 0,\n        verticalBorderColorOpacity: 0\n      },\n      background: {\n        color: '#020138'\n      }\n    };\n    var s2Options = {\n      width: 1150,\n      height: 720,\n      showDefaultHeaderActionIcon: false,\n      dataCell: function dataCell(viewMeta) {\n        return new CustomDataCell(viewMeta, viewMeta === null || viewMeta === void 0 ? void 0 : viewMeta.spreadsheet);\n      },\n      interaction: {\n        hoverHighlight: false\n      },\n      style: {\n        layoutWidthType: 'compact',\n        colCfg: {\n          hideMeasureColumn: true,\n          height: 0\n        },\n        cellCfg: {\n          height: 80\n        }\n      }\n    };\n\n    var PaletteLegend = function PaletteLegend() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"palette\"\n      }, paletteLegendMap.map(function (value, key) {\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          key: key,\n          className: \"palette-group\"\n        }, /*#__PURE__*/_react.default.createElement(\"img\", {\n          className: \"palette-img\",\n          src: value.img\n        }), /*#__PURE__*/_react.default.createElement(\"span\", {\n          className: \"palette-text\"\n        }, value.text));\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"sheet-wrapper\"\n    }, /*#__PURE__*/_react.default.createElement(PaletteLegend, null), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      dataCfg: s2DataConfig,\n      options: s2Options,\n      sheetType: \"pivot\",\n      themeCfg: {\n        theme: s2Theme\n      }\n    })), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .sheet-wrapper {\\n    background: #010138;\\n    padding: 16px;\\n  }\\n  .palette {\\n    display: flex;\\n    width: 100%;\\n    overflow: hidden;\\n    margin-bottom: 16px;\\n    margin-left: 88px;\\n  }\\n  .palette-group {\\n    display: flex;\\n  }\\n  .palette-img {\\n    width: auto;\\n    height: 20px;\\n  }\\n  .palette-text {\\n    color: #FFF;\\n    width: 50px;\\n    font-size: 12px;\\n    padding-left: 8px;\\n  }\\n\");\n});"},{"relativePath":"basic/table/demo/table.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/basic/table/demo/table.ts","order":0,"filename":"table.ts","title":{"zh":"明细表模式","en":"Table mode"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/jWifHNLOsB/08db1064-bb09-4d44-b42b-26aed1766545.png","source":"import { TableSheet } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      showSeriesNumber: true,\n    };\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.table = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      showSeriesNumber: true\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"basic/pivot/demo/grid.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/basic/pivot/demo/grid.ts","order":0,"filename":"grid.ts","title":{"zh":"平铺模式","en":"Grid mode"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/a6zSe1gvvy/f97ed6ec-0a5d-49b7-8492-754611d0aea6.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.grid = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"basic/pivot/demo/tree.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/basic/pivot/demo/tree.ts","order":1,"filename":"tree.ts","title":{"zh":"树状模式","en":"Tree mode"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/VnOOCNzUqk/a68995cb-7e96-452a-a0da-faf4b1f9d59b.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n    'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n    .then((res) => res.json())\n    .then((dataCfg) => {\n        const container = document.getElementById('container');\n\n        const s2Options = {\n            width: 600,\n            height: 480,\n            hierarchyType: 'tree',\n            style: {\n                collapsedRows: {\n                    'root[&]浙江省': true, // 折叠浙江省下面所有的城市\n                }\n            }\n        };\n        const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n        s2.render();\n    });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.tree = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      style: {\n        collapsedRows: {\n          'root[&]浙江省': true // 折叠浙江省下面所有的城市\n\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/totals/demo/basic.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/totals/demo/basic.ts","order":0,"filename":"basic.ts","title":{"zh":"单度量值","en":"Single Value Totals"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/S4FZba2BY7/8e25e21c-28d3-4572-8585-f0b7435ab7c8.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      hoverHighlight: true,\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        enableCopy: true,\n      },\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.basic = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      hoverHighlight: true,\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        enableCopy: true\n      },\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province']\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type']\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/totals/demo/custom.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/totals/demo/custom.ts","order":4,"filename":"custom.ts","title":{"zh":"自定义计算汇总值","en":"Custom Calculate Totals"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/S4FZba2BY7/8e25e21c-28d3-4572-8585-f0b7435ab7c8.png","source":"import { PivotSheet, EXTRA_FIELD } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n    };\n\n    const calcFunc = (query, data) => {\n      const sum = data.reduce((pre, next) => {\n        return pre + next[next[EXTRA_FIELD]];\n      }, 0);\n      return sum * 2;\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n          calcTotals: {\n            calcFunc,\n          },\n          calcSubTotals: {\n            calcFunc,\n          },\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n          calcTotals: {\n            calcFunc,\n          },\n          calcSubTotals: {\n            calcFunc,\n          },\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.custom = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data\n    };\n\n    var calcFunc = function calcFunc(query, data) {\n      var sum = data.reduce(function (pre, next) {\n        return pre + next[next[_s.EXTRA_FIELD]];\n      }, 0);\n      return sum * 2;\n    };\n\n    var s2Options = {\n      width: 600,\n      height: 480,\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n          calcTotals: {\n            calcFunc: calcFunc\n          },\n          calcSubTotals: {\n            calcFunc: calcFunc\n          }\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n          calcTotals: {\n            calcFunc: calcFunc\n          },\n          calcSubTotals: {\n            calcFunc: calcFunc\n          }\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/totals/demo/multiple-values.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/totals/demo/multiple-values.ts","order":1,"filename":"multiple-values.ts","title":{"zh":"多度量值","en":"Multiple Value Totals"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/3SuoQrkTsR/5657d02f-8e7f-4fbc-8159-7a0e8f772462.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      hoverHighlight: true,\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        enableCopy: true,\n      },\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.multipleValues = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/6eede6eb-8021-4da8-bb12-67891a5705b7.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      selectedCellsSpotlight: true,\n      hoverHighlight: true,\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        enableCopy: true\n      },\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province']\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type']\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/totals/demo/tree.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/totals/demo/tree.ts","order":2,"filename":"tree.ts","title":{"zh":"树状模式","en":"Tree Totals"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/fjQwAfmonL/b697e97f-8bfb-49fe-a123-195ce1aa8a82.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      tooltip: {\n        showTooltip: true,\n      },\n      interaction: {\n        enableCopy: true,\n        selectedCellsSpotlight: true,\n        hoverHighlight: true,\n      },\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.tree = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      hierarchyType: 'tree',\n      tooltip: {\n        showTooltip: true\n      },\n      interaction: {\n        enableCopy: true,\n        selectedCellsSpotlight: true,\n        hoverHighlight: true\n      },\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province']\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type']\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/totals/demo/calculate.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/totals/demo/calculate.ts","order":3,"filename":"calculate.ts","title":{"zh":"配置计算汇总值","en":"Calculate Totals"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/S4FZba2BY7/8e25e21c-28d3-4572-8585-f0b7435ab7c8.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n          calcTotals: {\n            aggregation: 'SUM',\n          },\n          calcSubTotals: {\n            aggregation: 'SUM',\n          },\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n          calcTotals: {\n            aggregation: 'SUM',\n          },\n          calcSubTotals: {\n            aggregation: 'SUM',\n          },\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.calculate = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      // 配置小计总计显示\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n          calcTotals: {\n            aggregation: 'SUM'\n          },\n          calcSubTotals: {\n            aggregation: 'SUM'\n          }\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n          calcTotals: {\n            aggregation: 'SUM'\n          },\n          calcSubTotals: {\n            aggregation: 'SUM'\n          }\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/advanced.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/advanced.tsx","order":2,"filename":"advanced.tsx","title":{"zh":"高级排序","en":"Advanced Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/2TmM6qOU%26V/advance.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport 'antd/es/cascader/style/index.css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/21ffc284-50a2-4a30-8bb0-b2f9ac4a8fbc.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const defaultSortParams = [\n      { sortFieldId: 'province', sortMethod: 'DESC' },\n      { sortFieldId: 'type', sortBy: ['纸张', '笔'] },\n      {\n        sortFieldId: 'city',\n        sortByMeasure: 'price',\n        sortMethod: 'DESC',\n      },\n    ];\n\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n      sortParams: defaultSortParams,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const AdvancedSortDemo = () => {\n      const [dataCfg, setDataCfg] = useState(s2DataConfig);\n      const [sortParams, setSortParams] = React.useState(defaultSortParams);\n\n      return (\n        <div>\n          <SheetComponent\n            sheetType={'pivot'}\n            adaptive={false}\n            dataCfg={dataCfg}\n            options={s2Options}\n            header={{\n              advancedSortCfg: {\n                open: true,\n                sortParams,\n                onSortConfirm: (ruleValues, sortParams) => {\n                  setDataCfg({ ...dataCfg, sortParams });\n                  setSortParams(sortParams);\n                },\n              },\n            }}\n          />\n        </div>\n      );\n    };\n\n    ReactDOM.render(<AdvancedSortDemo />, document.getElementById('container'));\n  });\n\ninsertCss(`\n  .antv-s2-advanced-sort-btn.ant-btn svg path {\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  }\n  .antv-s2-advanced-sort-btn.ant-btn:hover svg path, .antv-s2-advanced-sort-btn.ant-btn:focus svg path {\n    fill: #873bf4;\n  }\n  .ant-cascader-menu-item {\n    font-size: 12px;\n  }\n  .ant-col {\n    width: 100%;\n  }\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"insert-css\", \"antd/es/cascader/style/index.css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"antd/es/cascader/style/index.css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.insertCss, global.index, global.styleMin);\n    global.advanced = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _insertCss, _index, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/21ffc284-50a2-4a30-8bb0-b2f9ac4a8fbc.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var defaultSortParams = [{\n      sortFieldId: 'province',\n      sortMethod: 'DESC'\n    }, {\n      sortFieldId: 'type',\n      sortBy: ['纸张', '笔']\n    }, {\n      sortFieldId: 'city',\n      sortByMeasure: 'price',\n      sortMethod: 'DESC'\n    }];\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data,\n      sortParams: defaultSortParams\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n\n    var AdvancedSortDemo = function AdvancedSortDemo() {\n      var _useState = (0, _react.useState)(s2DataConfig),\n          _useState2 = _slicedToArray(_useState, 2),\n          dataCfg = _useState2[0],\n          setDataCfg = _useState2[1];\n\n      var _React$useState = _react.default.useState(defaultSortParams),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          sortParams = _React$useState2[0],\n          setSortParams = _React$useState2[1];\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        sheetType: 'pivot',\n        adaptive: false,\n        dataCfg: dataCfg,\n        options: s2Options,\n        header: {\n          advancedSortCfg: {\n            open: true,\n            sortParams: sortParams,\n            onSortConfirm: function onSortConfirm(ruleValues, sortParams) {\n              setDataCfg({ ...dataCfg,\n                sortParams: sortParams\n              });\n              setSortParams(sortParams);\n            }\n          }\n        }\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(AdvancedSortDemo, null), document.getElementById('container'));\n  });\n  (0, _insertCss.default)(\"\\n  .antv-s2-advanced-sort-btn.ant-btn svg path {\\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\\n  }\\n  .antv-s2-advanced-sort-btn.ant-btn:hover svg path, .antv-s2-advanced-sort-btn.ant-btn:focus svg path {\\n    fill: #873bf4;\\n  }\\n  .ant-cascader-menu-item {\\n    font-size: 12px;\\n  }\\n  .ant-col {\\n    width: 100%;\\n  }\\n\");\n});"},{"relativePath":"analysis/sort/demo/custom-list.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/custom-list.ts","order":4,"filename":"custom-list.ts","title":{"zh":"根据维度列表排序","en":"Custom List Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/fAlHqSzqIZ/977d4ac6-0c25-4cbf-85dd-1b9238e961ad.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n      sortParams: [\n        { sortFieldId: 'province', sortBy: ['吉林', '浙江'] },\n        { sortFieldId: 'city', sortBy: ['舟山', '杭州', '白山', '长春'] },\n        { sortFieldId: 'type', sortBy: ['纸张', '笔'] },\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customList = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data,\n      sortParams: [{\n        sortFieldId: 'province',\n        sortBy: ['吉林', '浙江']\n      }, {\n        sortFieldId: 'city',\n        sortBy: ['舟山', '杭州', '白山', '长春']\n      }, {\n        sortFieldId: 'type',\n        sortBy: ['纸张', '笔']\n      }]\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/custom-measure.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/custom-measure.ts","order":5,"filename":"custom-measure.ts","title":{"zh":"根据度量值排序","en":"Custom Measure Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/IR3nwShqY4/8dc07b8a-1526-4078-b63c-23b7b6fddac0.png","source":"import { PivotSheet, EXTRA_FIELD } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n      sortParams: [\n        {\n          // type 依据 浙江-舟山-price 升序 排序\n          sortFieldId: 'type',\n          sortMethod: 'ASC',\n          sortByMeasure: 'price',\n          query: {\n            province: '浙江',\n            city: '舟山',\n            [EXTRA_FIELD]: 'price',\n          },\n        },\n        {\n          // city 依据 纸张-price 降序 排序\n          sortFieldId: 'city',\n          sortMethod: 'DESC',\n          sortByMeasure: 'price',\n          query: {\n            type: '纸张',\n            [EXTRA_FIELD]: 'price',\n          },\n        },\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customMeasure = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data,\n      sortParams: [{\n        // type 依据 浙江-舟山-price 升序 排序\n        sortFieldId: 'type',\n        sortMethod: 'ASC',\n        sortByMeasure: 'price',\n        query: _defineProperty({\n          province: '浙江',\n          city: '舟山'\n        }, _s.EXTRA_FIELD, 'price')\n      }, {\n        // city 依据 纸张-price 降序 排序\n        sortFieldId: 'city',\n        sortMethod: 'DESC',\n        sortByMeasure: 'price',\n        query: _defineProperty({\n          type: '纸张'\n        }, _s.EXTRA_FIELD, 'price')\n      }]\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/custom-sort-func.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/custom-sort-func.ts","order":7,"filename":"custom-sort-func.ts","title":{"zh":"根据自定义方法排序","en":"Custom Function Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/mkeXSyNZmk/1a50ecd2-1d81-4858-a106-c0c325e45a59.png","source":"import { PivotSheet, EXTRA_FIELD } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n      sortParams: [\n        {\n          // sortFieldId 为维度值时，params.data 为维度值列表\n          sortFieldId: 'province',\n          sortFunc: (params) => {\n            const { data } = params;\n            return data?.sort((a, b) => a?.localeCompare(b));\n          },\n        },\n        {\n          // 支持使用度量值进行自定义计算\n          sortFieldId: 'city',\n          sortByMeasure: 'price',\n          // 当使用 sortByMeasure 时，可以传入 query 定位数值列表\n          // 如下方限定 params.data 为 type=纸张, 数值=price 的数据\n          sortFunc: function (params) {\n            const { data, sortByMeasure, sortFieldId } = params || {};\n            return data\n              ?.sort((a, b) => b[sortByMeasure] - a[sortByMeasure])\n              ?.map((item) => item[sortFieldId]);\n          },\n          query: { type: '纸张', [EXTRA_FIELD]: 'price' },\n        },\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customSortFunc = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data,\n      sortParams: [{\n        // sortFieldId 为维度值时，params.data 为维度值列表\n        sortFieldId: 'province',\n        sortFunc: function sortFunc(params) {\n          var data = params.data;\n          return data === null || data === void 0 ? void 0 : data.sort(function (a, b) {\n            return a === null || a === void 0 ? void 0 : a.localeCompare(b);\n          });\n        }\n      }, {\n        // 支持使用度量值进行自定义计算\n        sortFieldId: 'city',\n        sortByMeasure: 'price',\n        // 当使用 sortByMeasure 时，可以传入 query 定位数值列表\n        // 如下方限定 params.data 为 type=纸张, 数值=price 的数据\n        sortFunc: function sortFunc(params) {\n          var _data$sort;\n\n          var _ref = params || {},\n              data = _ref.data,\n              sortByMeasure = _ref.sortByMeasure,\n              sortFieldId = _ref.sortFieldId;\n\n          return data === null || data === void 0 ? void 0 : (_data$sort = data.sort(function (a, b) {\n            return b[sortByMeasure] - a[sortByMeasure];\n          })) === null || _data$sort === void 0 ? void 0 : _data$sort.map(function (item) {\n            return item[sortFieldId];\n          });\n        },\n        query: _defineProperty({\n          type: '纸张'\n        }, _s.EXTRA_FIELD, 'price')\n      }]\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/custom-method.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/custom-method.ts","order":3,"filename":"custom-method.ts","title":{"zh":"根据升/降序方法排序","en":"Custom Method Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/jyNQ1WRgiD/7b1170ee-eb8e-477b-9596-a9135c4cab46.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch('../data/basic.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n      sortParams: [\n        { sortFieldId: 'province', sortMethod: 'DESC' },\n        { sortFieldId: 'city', sortMethod: 'ASC' },\n        { sortFieldId: 'type', sortMethod: 'DESC' },\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customMethod = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data,\n      sortParams: [{\n        sortFieldId: 'province',\n        sortMethod: 'DESC'\n      }, {\n        sortFieldId: 'city',\n        sortMethod: 'ASC'\n      }, {\n        sortFieldId: 'type',\n        sortMethod: 'DESC'\n      }]\n    };\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/custom-totals.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/custom-totals.ts","order":6,"filename":"custom-totals.ts","title":{"zh":"根据汇总值排序","en":"Custom Totals Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/eEfDYhd%24uz/da5c134b-c892-4ea8-9a01-6bf738212500.png","source":"import { PivotSheet, EXTRA_FIELD, TOTAL_VALUE } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n      sortParams: [\n        {\n          // province 依据（ province - 小计 ）&（ 总计 - price ）& 升序 排序\n          sortFieldId: 'province',\n          sortMethod: 'ASC',\n          sortByMeasure: TOTAL_VALUE,\n          query: {\n            [EXTRA_FIELD]: 'price',\n          },\n        },\n        {\n          // type 依据 （ type - 小计 ）&（ price ）& 降序 排序\n          sortFieldId: 'type',\n          sortMethod: 'DESC',\n          sortByMeasure: TOTAL_VALUE,\n          query: {\n            province: '浙江',\n            [EXTRA_FIELD]: 'price',\n          },\n        },\n      ],\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province'],\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type'],\n        },\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.customTotals = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4347c2dd-6554-451b-9d44-15b04e5de657.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data,\n      sortParams: [{\n        // province 依据（ province - 小计 ）&（ 总计 - price ）& 升序 排序\n        sortFieldId: 'province',\n        sortMethod: 'ASC',\n        sortByMeasure: _s.TOTAL_VALUE,\n        query: _defineProperty({}, _s.EXTRA_FIELD, 'price')\n      }, {\n        // type 依据 （ type - 小计 ）&（ price ）& 降序 排序\n        sortFieldId: 'type',\n        sortMethod: 'DESC',\n        sortByMeasure: _s.TOTAL_VALUE,\n        query: _defineProperty({\n          province: '浙江'\n        }, _s.EXTRA_FIELD, 'price')\n      }]\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      totals: {\n        row: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['province']\n        },\n        col: {\n          showGrandTotals: true,\n          showSubTotals: true,\n          reverseLayout: true,\n          reverseSubLayout: true,\n          subTotalsDimensions: ['type']\n        }\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/sort/demo/group-sort.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/group-sort.tsx","order":1,"filename":"group-sort.tsx","title":{"zh":"组内排序","en":"Group Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/ljBJH8o6bT/group-sort.gif","source":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SheetComponent } from '@antv/s2-react';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/21ffc284-50a2-4a30-8bb0-b2f9ac4a8fbc.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      showDefaultHeaderActionIcon: true, // 默认打开\n    };\n\n    ReactDOM.render(\n      <SheetComponent\n        sheetType=\"pivot\"\n        adaptive={false}\n        dataCfg={s2DataConfig}\n        options={s2Options}\n      />,\n      document.getElementById('container'),\n    );\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"@antv/s2-react\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"@antv/s2-react\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.s2React, global.styleMin);\n    global.groupSort = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _s2React, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireDefault(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/21ffc284-50a2-4a30-8bb0-b2f9ac4a8fbc.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var s2DataConfig = {\n      fields: {\n        rows: ['province', 'city'],\n        columns: ['type'],\n        values: ['price']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      showDefaultHeaderActionIcon: true // 默认打开\n\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n      sheetType: \"pivot\",\n      adaptive: false,\n      dataCfg: s2DataConfig,\n      options: s2Options\n    }), document.getElementById('container'));\n  });\n});"},{"relativePath":"analysis/sort/demo/table-sort.tsx","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/sort/demo/table-sort.tsx","order":0,"filename":"table-sort.tsx","title":{"zh":"明细表排序","en":"Table Sort"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/9JQrrIVN8/2021-11-16%25252020.47.11.gif","source":"import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { orderBy } from 'lodash';\nimport { Button } from 'antd';\nimport { SheetComponent } from '@antv/s2-react';\nimport insertCss from 'insert-css';\nimport '@antv/s2-react/dist/style.min.css';\n\nfetch('../data/basic-table-mode.json')\n  .then((res) => res.json())\n  .then((res) => {\n    const s2Options = {\n      width: 600,\n      height: 480,\n    };\n\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data: res,\n      sortParams: [\n        {\n          sortFieldId: 'price',\n          sortMethod: 'DESC',\n        },\n      ],\n    };\n\n    const App = () => {\n      const [dataCfg, setDataCfg] = useState(s2DataConfig);\n      return (\n        <>\n          <Button\n            onClick={() => {\n              setDataCfg({\n                ...dataCfg,\n                sortParams: [\n                  {\n                    sortFieldId: 'price',\n                    sortMethod: 'DESC',\n                  },\n                ],\n              });\n            }}\n          >\n            使用 sortMethod 排序\n          </Button>\n          <Button\n            onClick={() => {\n              setDataCfg({\n                ...dataCfg,\n                sortParams: [\n                  {\n                    sortFieldId: 'price',\n                    sortMethod: 'DESC',\n                    sortFunc: ({ data, sortFieldId, sortMethod }) => {\n                      return orderBy(data, [sortFieldId], [sortMethod]);\n                    },\n                  },\n                ],\n              });\n            }}\n          >\n            使用 sortFunc 自定义排序\n          </Button>\n          <Button\n            onClick={() => {\n              setDataCfg({\n                ...dataCfg,\n                sortParams: [\n                  {\n                    sortFieldId: 'city',\n                    sortBy: ['白山', '长春', '杭州', '舟山'],\n                  },\n                ],\n              });\n            }}\n          >\n            使用 sortBy 显示指定顺序\n          </Button>\n          <Button\n            onClick={() => {\n              setDataCfg({\n                ...dataCfg,\n                sortParams: [\n                  {\n                    sortFieldId: 'price',\n                    sortMethod: 'DESC',\n                    query: {\n                      city: '浙江',\n                    },\n                  },\n                ],\n              });\n            }}\n          >\n            使用 query 缩小排序范围\n          </Button>\n\n          <SheetComponent\n            dataCfg={dataCfg}\n            options={s2Options}\n            sheetType=\"table\"\n          />\n        </>\n      );\n    };\n\n    ReactDOM.render(<App />, document.getElementById('container'));\n  });\n\n// 我们用 insert-css 演示引入自定义样式\n// 推荐将样式添加到自己的样式文件中\n// 若拷贝官方代码，别忘了 npm install insert-css\ninsertCss(`\n.ant-btn {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n`);\n","babeledSource":"function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"react\", \"react-dom\", \"lodash\", \"antd\", \"@antv/s2-react\", \"insert-css\", \"@antv/s2-react/dist/style.min.css\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"react\"), require(\"react-dom\"), require(\"lodash\"), require(\"antd\"), require(\"@antv/s2-react\"), require(\"insert-css\"), require(\"@antv/s2-react/dist/style.min.css\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.react, global.reactDom, global.lodash, global.antd, global.s2React, global.insertCss, global.styleMin);\n    global.tableSort = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_react, _reactDom, _lodash, _antd, _s2React, _insertCss, _styleMin) {\n  \"use strict\";\n\n  _react = _interopRequireWildcard(_react);\n  _reactDom = _interopRequireDefault(_reactDom);\n  _insertCss = _interopRequireDefault(_insertCss);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\n  function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    var s2Options = {\n      width: 600,\n      height: 480\n    };\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: res,\n      sortParams: [{\n        sortFieldId: 'price',\n        sortMethod: 'DESC'\n      }]\n    };\n\n    var App = function App() {\n      var _useState = (0, _react.useState)(s2DataConfig),\n          _useState2 = _slicedToArray(_useState, 2),\n          dataCfg = _useState2[0],\n          setDataCfg = _useState2[1];\n\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_antd.Button, {\n        onClick: function onClick() {\n          setDataCfg({ ...dataCfg,\n            sortParams: [{\n              sortFieldId: 'price',\n              sortMethod: 'DESC'\n            }]\n          });\n        }\n      }, \"\\u4F7F\\u7528 sortMethod \\u6392\\u5E8F\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n        onClick: function onClick() {\n          setDataCfg({ ...dataCfg,\n            sortParams: [{\n              sortFieldId: 'price',\n              sortMethod: 'DESC',\n              sortFunc: function sortFunc(_ref) {\n                var data = _ref.data,\n                    sortFieldId = _ref.sortFieldId,\n                    sortMethod = _ref.sortMethod;\n                return (0, _lodash.orderBy)(data, [sortFieldId], [sortMethod]);\n              }\n            }]\n          });\n        }\n      }, \"\\u4F7F\\u7528 sortFunc \\u81EA\\u5B9A\\u4E49\\u6392\\u5E8F\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n        onClick: function onClick() {\n          setDataCfg({ ...dataCfg,\n            sortParams: [{\n              sortFieldId: 'city',\n              sortBy: ['白山', '长春', '杭州', '舟山']\n            }]\n          });\n        }\n      }, \"\\u4F7F\\u7528 sortBy \\u663E\\u793A\\u6307\\u5B9A\\u987A\\u5E8F\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n        onClick: function onClick() {\n          setDataCfg({ ...dataCfg,\n            sortParams: [{\n              sortFieldId: 'price',\n              sortMethod: 'DESC',\n              query: {\n                city: '浙江'\n              }\n            }]\n          });\n        }\n      }, \"\\u4F7F\\u7528 query \\u7F29\\u5C0F\\u6392\\u5E8F\\u8303\\u56F4\"), /*#__PURE__*/_react.default.createElement(_s2React.SheetComponent, {\n        dataCfg: dataCfg,\n        options: s2Options,\n        sheetType: \"table\"\n      }));\n    };\n\n    _reactDom.default.render( /*#__PURE__*/_react.default.createElement(App, null), document.getElementById('container'));\n  }); // 我们用 insert-css 演示引入自定义样式\n  // 推荐将样式添加到自己的样式文件中\n  // 若拷贝官方代码，别忘了 npm install insert-css\n\n  (0, _insertCss.default)(\"\\n.ant-btn {\\n  margin-right: 10px;\\n  margin-bottom: 10px;\\n}\\n\");\n});"},{"relativePath":"analysis/conditions/demo/background.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/background.ts","order":1,"filename":"background.ts","title":{"zh":"背景标记","en":"Background condition"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/VbTKRrPLek/03467c3a-b963-4809-a75d-4f20a326777a.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        background: [\n          {\n            field: 'number',\n            mapping() {\n              return {\n                // fill 是背景字段下唯一必须的字段，用于指定文本颜色\n                fill: '#7DAAFF',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.background = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        background: [{\n          field: 'number',\n          mapping: function mapping() {\n            return {\n              // fill 是背景字段下唯一必须的字段，用于指定文本颜色\n              fill: '#7DAAFF'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/icon.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/icon.ts","order":2,"filename":"icon.ts","title":{"zh":"图标标记","en":"Icon condition"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/MYN4V%26K2Kd/0f311e1a-a941-4664-a268-7c4b86c0f4d8.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        icon: [\n          {\n            field: 'number',\n            position: 'right',\n            mapping(fieldValue, data) {\n              return {\n                // icon 用于指定图标条件格式所使用的 icon 类型\n                icon: 'CellUp',\n                fill: '#30BF78',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.icon = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        icon: [{\n          field: 'number',\n          position: 'right',\n          mapping: function mapping(fieldValue, data) {\n            return {\n              // icon 用于指定图标条件格式所使用的 icon 类型\n              icon: 'CellUp',\n              fill: '#30BF78'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/gradient-interval.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/gradient-interval.ts","order":6,"filename":"gradient-interval.ts","title":{"zh":"渐变柱状图","en":"Interval gradient"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/y1IafbmC7W/c79f8906-ca2e-4bbd-b384-e663bde759e4.png","source":"import { PivotSheet } from '@antv/s2';\n\n// 可借助 tinygradient 完成功能更全面的颜色过渡\nfunction getGradient(rate, startColor, endColor) {\n  function toGgb(color) {\n    color = color.slice(1);\n    const r = parseInt(color.substring(0, 2), 16);\n    const g = parseInt(color.substring(2, 4), 16);\n    const b = parseInt(color.substring(4, 6), 16);\n    return [r, g, b];\n  }\n  const start = toGgb(startColor);\n  const end = toGgb(endColor);\n  const r = start[0] + (end[0] - start[0]) * rate;\n  const g = start[1] + (end[1] - start[1]) * rate;\n  const b = start[2] + (end[2] - start[2]) * rate;\n  return `rgb(${r},${g},${b})`;\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        interval: [\n          {\n            field: 'number',\n            mapping(fieldValue) {\n              const maxValue = 7789;\n              const minValue = 352;\n              const rage = (fieldValue - minValue) / (maxValue - minValue);\n\n              const color = getGradient(rage, '#95F0FF', '#3A9DBF');\n              return {\n                fill: `l(0) 0:#95F0FF 1:${color}`,\n                isCompare: true,\n                maxValue,\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.gradientInterval = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  // 可借助 tinygradient 完成功能更全面的颜色过渡\n  function getGradient(rate, startColor, endColor) {\n    function toGgb(color) {\n      color = color.slice(1);\n      var r = parseInt(color.substring(0, 2), 16);\n      var g = parseInt(color.substring(2, 4), 16);\n      var b = parseInt(color.substring(4, 6), 16);\n      return [r, g, b];\n    }\n\n    var start = toGgb(startColor);\n    var end = toGgb(endColor);\n    var r = start[0] + (end[0] - start[0]) * rate;\n    var g = start[1] + (end[1] - start[1]) * rate;\n    var b = start[2] + (end[2] - start[2]) * rate;\n    return \"rgb(\".concat(r, \",\").concat(g, \",\").concat(b, \")\");\n  }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        interval: [{\n          field: 'number',\n          mapping: function mapping(fieldValue) {\n            var maxValue = 7789;\n            var minValue = 352;\n            var rage = (fieldValue - minValue) / (maxValue - minValue);\n            var color = getGradient(rage, '#95F0FF', '#3A9DBF');\n            return {\n              fill: \"l(0) 0:#95F0FF 1:\".concat(color),\n              isCompare: true,\n              maxValue: maxValue\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/bidirectional-interval.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/bidirectional-interval.ts","order":8,"filename":"bidirectional-interval.ts","title":{"zh":"双向柱状图","en":"Bidirectional interval"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/oUICMHjOA/7fd723cb-fc2a-45a5-a0ab-a2840127a48a.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/4e49b398-5121-4f00-9607-4854aedd5a21.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        interval: [\n          {\n            field: 'delta',\n            mapping(value) {\n              return {\n                fill: value >= 0 ? '#80BFFF' : '#F4664A',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.bidirectionalInterval = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/4e49b398-5121-4f00-9607-4854aedd5a21.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        interval: [{\n          field: 'delta',\n          mapping: function mapping(value) {\n            return {\n              fill: value >= 0 ? '#80BFFF' : '#F4664A'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/interval.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/interval.ts","order":3,"filename":"interval.ts","title":{"zh":"柱状图标记","en":"Interval condition"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/ReYpm%24KcI2/b923ab47-cd74-48fe-aae2-1412091d4a31.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        interval: [\n          {\n            field: 'number',\n            mapping() {\n              return {\n                fill: '#80BFFF',\n                // 自定义柱状图范围\n                isCompare: true,\n                maxValue: 8000,\n                minValue: 300,\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.interval = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        interval: [{\n          field: 'number',\n          mapping: function mapping() {\n            return {\n              fill: '#80BFFF',\n              // 自定义柱状图范围\n              isCompare: true,\n              maxValue: 8000,\n              minValue: 300\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/multi-background.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/multi-background.ts","order":5,"filename":"multi-background.ts","title":{"zh":"色块图","en":"Color block diagram"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/lB3TIYL5Lk/624493b6-4d29-429a-a2f7-028d84e128e1.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        text: [\n          {\n            field: 'number',\n            mapping(fieldValue) {\n              if (fieldValue >= 7000) {\n                return {\n                  fill: '#fff',\n                };\n              }\n            },\n          },\n        ],\n        background: [\n          {\n            field: 'number',\n            mapping(fieldValue) {\n              if (fieldValue <= 1397) {\n                return {\n                  fill: '#B8E1FF',\n                };\n              } else if (fieldValue <= 2797) {\n                return {\n                  fill: '#9AC5FF',\n                };\n              } else if (fieldValue <= 4191) {\n                return {\n                  fill: '#7DAAFF',\n                };\n              } else if (fieldValue <= 5588) {\n                return {\n                  fill: '#5B8FF9',\n                };\n              } else if (fieldValue <= 6985) {\n                return {\n                  fill: '#3D76DD',\n                };\n              }\n              return {\n                fill: '#085EC0',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.multiBackground = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        text: [{\n          field: 'number',\n          mapping: function mapping(fieldValue) {\n            if (fieldValue >= 7000) {\n              return {\n                fill: '#fff'\n              };\n            }\n          }\n        }],\n        background: [{\n          field: 'number',\n          mapping: function mapping(fieldValue) {\n            if (fieldValue <= 1397) {\n              return {\n                fill: '#B8E1FF'\n              };\n            } else if (fieldValue <= 2797) {\n              return {\n                fill: '#9AC5FF'\n              };\n            } else if (fieldValue <= 4191) {\n              return {\n                fill: '#7DAAFF'\n              };\n            } else if (fieldValue <= 5588) {\n              return {\n                fill: '#5B8FF9'\n              };\n            } else if (fieldValue <= 6985) {\n              return {\n                fill: '#3D76DD'\n              };\n            }\n\n            return {\n              fill: '#085EC0'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/multi-conditions.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/multi-conditions.ts","order":7,"filename":"multi-conditions.ts","title":{"zh":"混合字段标记","en":"Multi-conditions"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/6FFtlY%240T/792a0865-b01d-4674-a3ef-98da6c5be285.png","source":"import { PivotSheet } from '@antv/s2';\n\n// 可借助 tinygradient 完成功能更全面的颜色过渡\nfunction getGradient(rate, startColor, endColor) {\n  function toGgb(color) {\n    color = color.slice(1);\n    const r = parseInt(color.substring(0, 2), 16);\n    const g = parseInt(color.substring(2, 4), 16);\n    const b = parseInt(color.substring(4, 6), 16);\n    return [r, g, b];\n  }\n  const start = toGgb(startColor);\n  const end = toGgb(endColor);\n  const r = start[0] + (end[0] - start[0]) * rate;\n  const g = start[1] + (end[1] - start[1]) * rate;\n  const b = start[2] + (end[2] - start[2]) * rate;\n  return `rgb(${r},${g},${b})`;\n}\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = dataCfg;\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        text: [\n          {\n            field: 'number',\n            mapping() {\n              return {\n                fill: '#142C61',\n              };\n            },\n          },\n        ],\n        icon: [\n          {\n            field: 'number',\n            position: 'right',\n            mapping() {\n              return {\n                icon: 'Trend',\n                fill: '#142C61',\n              };\n            },\n          },\n        ],\n        background: [\n          {\n            field: 'number',\n            mapping() {\n              return {\n                fill: '#E0E9FD',\n              };\n            },\n          },\n        ],\n        interval: [\n          {\n            field: 'number',\n            mapping(fieldValue) {\n              const maxValue = 7789;\n              const minValue = 0;\n              const rage = (fieldValue - minValue) / (maxValue - minValue);\n\n              const color = getGradient(rage, '#5083F5', '#F7B46F');\n              return {\n                fill: `l(0) 0:#5083F5 1:${color}`,\n                isCompare: true,\n                maxValue,\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({ name: 'colorful' });\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.multiConditions = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  // 可借助 tinygradient 完成功能更全面的颜色过渡\n  function getGradient(rate, startColor, endColor) {\n    function toGgb(color) {\n      color = color.slice(1);\n      var r = parseInt(color.substring(0, 2), 16);\n      var g = parseInt(color.substring(2, 4), 16);\n      var b = parseInt(color.substring(4, 6), 16);\n      return [r, g, b];\n    }\n\n    var start = toGgb(startColor);\n    var end = toGgb(endColor);\n    var r = start[0] + (end[0] - start[0]) * rate;\n    var g = start[1] + (end[1] - start[1]) * rate;\n    var b = start[2] + (end[2] - start[2]) * rate;\n    return \"rgb(\".concat(r, \",\").concat(g, \",\").concat(b, \")\");\n  }\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2DataConfig = dataCfg;\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        text: [{\n          field: 'number',\n          mapping: function mapping() {\n            return {\n              fill: '#142C61'\n            };\n          }\n        }],\n        icon: [{\n          field: 'number',\n          position: 'right',\n          mapping: function mapping() {\n            return {\n              icon: 'Trend',\n              fill: '#142C61'\n            };\n          }\n        }],\n        background: [{\n          field: 'number',\n          mapping: function mapping() {\n            return {\n              fill: '#E0E9FD'\n            };\n          }\n        }],\n        interval: [{\n          field: 'number',\n          mapping: function mapping(fieldValue) {\n            var maxValue = 7789;\n            var minValue = 0;\n            var rage = (fieldValue - minValue) / (maxValue - minValue);\n            var color = getGradient(rage, '#5083F5', '#F7B46F');\n            return {\n              fill: \"l(0) 0:#5083F5 1:\".concat(color),\n              isCompare: true,\n              maxValue: maxValue\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, s2DataConfig, s2Options);\n    s2.setThemeCfg({\n      name: 'colorful'\n    });\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/table-text.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/table-text.ts","order":4,"filename":"table-text.ts","title":{"zh":"明细表文本标记","en":"Table text condition"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/jdTsPFc09l/4795d9f3-f55b-4575-99de-829e0e3ab3db.png","source":"import { TableSheet } from '@antv/s2';\n\nfetch(\n  '../data/basic-table-mode.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const container = document.getElementById('container');\n    const s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost'],\n      },\n      meta: [\n        {\n          field: 'province',\n          name: '省份',\n        },\n        {\n          field: 'city',\n          name: '城市',\n        },\n        {\n          field: 'type',\n          name: '商品类别',\n        },\n        {\n          field: 'price',\n          name: '价格',\n        },\n        {\n          field: 'cost',\n          name: '成本',\n        },\n      ],\n      data,\n    };\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        text: [\n          {\n            field: 'price',\n            mapping(fieldValue, data) {\n              return {\n                fill: '#30BF78',\n              };\n            },\n          },\n          {\n            field: new RegExp('co*'),\n            mapping(fieldValue, data) {\n              return {\n                fill: '#F4664A',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new TableSheet(container, s2DataConfig, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.tableText = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('../data/basic-table-mode.json').then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    var container = document.getElementById('container');\n    var s2DataConfig = {\n      fields: {\n        columns: ['province', 'city', 'type', 'price', 'cost']\n      },\n      meta: [{\n        field: 'province',\n        name: '省份'\n      }, {\n        field: 'city',\n        name: '城市'\n      }, {\n        field: 'type',\n        name: '商品类别'\n      }, {\n        field: 'price',\n        name: '价格'\n      }, {\n        field: 'cost',\n        name: '成本'\n      }],\n      data: data\n    };\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        text: [{\n          field: 'price',\n          mapping: function mapping(fieldValue, data) {\n            return {\n              fill: '#30BF78'\n            };\n          }\n        }, {\n          field: new RegExp('co*'),\n          mapping: function mapping(fieldValue, data) {\n            return {\n              fill: '#F4664A'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.TableSheet(container, s2DataConfig, s2Options);\n    s2.render();\n  });\n});"},{"relativePath":"analysis/conditions/demo/text.ts","absolutePath":"/Users/lijinke/workspace/S2/s2-site/examples/analysis/conditions/demo/text.ts","order":0,"filename":"text.ts","title":{"zh":"文本标记","en":"Text condition"},"screenshot":"https://gw.alipayobjects.com/zos/antfincdn/rZCy7dKodx/e9141f33-2312-467d-954f-b3da98c8793d.png","source":"import { PivotSheet } from '@antv/s2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json',\n)\n  .then((res) => res.json())\n  .then((dataCfg) => {\n    const container = document.getElementById('container');\n\n    const s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false,\n      },\n      conditions: {\n        text: [\n          {\n            field: 'number',\n            mapping() {\n              return {\n                // fill 是文本字段标记下唯一必须的字段，用于指定文本颜色\n                fill: '#5B8FF9',\n              };\n            },\n          },\n        ],\n      },\n    };\n    const s2 = new PivotSheet(container, dataCfg, s2Options);\n\n    s2.render();\n  });\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/s2\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/s2\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.s2);\n    global.text = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_s) {\n  \"use strict\";\n\n  fetch('https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json').then(function (res) {\n    return res.json();\n  }).then(function (dataCfg) {\n    var container = document.getElementById('container');\n    var s2Options = {\n      width: 600,\n      height: 480,\n      interaction: {\n        hoverHighlight: false\n      },\n      conditions: {\n        text: [{\n          field: 'number',\n          mapping: function mapping() {\n            return {\n              // fill 是文本字段标记下唯一必须的字段，用于指定文本颜色\n              fill: '#5B8FF9'\n            };\n          }\n        }]\n      }\n    };\n    var s2 = new _s.PivotSheet(container, dataCfg, s2Options);\n    s2.render();\n  });\n});"}]}},"staticQueryHashes":["1976131296","3000541721","3000541721","3948495422"]}